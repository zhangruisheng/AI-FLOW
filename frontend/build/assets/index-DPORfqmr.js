function t7(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function mg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _h={exports:{}},hl={},bh={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function n7(){if(dv)return We;dv=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function x(O){return O===null||typeof O!="object"?null:(O=m&&O[m]||O["@@iterator"],typeof O=="function"?O:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,v={};function C(O,B,q){this.props=O,this.context=B,this.refs=v,this.updater=q||y}C.prototype.isReactComponent={},C.prototype.setState=function(O,B){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,B,"setState")},C.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function k(){}k.prototype=C.prototype;function E(O,B,q){this.props=O,this.context=B,this.refs=v,this.updater=q||y}var N=E.prototype=new k;N.constructor=E,w(N,C.prototype),N.isPureReactComponent=!0;var j=Array.isArray,P=Object.prototype.hasOwnProperty,L={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function D(O,B,q){var X,ne={},ie=null,ee=null;if(B!=null)for(X in B.ref!==void 0&&(ee=B.ref),B.key!==void 0&&(ie=""+B.key),B)P.call(B,X)&&!T.hasOwnProperty(X)&&(ne[X]=B[X]);var J=arguments.length-2;if(J===1)ne.children=q;else if(1<J){for(var le=Array(J),de=0;de<J;de++)le[de]=arguments[de+2];ne.children=le}if(O&&O.defaultProps)for(X in J=O.defaultProps,J)ne[X]===void 0&&(ne[X]=J[X]);return{$$typeof:e,type:O,key:ie,ref:ee,props:ne,_owner:L.current}}function $(O,B){return{$$typeof:e,type:O.type,key:B,ref:O.ref,props:O.props,_owner:O._owner}}function Y(O){return typeof O=="object"&&O!==null&&O.$$typeof===e}function G(O){var B={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(q){return B[q]})}var V=/\/+/g;function W(O,B){return typeof O=="object"&&O!==null&&O.key!=null?G(""+O.key):B.toString(36)}function z(O,B,q,X,ne){var ie=typeof O;(ie==="undefined"||ie==="boolean")&&(O=null);var ee=!1;if(O===null)ee=!0;else switch(ie){case"string":case"number":ee=!0;break;case"object":switch(O.$$typeof){case e:case t:ee=!0}}if(ee)return ee=O,ne=ne(ee),O=X===""?"."+W(ee,0):X,j(ne)?(q="",O!=null&&(q=O.replace(V,"$&/")+"/"),z(ne,B,q,"",function(de){return de})):ne!=null&&(Y(ne)&&(ne=$(ne,q+(!ne.key||ee&&ee.key===ne.key?"":(""+ne.key).replace(V,"$&/")+"/")+O)),B.push(ne)),1;if(ee=0,X=X===""?".":X+":",j(O))for(var J=0;J<O.length;J++){ie=O[J];var le=X+W(ie,J);ee+=z(ie,B,q,le,ne)}else if(le=x(O),typeof le=="function")for(O=le.call(O),J=0;!(ie=O.next()).done;)ie=ie.value,le=X+W(ie,J++),ee+=z(ie,B,q,le,ne);else if(ie==="object")throw B=String(O),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return ee}function M(O,B,q){if(O==null)return O;var X=[],ne=0;return z(O,X,"","",function(ie){return B.call(q,ie,ne++)}),X}function F(O){if(O._status===-1){var B=O._result;B=B(),B.then(function(q){(O._status===0||O._status===-1)&&(O._status=1,O._result=q)},function(q){(O._status===0||O._status===-1)&&(O._status=2,O._result=q)}),O._status===-1&&(O._status=0,O._result=B)}if(O._status===1)return O._result.default;throw O._result}var H={current:null},R={transition:null},I={ReactCurrentDispatcher:H,ReactCurrentBatchConfig:R,ReactCurrentOwner:L};function U(){throw Error("act(...) is not supported in production builds of React.")}return We.Children={map:M,forEach:function(O,B,q){M(O,function(){B.apply(this,arguments)},q)},count:function(O){var B=0;return M(O,function(){B++}),B},toArray:function(O){return M(O,function(B){return B})||[]},only:function(O){if(!Y(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},We.Component=C,We.Fragment=n,We.Profiler=o,We.PureComponent=E,We.StrictMode=r,We.Suspense=p,We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,We.act=U,We.cloneElement=function(O,B,q){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var X=w({},O.props),ne=O.key,ie=O.ref,ee=O._owner;if(B!=null){if(B.ref!==void 0&&(ie=B.ref,ee=L.current),B.key!==void 0&&(ne=""+B.key),O.type&&O.type.defaultProps)var J=O.type.defaultProps;for(le in B)P.call(B,le)&&!T.hasOwnProperty(le)&&(X[le]=B[le]===void 0&&J!==void 0?J[le]:B[le])}var le=arguments.length-2;if(le===1)X.children=q;else if(1<le){J=Array(le);for(var de=0;de<le;de++)J[de]=arguments[de+2];X.children=J}return{$$typeof:e,type:O.type,key:ne,ref:ie,props:X,_owner:ee}},We.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:a,_context:O},O.Consumer=O},We.createElement=D,We.createFactory=function(O){var B=D.bind(null,O);return B.type=O,B},We.createRef=function(){return{current:null}},We.forwardRef=function(O){return{$$typeof:u,render:O}},We.isValidElement=Y,We.lazy=function(O){return{$$typeof:h,_payload:{_status:-1,_result:O},_init:F}},We.memo=function(O,B){return{$$typeof:f,type:O,compare:B===void 0?null:B}},We.startTransition=function(O){var B=R.transition;R.transition={};try{O()}finally{R.transition=B}},We.unstable_act=U,We.useCallback=function(O,B){return H.current.useCallback(O,B)},We.useContext=function(O){return H.current.useContext(O)},We.useDebugValue=function(){},We.useDeferredValue=function(O){return H.current.useDeferredValue(O)},We.useEffect=function(O,B){return H.current.useEffect(O,B)},We.useId=function(){return H.current.useId()},We.useImperativeHandle=function(O,B,q){return H.current.useImperativeHandle(O,B,q)},We.useInsertionEffect=function(O,B){return H.current.useInsertionEffect(O,B)},We.useLayoutEffect=function(O,B){return H.current.useLayoutEffect(O,B)},We.useMemo=function(O,B){return H.current.useMemo(O,B)},We.useReducer=function(O,B,q){return H.current.useReducer(O,B,q)},We.useRef=function(O){return H.current.useRef(O)},We.useState=function(O){return H.current.useState(O)},We.useSyncExternalStore=function(O,B,q){return H.current.useSyncExternalStore(O,B,q)},We.useTransition=function(){return H.current.useTransition()},We.version="18.3.1",We}var fv;function oc(){return fv||(fv=1,bh.exports=n7()),bh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function r7(){if(pv)return hl;pv=1;var e=oc(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(u,p,f){var h,m={},x=null,y=null;f!==void 0&&(x=""+f),p.key!==void 0&&(x=""+p.key),p.ref!==void 0&&(y=p.ref);for(h in p)r.call(p,h)&&!a.hasOwnProperty(h)&&(m[h]=p[h]);if(u&&u.defaultProps)for(h in p=u.defaultProps,p)m[h]===void 0&&(m[h]=p[h]);return{$$typeof:t,type:u,key:x,ref:y,props:m,_owner:o.current}}return hl.Fragment=n,hl.jsx=c,hl.jsxs=c,hl}var hv;function o7(){return hv||(hv=1,_h.exports=r7()),_h.exports}var l=o7(),Su={},Ch={exports:{}},yn={},kh={exports:{}},Nh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mv;function s7(){return mv||(mv=1,(function(e){function t(R,I){var U=R.length;R.push(I);e:for(;0<U;){var O=U-1>>>1,B=R[O];if(0<o(B,I))R[O]=I,R[U]=B,U=O;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var I=R[0],U=R.pop();if(U!==I){R[0]=U;e:for(var O=0,B=R.length,q=B>>>1;O<q;){var X=2*(O+1)-1,ne=R[X],ie=X+1,ee=R[ie];if(0>o(ne,U))ie<B&&0>o(ee,ne)?(R[O]=ee,R[ie]=U,O=ie):(R[O]=ne,R[X]=U,O=X);else if(ie<B&&0>o(ee,U))R[O]=ee,R[ie]=U,O=ie;else break e}}return I}function o(R,I){var U=R.sortIndex-I.sortIndex;return U!==0?U:R.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var p=[],f=[],h=1,m=null,x=3,y=!1,w=!1,v=!1,C=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(R){for(var I=n(f);I!==null;){if(I.callback===null)r(f);else if(I.startTime<=R)r(f),I.sortIndex=I.expirationTime,t(p,I);else break;I=n(f)}}function j(R){if(v=!1,N(R),!w)if(n(p)!==null)w=!0,F(P);else{var I=n(f);I!==null&&H(j,I.startTime-R)}}function P(R,I){w=!1,v&&(v=!1,k(D),D=-1),y=!0;var U=x;try{for(N(I),m=n(p);m!==null&&(!(m.expirationTime>I)||R&&!G());){var O=m.callback;if(typeof O=="function"){m.callback=null,x=m.priorityLevel;var B=O(m.expirationTime<=I);I=e.unstable_now(),typeof B=="function"?m.callback=B:m===n(p)&&r(p),N(I)}else r(p);m=n(p)}if(m!==null)var q=!0;else{var X=n(f);X!==null&&H(j,X.startTime-I),q=!1}return q}finally{m=null,x=U,y=!1}}var L=!1,T=null,D=-1,$=5,Y=-1;function G(){return!(e.unstable_now()-Y<$)}function V(){if(T!==null){var R=e.unstable_now();Y=R;var I=!0;try{I=T(!0,R)}finally{I?W():(L=!1,T=null)}}else L=!1}var W;if(typeof E=="function")W=function(){E(V)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,M=z.port2;z.port1.onmessage=V,W=function(){M.postMessage(null)}}else W=function(){C(V,0)};function F(R){T=R,L||(L=!0,W())}function H(R,I){D=C(function(){R(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,F(P))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(p)},e.unstable_next=function(R){switch(x){case 1:case 2:case 3:var I=3;break;default:I=x}var U=x;x=I;try{return R()}finally{x=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,I){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var U=x;x=R;try{return I()}finally{x=U}},e.unstable_scheduleCallback=function(R,I,U){var O=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?O+U:O):U=O,R){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=U+B,R={id:h++,callback:I,priorityLevel:R,startTime:U,expirationTime:B,sortIndex:-1},U>O?(R.sortIndex=U,t(f,R),n(p)===null&&R===n(f)&&(v?(k(D),D=-1):v=!0,H(j,U-O))):(R.sortIndex=B,t(p,R),w||y||(w=!0,F(P))),R},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(R){var I=x;return function(){var U=x;x=I;try{return R.apply(this,arguments)}finally{x=U}}}})(Nh)),Nh}var gv;function i7(){return gv||(gv=1,kh.exports=s7()),kh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function a7(){if(xv)return yn;xv=1;var e=oc(),t=i7();function n(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,d=1;d<arguments.length;d++)i+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(s,i){c(s,i),c(s+"Capture",i)}function c(s,i){for(o[s]=i,s=0;s<i.length;s++)r.add(i[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function x(s){return p.call(m,s)?!0:p.call(h,s)?!1:f.test(s)?m[s]=!0:(h[s]=!0,!1)}function y(s,i,d,g){if(d!==null&&d.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return g?!1:d!==null?!d.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function w(s,i,d,g){if(i===null||typeof i>"u"||y(s,i,d,g))return!0;if(g)return!1;if(d!==null)switch(d.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function v(s,i,d,g,_,S,A){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=g,this.attributeNamespace=_,this.mustUseProperty=d,this.propertyName=s,this.type=i,this.sanitizeURL=S,this.removeEmptyString=A}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){C[s]=new v(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];C[i]=new v(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){C[s]=new v(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){C[s]=new v(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){C[s]=new v(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){C[s]=new v(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){C[s]=new v(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){C[s]=new v(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){C[s]=new v(s,5,!1,s.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function E(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(k,E);C[i]=new v(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(k,E);C[i]=new v(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(k,E);C[i]=new v(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){C[s]=new v(s,1,!1,s.toLowerCase(),null,!1,!1)}),C.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){C[s]=new v(s,1,!1,s.toLowerCase(),null,!0,!0)});function N(s,i,d,g){var _=C.hasOwnProperty(i)?C[i]:null;(_!==null?_.type!==0:g||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(w(i,d,_,g)&&(d=null),g||_===null?x(i)&&(d===null?s.removeAttribute(i):s.setAttribute(i,""+d)):_.mustUseProperty?s[_.propertyName]=d===null?_.type===3?!1:"":d:(i=_.attributeName,g=_.attributeNamespace,d===null?s.removeAttribute(i):(_=_.type,d=_===3||_===4&&d===!0?"":""+d,g?s.setAttributeNS(g,i,d):s.setAttribute(i,d))))}var j=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),L=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),G=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),H=Symbol.for("react.offscreen"),R=Symbol.iterator;function I(s){return s===null||typeof s!="object"?null:(s=R&&s[R]||s["@@iterator"],typeof s=="function"?s:null)}var U=Object.assign,O;function B(s){if(O===void 0)try{throw Error()}catch(d){var i=d.stack.trim().match(/\n( *(at )?)/);O=i&&i[1]||""}return`
`+O+s}var q=!1;function X(s,i){if(!s||q)return"";q=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(se){var g=se}Reflect.construct(s,[],i)}else{try{i.call()}catch(se){g=se}s.call(i.prototype)}else{try{throw Error()}catch(se){g=se}s()}}catch(se){if(se&&g&&typeof se.stack=="string"){for(var _=se.stack.split(`
`),S=g.stack.split(`
`),A=_.length-1,K=S.length-1;1<=A&&0<=K&&_[A]!==S[K];)K--;for(;1<=A&&0<=K;A--,K--)if(_[A]!==S[K]){if(A!==1||K!==1)do if(A--,K--,0>K||_[A]!==S[K]){var Z=`
`+_[A].replace(" at new "," at ");return s.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",s.displayName)),Z}while(1<=A&&0<=K);break}}}finally{q=!1,Error.prepareStackTrace=d}return(s=s?s.displayName||s.name:"")?B(s):""}function ne(s){switch(s.tag){case 5:return B(s.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return s=X(s.type,!1),s;case 11:return s=X(s.type.render,!1),s;case 1:return s=X(s.type,!0),s;default:return""}}function ie(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case T:return"Fragment";case L:return"Portal";case $:return"Profiler";case D:return"StrictMode";case W:return"Suspense";case z:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case G:return(s.displayName||"Context")+".Consumer";case Y:return(s._context.displayName||"Context")+".Provider";case V:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case M:return i=s.displayName||null,i!==null?i:ie(s.type)||"Memo";case F:i=s._payload,s=s._init;try{return ie(s(i))}catch{}}return null}function ee(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(i);case 8:return i===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function J(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function le(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function de(s){var i=le(s)?"checked":"value",d=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),g=""+s[i];if(!s.hasOwnProperty(i)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var _=d.get,S=d.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return _.call(this)},set:function(A){g=""+A,S.call(this,A)}}),Object.defineProperty(s,i,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(A){g=""+A},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function me(s){s._valueTracker||(s._valueTracker=de(s))}function te(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var d=i.getValue(),g="";return s&&(g=le(s)?s.checked?"true":"false":s.value),s=g,s!==d?(i.setValue(s),!0):!1}function ae(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function fe(s,i){var d=i.checked;return U({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??s._wrapperState.initialChecked})}function Le(s,i){var d=i.defaultValue==null?"":i.defaultValue,g=i.checked!=null?i.checked:i.defaultChecked;d=J(i.value!=null?i.value:d),s._wrapperState={initialChecked:g,initialValue:d,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Re(s,i){i=i.checked,i!=null&&N(s,"checked",i,!1)}function ce(s,i){Re(s,i);var d=J(i.value),g=i.type;if(d!=null)g==="number"?(d===0&&s.value===""||s.value!=d)&&(s.value=""+d):s.value!==""+d&&(s.value=""+d);else if(g==="submit"||g==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?Ee(s,i.type,d):i.hasOwnProperty("defaultValue")&&Ee(s,i.type,J(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function ye(s,i,d){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var g=i.type;if(!(g!=="submit"&&g!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,d||i===s.value||(s.value=i),s.defaultValue=i}d=s.name,d!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,d!==""&&(s.name=d)}function Ee(s,i,d){(i!=="number"||ae(s.ownerDocument)!==s)&&(d==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+d&&(s.defaultValue=""+d))}var qe=Array.isArray;function Ue(s,i,d,g){if(s=s.options,i){i={};for(var _=0;_<d.length;_++)i["$"+d[_]]=!0;for(d=0;d<s.length;d++)_=i.hasOwnProperty("$"+s[d].value),s[d].selected!==_&&(s[d].selected=_),_&&g&&(s[d].defaultSelected=!0)}else{for(d=""+J(d),i=null,_=0;_<s.length;_++){if(s[_].value===d){s[_].selected=!0,g&&(s[_].defaultSelected=!0);return}i!==null||s[_].disabled||(i=s[_])}i!==null&&(i.selected=!0)}}function _e(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return U({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function we(s,i){var d=i.value;if(d==null){if(d=i.children,i=i.defaultValue,d!=null){if(i!=null)throw Error(n(92));if(qe(d)){if(1<d.length)throw Error(n(93));d=d[0]}i=d}i==null&&(i=""),d=i}s._wrapperState={initialValue:J(d)}}function zt(s,i){var d=J(i.value),g=J(i.defaultValue);d!=null&&(d=""+d,d!==s.value&&(s.value=d),i.defaultValue==null&&s.defaultValue!==d&&(s.defaultValue=d)),g!=null&&(s.defaultValue=""+g)}function $e(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function Qe(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ht(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?Qe(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Pt,Dt=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,d,g,_){MSApp.execUnsafeLocalFunction(function(){return s(i,d,g,_)})}:s})(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(Pt=Pt||document.createElement("div"),Pt.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Pt.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function it(s,i){if(i){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=i;return}}s.textContent=i}var It={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},on=["Webkit","ms","Moz","O"];Object.keys(It).forEach(function(s){on.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),It[i]=It[s]})});function or(s,i,d){return i==null||typeof i=="boolean"||i===""?"":d||typeof i!="number"||i===0||It.hasOwnProperty(s)&&It[s]?(""+i).trim():i+"px"}function kr(s,i){s=s.style;for(var d in i)if(i.hasOwnProperty(d)){var g=d.indexOf("--")===0,_=or(d,i[d],g);d==="float"&&(d="cssFloat"),g?s.setProperty(d,_):s[d]=_}}var Nr=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dn(s,i){if(i){if(Nr[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function Sr(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eo=null;function fn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ys=null,jr=null,sr=null;function ws(s){if(s=Ja(s)){if(typeof ys!="function")throw Error(n(280));var i=s.stateNode;i&&(i=Bc(i),ys(s.stateNode,s.type,i))}}function Fe(s){jr?sr?sr.push(s):sr=[s]:jr=s}function ut(){if(jr){var s=jr,i=sr;if(sr=jr=null,ws(s),i)for(s=0;s<i.length;s++)ws(i[s])}}function _t(s,i){return s(i)}function Ot(){}var Er=!1;function xt(s,i,d){if(Er)return s(i,d);Er=!0;try{return _t(s,i,d)}finally{Er=!1,(jr!==null||sr!==null)&&(Ot(),ut())}}function kt(s,i){var d=s.stateNode;if(d===null)return null;var g=Bc(d);if(g===null)return null;d=g[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(n(231,i,typeof d));return d}var Pr=!1;if(u)try{var Mt={};Object.defineProperty(Mt,"passive",{get:function(){Pr=!0}}),window.addEventListener("test",Mt,Mt),window.removeEventListener("test",Mt,Mt)}catch{Pr=!1}function sn(s,i,d,g,_,S,A,K,Z){var se=Array.prototype.slice.call(arguments,3);try{i.apply(d,se)}catch(pe){this.onError(pe)}}var Ir=!1,pn=null,_s=!1,Ma=null,Lf={onError:function(s){Ir=!0,pn=s}};function Tf(s,i,d,g,_,S,A,K,Z){Ir=!1,pn=null,sn.apply(Lf,arguments)}function Rf(s,i,d,g,_,S,A,K,Z){if(Tf.apply(this,arguments),Ir){if(Ir){var se=pn;Ir=!1,pn=null}else throw Error(n(198));_s||(_s=!0,Ma=se)}}function Mr(s){var i=s,d=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(d=i.return),s=i.return;while(s)}return i.tag===3?d:null}function La(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function Ta(s){if(Mr(s)!==s)throw Error(n(188))}function Af(s){var i=s.alternate;if(!i){if(i=Mr(s),i===null)throw Error(n(188));return i!==s?null:s}for(var d=s,g=i;;){var _=d.return;if(_===null)break;var S=_.alternate;if(S===null){if(g=_.return,g!==null){d=g;continue}break}if(_.child===S.child){for(S=_.child;S;){if(S===d)return Ta(_),s;if(S===g)return Ta(_),i;S=S.sibling}throw Error(n(188))}if(d.return!==g.return)d=_,g=S;else{for(var A=!1,K=_.child;K;){if(K===d){A=!0,d=_,g=S;break}if(K===g){A=!0,g=_,d=S;break}K=K.sibling}if(!A){for(K=S.child;K;){if(K===d){A=!0,d=S,g=_;break}if(K===g){A=!0,g=S,d=_;break}K=K.sibling}if(!A)throw Error(n(189))}}if(d.alternate!==g)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?s:i}function xc(s){return s=Af(s),s!==null?vc(s):null}function vc(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=vc(s);if(i!==null)return i;s=s.sibling}return null}var yc=t.unstable_scheduleCallback,wc=t.unstable_cancelCallback,zf=t.unstable_shouldYield,_c=t.unstable_requestPaint,dt=t.unstable_now,Df=t.unstable_getCurrentPriorityLevel,Ra=t.unstable_ImmediatePriority,bc=t.unstable_UserBlockingPriority,pi=t.unstable_NormalPriority,Of=t.unstable_LowPriority,Cc=t.unstable_IdlePriority,bs=null,Gn=null;function Ff(s){if(Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(bs,s,void 0,(s.current.flags&128)===128)}catch{}}var En=Math.clz32?Math.clz32:Vf,$f=Math.log,Bf=Math.LN2;function Vf(s){return s>>>=0,s===0?32:31-($f(s)/Bf|0)|0}var hi=64,mi=4194304;function Mo(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function gi(s,i){var d=s.pendingLanes;if(d===0)return 0;var g=0,_=s.suspendedLanes,S=s.pingedLanes,A=d&268435455;if(A!==0){var K=A&~_;K!==0?g=Mo(K):(S&=A,S!==0&&(g=Mo(S)))}else A=d&~_,A!==0?g=Mo(A):S!==0&&(g=Mo(S));if(g===0)return 0;if(i!==0&&i!==g&&(i&_)===0&&(_=g&-g,S=i&-i,_>=S||_===16&&(S&4194240)!==0))return i;if((g&4)!==0&&(g|=d&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=g;0<i;)d=31-En(i),_=1<<d,g|=s[d],i&=~_;return g}function kc(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hf(s,i){for(var d=s.suspendedLanes,g=s.pingedLanes,_=s.expirationTimes,S=s.pendingLanes;0<S;){var A=31-En(S),K=1<<A,Z=_[A];Z===-1?((K&d)===0||(K&g)!==0)&&(_[A]=kc(K,i)):Z<=i&&(s.expiredLanes|=K),S&=~K}}function Aa(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function xi(){var s=hi;return hi<<=1,(hi&4194240)===0&&(hi=64),s}function za(s){for(var i=[],d=0;31>d;d++)i.push(s);return i}function Cs(s,i,d){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-En(i),s[i]=d}function Nc(s,i){var d=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var g=s.eventTimes;for(s=s.expirationTimes;0<d;){var _=31-En(d),S=1<<_;i[_]=0,g[_]=-1,s[_]=-1,d&=~S}}function Wf(s,i){var d=s.entangledLanes|=i;for(s=s.entanglements;d;){var g=31-En(d),_=1<<g;_&i|s[g]&i&&(s[g]|=i),d&=~_}}var Ze=0;function H1(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var W1,Uf,U1,G1,Y1,Gf=!1,Sc=[],Lo=null,To=null,Ro=null,Da=new Map,Oa=new Map,Ao=[],C6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function K1(s,i){switch(s){case"focusin":case"focusout":Lo=null;break;case"dragenter":case"dragleave":To=null;break;case"mouseover":case"mouseout":Ro=null;break;case"pointerover":case"pointerout":Da.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oa.delete(i.pointerId)}}function Fa(s,i,d,g,_,S){return s===null||s.nativeEvent!==S?(s={blockedOn:i,domEventName:d,eventSystemFlags:g,nativeEvent:S,targetContainers:[_]},i!==null&&(i=Ja(i),i!==null&&Uf(i)),s):(s.eventSystemFlags|=g,i=s.targetContainers,_!==null&&i.indexOf(_)===-1&&i.push(_),s)}function k6(s,i,d,g,_){switch(i){case"focusin":return Lo=Fa(Lo,s,i,d,g,_),!0;case"dragenter":return To=Fa(To,s,i,d,g,_),!0;case"mouseover":return Ro=Fa(Ro,s,i,d,g,_),!0;case"pointerover":var S=_.pointerId;return Da.set(S,Fa(Da.get(S)||null,s,i,d,g,_)),!0;case"gotpointercapture":return S=_.pointerId,Oa.set(S,Fa(Oa.get(S)||null,s,i,d,g,_)),!0}return!1}function Z1(s){var i=ks(s.target);if(i!==null){var d=Mr(i);if(d!==null){if(i=d.tag,i===13){if(i=La(d),i!==null){s.blockedOn=i,Y1(s.priority,function(){U1(d)});return}}else if(i===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function jc(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var d=Kf(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(d===null){d=s.nativeEvent;var g=new d.constructor(d.type,d);eo=g,d.target.dispatchEvent(g),eo=null}else return i=Ja(d),i!==null&&Uf(i),s.blockedOn=d,!1;i.shift()}return!0}function X1(s,i,d){jc(s)&&d.delete(i)}function N6(){Gf=!1,Lo!==null&&jc(Lo)&&(Lo=null),To!==null&&jc(To)&&(To=null),Ro!==null&&jc(Ro)&&(Ro=null),Da.forEach(X1),Oa.forEach(X1)}function $a(s,i){s.blockedOn===i&&(s.blockedOn=null,Gf||(Gf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,N6)))}function Ba(s){function i(_){return $a(_,s)}if(0<Sc.length){$a(Sc[0],s);for(var d=1;d<Sc.length;d++){var g=Sc[d];g.blockedOn===s&&(g.blockedOn=null)}}for(Lo!==null&&$a(Lo,s),To!==null&&$a(To,s),Ro!==null&&$a(Ro,s),Da.forEach(i),Oa.forEach(i),d=0;d<Ao.length;d++)g=Ao[d],g.blockedOn===s&&(g.blockedOn=null);for(;0<Ao.length&&(d=Ao[0],d.blockedOn===null);)Z1(d),d.blockedOn===null&&Ao.shift()}var vi=j.ReactCurrentBatchConfig,Ec=!0;function S6(s,i,d,g){var _=Ze,S=vi.transition;vi.transition=null;try{Ze=1,Yf(s,i,d,g)}finally{Ze=_,vi.transition=S}}function j6(s,i,d,g){var _=Ze,S=vi.transition;vi.transition=null;try{Ze=4,Yf(s,i,d,g)}finally{Ze=_,vi.transition=S}}function Yf(s,i,d,g){if(Ec){var _=Kf(s,i,d,g);if(_===null)dp(s,i,g,Pc,d),K1(s,g);else if(k6(_,s,i,d,g))g.stopPropagation();else if(K1(s,g),i&4&&-1<C6.indexOf(s)){for(;_!==null;){var S=Ja(_);if(S!==null&&W1(S),S=Kf(s,i,d,g),S===null&&dp(s,i,g,Pc,d),S===_)break;_=S}_!==null&&g.stopPropagation()}else dp(s,i,g,null,d)}}var Pc=null;function Kf(s,i,d,g){if(Pc=null,s=fn(g),s=ks(s),s!==null)if(i=Mr(s),i===null)s=null;else if(d=i.tag,d===13){if(s=La(i),s!==null)return s;s=null}else if(d===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return Pc=s,null}function q1(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Df()){case Ra:return 1;case bc:return 4;case pi:case Of:return 16;case Cc:return 536870912;default:return 16}default:return 16}}var zo=null,Zf=null,Ic=null;function Q1(){if(Ic)return Ic;var s,i=Zf,d=i.length,g,_="value"in zo?zo.value:zo.textContent,S=_.length;for(s=0;s<d&&i[s]===_[s];s++);var A=d-s;for(g=1;g<=A&&i[d-g]===_[S-g];g++);return Ic=_.slice(s,1<g?1-g:void 0)}function Mc(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Lc(){return!0}function J1(){return!1}function Pn(s){function i(d,g,_,S,A){this._reactName=d,this._targetInst=_,this.type=g,this.nativeEvent=S,this.target=A,this.currentTarget=null;for(var K in s)s.hasOwnProperty(K)&&(d=s[K],this[K]=d?d(S):S[K]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Lc:J1,this.isPropagationStopped=J1,this}return U(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Lc)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Lc)},persist:function(){},isPersistent:Lc}),i}var yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xf=Pn(yi),Va=U({},yi,{view:0,detail:0}),E6=Pn(Va),qf,Qf,Ha,Tc=U({},Va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ep,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ha&&(Ha&&s.type==="mousemove"?(qf=s.screenX-Ha.screenX,Qf=s.screenY-Ha.screenY):Qf=qf=0,Ha=s),qf)},movementY:function(s){return"movementY"in s?s.movementY:Qf}}),e0=Pn(Tc),P6=U({},Tc,{dataTransfer:0}),I6=Pn(P6),M6=U({},Va,{relatedTarget:0}),Jf=Pn(M6),L6=U({},yi,{animationName:0,elapsedTime:0,pseudoElement:0}),T6=Pn(L6),R6=U({},yi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),A6=Pn(R6),z6=U({},yi,{data:0}),t0=Pn(z6),D6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $6(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=F6[s])?!!i[s]:!1}function ep(){return $6}var B6=U({},Va,{key:function(s){if(s.key){var i=D6[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Mc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?O6[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ep,charCode:function(s){return s.type==="keypress"?Mc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Mc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),V6=Pn(B6),H6=U({},Tc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),n0=Pn(H6),W6=U({},Va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ep}),U6=Pn(W6),G6=U({},yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Y6=Pn(G6),K6=U({},Tc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Z6=Pn(K6),X6=[9,13,27,32],tp=u&&"CompositionEvent"in window,Wa=null;u&&"documentMode"in document&&(Wa=document.documentMode);var q6=u&&"TextEvent"in window&&!Wa,r0=u&&(!tp||Wa&&8<Wa&&11>=Wa),o0=" ",s0=!1;function i0(s,i){switch(s){case"keyup":return X6.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function a0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var wi=!1;function Q6(s,i){switch(s){case"compositionend":return a0(i);case"keypress":return i.which!==32?null:(s0=!0,o0);case"textInput":return s=i.data,s===o0&&s0?null:s;default:return null}}function J6(s,i){if(wi)return s==="compositionend"||!tp&&i0(s,i)?(s=Q1(),Ic=Zf=zo=null,wi=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return r0&&i.locale!=="ko"?null:i.data;default:return null}}var e8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function l0(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!e8[s.type]:i==="textarea"}function c0(s,i,d,g){Fe(g),i=Oc(i,"onChange"),0<i.length&&(d=new Xf("onChange","change",null,d,g),s.push({event:d,listeners:i}))}var Ua=null,Ga=null;function t8(s){j0(s,0)}function Rc(s){var i=Ni(s);if(te(i))return s}function n8(s,i){if(s==="change")return i}var u0=!1;if(u){var np;if(u){var rp="oninput"in document;if(!rp){var d0=document.createElement("div");d0.setAttribute("oninput","return;"),rp=typeof d0.oninput=="function"}np=rp}else np=!1;u0=np&&(!document.documentMode||9<document.documentMode)}function f0(){Ua&&(Ua.detachEvent("onpropertychange",p0),Ga=Ua=null)}function p0(s){if(s.propertyName==="value"&&Rc(Ga)){var i=[];c0(i,Ga,s,fn(s)),xt(t8,i)}}function r8(s,i,d){s==="focusin"?(f0(),Ua=i,Ga=d,Ua.attachEvent("onpropertychange",p0)):s==="focusout"&&f0()}function o8(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Rc(Ga)}function s8(s,i){if(s==="click")return Rc(i)}function i8(s,i){if(s==="input"||s==="change")return Rc(i)}function a8(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var ir=typeof Object.is=="function"?Object.is:a8;function Ya(s,i){if(ir(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var d=Object.keys(s),g=Object.keys(i);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var _=d[g];if(!p.call(i,_)||!ir(s[_],i[_]))return!1}return!0}function h0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function m0(s,i){var d=h0(s);s=0;for(var g;d;){if(d.nodeType===3){if(g=s+d.textContent.length,s<=i&&g>=i)return{node:d,offset:i-s};s=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=h0(d)}}function g0(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?g0(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function x0(){for(var s=window,i=ae();i instanceof s.HTMLIFrameElement;){try{var d=typeof i.contentWindow.location.href=="string"}catch{d=!1}if(d)s=i.contentWindow;else break;i=ae(s.document)}return i}function op(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function l8(s){var i=x0(),d=s.focusedElem,g=s.selectionRange;if(i!==d&&d&&d.ownerDocument&&g0(d.ownerDocument.documentElement,d)){if(g!==null&&op(d)){if(i=g.start,s=g.end,s===void 0&&(s=i),"selectionStart"in d)d.selectionStart=i,d.selectionEnd=Math.min(s,d.value.length);else if(s=(i=d.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var _=d.textContent.length,S=Math.min(g.start,_);g=g.end===void 0?S:Math.min(g.end,_),!s.extend&&S>g&&(_=g,g=S,S=_),_=m0(d,S);var A=m0(d,g);_&&A&&(s.rangeCount!==1||s.anchorNode!==_.node||s.anchorOffset!==_.offset||s.focusNode!==A.node||s.focusOffset!==A.offset)&&(i=i.createRange(),i.setStart(_.node,_.offset),s.removeAllRanges(),S>g?(s.addRange(i),s.extend(A.node,A.offset)):(i.setEnd(A.node,A.offset),s.addRange(i)))}}for(i=[],s=d;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<i.length;d++)s=i[d],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var c8=u&&"documentMode"in document&&11>=document.documentMode,_i=null,sp=null,Ka=null,ip=!1;function v0(s,i,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;ip||_i==null||_i!==ae(g)||(g=_i,"selectionStart"in g&&op(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Ka&&Ya(Ka,g)||(Ka=g,g=Oc(sp,"onSelect"),0<g.length&&(i=new Xf("onSelect","select",null,i,d),s.push({event:i,listeners:g}),i.target=_i)))}function Ac(s,i){var d={};return d[s.toLowerCase()]=i.toLowerCase(),d["Webkit"+s]="webkit"+i,d["Moz"+s]="moz"+i,d}var bi={animationend:Ac("Animation","AnimationEnd"),animationiteration:Ac("Animation","AnimationIteration"),animationstart:Ac("Animation","AnimationStart"),transitionend:Ac("Transition","TransitionEnd")},ap={},y0={};u&&(y0=document.createElement("div").style,"AnimationEvent"in window||(delete bi.animationend.animation,delete bi.animationiteration.animation,delete bi.animationstart.animation),"TransitionEvent"in window||delete bi.transitionend.transition);function zc(s){if(ap[s])return ap[s];if(!bi[s])return s;var i=bi[s],d;for(d in i)if(i.hasOwnProperty(d)&&d in y0)return ap[s]=i[d];return s}var w0=zc("animationend"),_0=zc("animationiteration"),b0=zc("animationstart"),C0=zc("transitionend"),k0=new Map,N0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Do(s,i){k0.set(s,i),a(i,[s])}for(var lp=0;lp<N0.length;lp++){var cp=N0[lp],u8=cp.toLowerCase(),d8=cp[0].toUpperCase()+cp.slice(1);Do(u8,"on"+d8)}Do(w0,"onAnimationEnd"),Do(_0,"onAnimationIteration"),Do(b0,"onAnimationStart"),Do("dblclick","onDoubleClick"),Do("focusin","onFocus"),Do("focusout","onBlur"),Do(C0,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Za));function S0(s,i,d){var g=s.type||"unknown-event";s.currentTarget=d,Rf(g,i,void 0,s),s.currentTarget=null}function j0(s,i){i=(i&4)!==0;for(var d=0;d<s.length;d++){var g=s[d],_=g.event;g=g.listeners;e:{var S=void 0;if(i)for(var A=g.length-1;0<=A;A--){var K=g[A],Z=K.instance,se=K.currentTarget;if(K=K.listener,Z!==S&&_.isPropagationStopped())break e;S0(_,K,se),S=Z}else for(A=0;A<g.length;A++){if(K=g[A],Z=K.instance,se=K.currentTarget,K=K.listener,Z!==S&&_.isPropagationStopped())break e;S0(_,K,se),S=Z}}}if(_s)throw s=Ma,_s=!1,Ma=null,s}function nt(s,i){var d=i[xp];d===void 0&&(d=i[xp]=new Set);var g=s+"__bubble";d.has(g)||(E0(i,s,2,!1),d.add(g))}function up(s,i,d){var g=0;i&&(g|=4),E0(d,s,g,i)}var Dc="_reactListening"+Math.random().toString(36).slice(2);function Xa(s){if(!s[Dc]){s[Dc]=!0,r.forEach(function(d){d!=="selectionchange"&&(f8.has(d)||up(d,!1,s),up(d,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Dc]||(i[Dc]=!0,up("selectionchange",!1,i))}}function E0(s,i,d,g){switch(q1(i)){case 1:var _=S6;break;case 4:_=j6;break;default:_=Yf}d=_.bind(null,i,d,s),_=void 0,!Pr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(_=!0),g?_!==void 0?s.addEventListener(i,d,{capture:!0,passive:_}):s.addEventListener(i,d,!0):_!==void 0?s.addEventListener(i,d,{passive:_}):s.addEventListener(i,d,!1)}function dp(s,i,d,g,_){var S=g;if((i&1)===0&&(i&2)===0&&g!==null)e:for(;;){if(g===null)return;var A=g.tag;if(A===3||A===4){var K=g.stateNode.containerInfo;if(K===_||K.nodeType===8&&K.parentNode===_)break;if(A===4)for(A=g.return;A!==null;){var Z=A.tag;if((Z===3||Z===4)&&(Z=A.stateNode.containerInfo,Z===_||Z.nodeType===8&&Z.parentNode===_))return;A=A.return}for(;K!==null;){if(A=ks(K),A===null)return;if(Z=A.tag,Z===5||Z===6){g=S=A;continue e}K=K.parentNode}}g=g.return}xt(function(){var se=S,pe=fn(d),he=[];e:{var ue=k0.get(s);if(ue!==void 0){var be=Xf,Ne=s;switch(s){case"keypress":if(Mc(d)===0)break e;case"keydown":case"keyup":be=V6;break;case"focusin":Ne="focus",be=Jf;break;case"focusout":Ne="blur",be=Jf;break;case"beforeblur":case"afterblur":be=Jf;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=e0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=I6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=U6;break;case w0:case _0:case b0:be=T6;break;case C0:be=Y6;break;case"scroll":be=E6;break;case"wheel":be=Z6;break;case"copy":case"cut":case"paste":be=A6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=n0}var Pe=(i&4)!==0,bt=!Pe&&s==="scroll",re=Pe?ue!==null?ue+"Capture":null:ue;Pe=[];for(var Q=se,oe;Q!==null;){oe=Q;var xe=oe.stateNode;if(oe.tag===5&&xe!==null&&(oe=xe,re!==null&&(xe=kt(Q,re),xe!=null&&Pe.push(qa(Q,xe,oe)))),bt)break;Q=Q.return}0<Pe.length&&(ue=new be(ue,Ne,null,d,pe),he.push({event:ue,listeners:Pe}))}}if((i&7)===0){e:{if(ue=s==="mouseover"||s==="pointerover",be=s==="mouseout"||s==="pointerout",ue&&d!==eo&&(Ne=d.relatedTarget||d.fromElement)&&(ks(Ne)||Ne[to]))break e;if((be||ue)&&(ue=pe.window===pe?pe:(ue=pe.ownerDocument)?ue.defaultView||ue.parentWindow:window,be?(Ne=d.relatedTarget||d.toElement,be=se,Ne=Ne?ks(Ne):null,Ne!==null&&(bt=Mr(Ne),Ne!==bt||Ne.tag!==5&&Ne.tag!==6)&&(Ne=null)):(be=null,Ne=se),be!==Ne)){if(Pe=e0,xe="onMouseLeave",re="onMouseEnter",Q="mouse",(s==="pointerout"||s==="pointerover")&&(Pe=n0,xe="onPointerLeave",re="onPointerEnter",Q="pointer"),bt=be==null?ue:Ni(be),oe=Ne==null?ue:Ni(Ne),ue=new Pe(xe,Q+"leave",be,d,pe),ue.target=bt,ue.relatedTarget=oe,xe=null,ks(pe)===se&&(Pe=new Pe(re,Q+"enter",Ne,d,pe),Pe.target=oe,Pe.relatedTarget=bt,xe=Pe),bt=xe,be&&Ne)t:{for(Pe=be,re=Ne,Q=0,oe=Pe;oe;oe=Ci(oe))Q++;for(oe=0,xe=re;xe;xe=Ci(xe))oe++;for(;0<Q-oe;)Pe=Ci(Pe),Q--;for(;0<oe-Q;)re=Ci(re),oe--;for(;Q--;){if(Pe===re||re!==null&&Pe===re.alternate)break t;Pe=Ci(Pe),re=Ci(re)}Pe=null}else Pe=null;be!==null&&P0(he,ue,be,Pe,!1),Ne!==null&&bt!==null&&P0(he,bt,Ne,Pe,!0)}}e:{if(ue=se?Ni(se):window,be=ue.nodeName&&ue.nodeName.toLowerCase(),be==="select"||be==="input"&&ue.type==="file")var Ie=n8;else if(l0(ue))if(u0)Ie=i8;else{Ie=o8;var Ae=r8}else(be=ue.nodeName)&&be.toLowerCase()==="input"&&(ue.type==="checkbox"||ue.type==="radio")&&(Ie=s8);if(Ie&&(Ie=Ie(s,se))){c0(he,Ie,d,pe);break e}Ae&&Ae(s,ue,se),s==="focusout"&&(Ae=ue._wrapperState)&&Ae.controlled&&ue.type==="number"&&Ee(ue,"number",ue.value)}switch(Ae=se?Ni(se):window,s){case"focusin":(l0(Ae)||Ae.contentEditable==="true")&&(_i=Ae,sp=se,Ka=null);break;case"focusout":Ka=sp=_i=null;break;case"mousedown":ip=!0;break;case"contextmenu":case"mouseup":case"dragend":ip=!1,v0(he,d,pe);break;case"selectionchange":if(c8)break;case"keydown":case"keyup":v0(he,d,pe)}var ze;if(tp)e:{switch(s){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else wi?i0(s,d)&&(Oe="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(Oe="onCompositionStart");Oe&&(r0&&d.locale!=="ko"&&(wi||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&wi&&(ze=Q1()):(zo=pe,Zf="value"in zo?zo.value:zo.textContent,wi=!0)),Ae=Oc(se,Oe),0<Ae.length&&(Oe=new t0(Oe,s,null,d,pe),he.push({event:Oe,listeners:Ae}),ze?Oe.data=ze:(ze=a0(d),ze!==null&&(Oe.data=ze)))),(ze=q6?Q6(s,d):J6(s,d))&&(se=Oc(se,"onBeforeInput"),0<se.length&&(pe=new t0("onBeforeInput","beforeinput",null,d,pe),he.push({event:pe,listeners:se}),pe.data=ze))}j0(he,i)})}function qa(s,i,d){return{instance:s,listener:i,currentTarget:d}}function Oc(s,i){for(var d=i+"Capture",g=[];s!==null;){var _=s,S=_.stateNode;_.tag===5&&S!==null&&(_=S,S=kt(s,d),S!=null&&g.unshift(qa(s,S,_)),S=kt(s,i),S!=null&&g.push(qa(s,S,_))),s=s.return}return g}function Ci(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function P0(s,i,d,g,_){for(var S=i._reactName,A=[];d!==null&&d!==g;){var K=d,Z=K.alternate,se=K.stateNode;if(Z!==null&&Z===g)break;K.tag===5&&se!==null&&(K=se,_?(Z=kt(d,S),Z!=null&&A.unshift(qa(d,Z,K))):_||(Z=kt(d,S),Z!=null&&A.push(qa(d,Z,K)))),d=d.return}A.length!==0&&s.push({event:i,listeners:A})}var p8=/\r\n?/g,h8=/\u0000|\uFFFD/g;function I0(s){return(typeof s=="string"?s:""+s).replace(p8,`
`).replace(h8,"")}function Fc(s,i,d){if(i=I0(i),I0(s)!==i&&d)throw Error(n(425))}function $c(){}var fp=null,pp=null;function hp(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var mp=typeof setTimeout=="function"?setTimeout:void 0,m8=typeof clearTimeout=="function"?clearTimeout:void 0,M0=typeof Promise=="function"?Promise:void 0,g8=typeof queueMicrotask=="function"?queueMicrotask:typeof M0<"u"?function(s){return M0.resolve(null).then(s).catch(x8)}:mp;function x8(s){setTimeout(function(){throw s})}function gp(s,i){var d=i,g=0;do{var _=d.nextSibling;if(s.removeChild(d),_&&_.nodeType===8)if(d=_.data,d==="/$"){if(g===0){s.removeChild(_),Ba(i);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=_}while(d);Ba(i)}function Oo(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function L0(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"){if(i===0)return s;i--}else d==="/$"&&i++}s=s.previousSibling}return null}var ki=Math.random().toString(36).slice(2),Lr="__reactFiber$"+ki,Qa="__reactProps$"+ki,to="__reactContainer$"+ki,xp="__reactEvents$"+ki,v8="__reactListeners$"+ki,y8="__reactHandles$"+ki;function ks(s){var i=s[Lr];if(i)return i;for(var d=s.parentNode;d;){if(i=d[to]||d[Lr]){if(d=i.alternate,i.child!==null||d!==null&&d.child!==null)for(s=L0(s);s!==null;){if(d=s[Lr])return d;s=L0(s)}return i}s=d,d=s.parentNode}return null}function Ja(s){return s=s[Lr]||s[to],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ni(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Bc(s){return s[Qa]||null}var vp=[],Si=-1;function Fo(s){return{current:s}}function rt(s){0>Si||(s.current=vp[Si],vp[Si]=null,Si--)}function tt(s,i){Si++,vp[Si]=s.current,s.current=i}var $o={},Xt=Fo($o),hn=Fo(!1),Ns=$o;function ji(s,i){var d=s.type.contextTypes;if(!d)return $o;var g=s.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===i)return g.__reactInternalMemoizedMaskedChildContext;var _={},S;for(S in d)_[S]=i[S];return g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=_),_}function mn(s){return s=s.childContextTypes,s!=null}function Vc(){rt(hn),rt(Xt)}function T0(s,i,d){if(Xt.current!==$o)throw Error(n(168));tt(Xt,i),tt(hn,d)}function R0(s,i,d){var g=s.stateNode;if(i=i.childContextTypes,typeof g.getChildContext!="function")return d;g=g.getChildContext();for(var _ in g)if(!(_ in i))throw Error(n(108,ee(s)||"Unknown",_));return U({},d,g)}function Hc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||$o,Ns=Xt.current,tt(Xt,s),tt(hn,hn.current),!0}function A0(s,i,d){var g=s.stateNode;if(!g)throw Error(n(169));d?(s=R0(s,i,Ns),g.__reactInternalMemoizedMergedChildContext=s,rt(hn),rt(Xt),tt(Xt,s)):rt(hn),tt(hn,d)}var no=null,Wc=!1,yp=!1;function z0(s){no===null?no=[s]:no.push(s)}function w8(s){Wc=!0,z0(s)}function Bo(){if(!yp&&no!==null){yp=!0;var s=0,i=Ze;try{var d=no;for(Ze=1;s<d.length;s++){var g=d[s];do g=g(!0);while(g!==null)}no=null,Wc=!1}catch(_){throw no!==null&&(no=no.slice(s+1)),yc(Ra,Bo),_}finally{Ze=i,yp=!1}}return null}var Ei=[],Pi=0,Uc=null,Gc=0,Yn=[],Kn=0,Ss=null,ro=1,oo="";function js(s,i){Ei[Pi++]=Gc,Ei[Pi++]=Uc,Uc=s,Gc=i}function D0(s,i,d){Yn[Kn++]=ro,Yn[Kn++]=oo,Yn[Kn++]=Ss,Ss=s;var g=ro;s=oo;var _=32-En(g)-1;g&=~(1<<_),d+=1;var S=32-En(i)+_;if(30<S){var A=_-_%5;S=(g&(1<<A)-1).toString(32),g>>=A,_-=A,ro=1<<32-En(i)+_|d<<_|g,oo=S+s}else ro=1<<S|d<<_|g,oo=s}function wp(s){s.return!==null&&(js(s,1),D0(s,1,0))}function _p(s){for(;s===Uc;)Uc=Ei[--Pi],Ei[Pi]=null,Gc=Ei[--Pi],Ei[Pi]=null;for(;s===Ss;)Ss=Yn[--Kn],Yn[Kn]=null,oo=Yn[--Kn],Yn[Kn]=null,ro=Yn[--Kn],Yn[Kn]=null}var In=null,Mn=null,at=!1,ar=null;function O0(s,i){var d=Qn(5,null,null,0);d.elementType="DELETED",d.stateNode=i,d.return=s,i=s.deletions,i===null?(s.deletions=[d],s.flags|=16):i.push(d)}function F0(s,i){switch(s.tag){case 5:var d=s.type;return i=i.nodeType!==1||d.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,In=s,Mn=Oo(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,In=s,Mn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(d=Ss!==null?{id:ro,overflow:oo}:null,s.memoizedState={dehydrated:i,treeContext:d,retryLane:1073741824},d=Qn(18,null,null,0),d.stateNode=i,d.return=s,s.child=d,In=s,Mn=null,!0):!1;default:return!1}}function bp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Cp(s){if(at){var i=Mn;if(i){var d=i;if(!F0(s,i)){if(bp(s))throw Error(n(418));i=Oo(d.nextSibling);var g=In;i&&F0(s,i)?O0(g,d):(s.flags=s.flags&-4097|2,at=!1,In=s)}}else{if(bp(s))throw Error(n(418));s.flags=s.flags&-4097|2,at=!1,In=s}}}function $0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;In=s}function Yc(s){if(s!==In)return!1;if(!at)return $0(s),at=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!hp(s.type,s.memoizedProps)),i&&(i=Mn)){if(bp(s))throw B0(),Error(n(418));for(;i;)O0(s,i),i=Oo(i.nextSibling)}if($0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"){if(i===0){Mn=Oo(s.nextSibling);break e}i--}else d!=="$"&&d!=="$!"&&d!=="$?"||i++}s=s.nextSibling}Mn=null}}else Mn=In?Oo(s.stateNode.nextSibling):null;return!0}function B0(){for(var s=Mn;s;)s=Oo(s.nextSibling)}function Ii(){Mn=In=null,at=!1}function kp(s){ar===null?ar=[s]:ar.push(s)}var _8=j.ReactCurrentBatchConfig;function el(s,i,d){if(s=d.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var g=d.stateNode}if(!g)throw Error(n(147,s));var _=g,S=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===S?i.ref:(i=function(A){var K=_.refs;A===null?delete K[S]:K[S]=A},i._stringRef=S,i)}if(typeof s!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,s))}return s}function Kc(s,i){throw s=Object.prototype.toString.call(i),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function V0(s){var i=s._init;return i(s._payload)}function H0(s){function i(re,Q){if(s){var oe=re.deletions;oe===null?(re.deletions=[Q],re.flags|=16):oe.push(Q)}}function d(re,Q){if(!s)return null;for(;Q!==null;)i(re,Q),Q=Q.sibling;return null}function g(re,Q){for(re=new Map;Q!==null;)Q.key!==null?re.set(Q.key,Q):re.set(Q.index,Q),Q=Q.sibling;return re}function _(re,Q){return re=Zo(re,Q),re.index=0,re.sibling=null,re}function S(re,Q,oe){return re.index=oe,s?(oe=re.alternate,oe!==null?(oe=oe.index,oe<Q?(re.flags|=2,Q):oe):(re.flags|=2,Q)):(re.flags|=1048576,Q)}function A(re){return s&&re.alternate===null&&(re.flags|=2),re}function K(re,Q,oe,xe){return Q===null||Q.tag!==6?(Q=mh(oe,re.mode,xe),Q.return=re,Q):(Q=_(Q,oe),Q.return=re,Q)}function Z(re,Q,oe,xe){var Ie=oe.type;return Ie===T?pe(re,Q,oe.props.children,xe,oe.key):Q!==null&&(Q.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===F&&V0(Ie)===Q.type)?(xe=_(Q,oe.props),xe.ref=el(re,Q,oe),xe.return=re,xe):(xe=vu(oe.type,oe.key,oe.props,null,re.mode,xe),xe.ref=el(re,Q,oe),xe.return=re,xe)}function se(re,Q,oe,xe){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==oe.containerInfo||Q.stateNode.implementation!==oe.implementation?(Q=gh(oe,re.mode,xe),Q.return=re,Q):(Q=_(Q,oe.children||[]),Q.return=re,Q)}function pe(re,Q,oe,xe,Ie){return Q===null||Q.tag!==7?(Q=As(oe,re.mode,xe,Ie),Q.return=re,Q):(Q=_(Q,oe),Q.return=re,Q)}function he(re,Q,oe){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Q=mh(""+Q,re.mode,oe),Q.return=re,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case P:return oe=vu(Q.type,Q.key,Q.props,null,re.mode,oe),oe.ref=el(re,null,Q),oe.return=re,oe;case L:return Q=gh(Q,re.mode,oe),Q.return=re,Q;case F:var xe=Q._init;return he(re,xe(Q._payload),oe)}if(qe(Q)||I(Q))return Q=As(Q,re.mode,oe,null),Q.return=re,Q;Kc(re,Q)}return null}function ue(re,Q,oe,xe){var Ie=Q!==null?Q.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return Ie!==null?null:K(re,Q,""+oe,xe);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case P:return oe.key===Ie?Z(re,Q,oe,xe):null;case L:return oe.key===Ie?se(re,Q,oe,xe):null;case F:return Ie=oe._init,ue(re,Q,Ie(oe._payload),xe)}if(qe(oe)||I(oe))return Ie!==null?null:pe(re,Q,oe,xe,null);Kc(re,oe)}return null}function be(re,Q,oe,xe,Ie){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return re=re.get(oe)||null,K(Q,re,""+xe,Ie);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case P:return re=re.get(xe.key===null?oe:xe.key)||null,Z(Q,re,xe,Ie);case L:return re=re.get(xe.key===null?oe:xe.key)||null,se(Q,re,xe,Ie);case F:var Ae=xe._init;return be(re,Q,oe,Ae(xe._payload),Ie)}if(qe(xe)||I(xe))return re=re.get(oe)||null,pe(Q,re,xe,Ie,null);Kc(Q,xe)}return null}function Ne(re,Q,oe,xe){for(var Ie=null,Ae=null,ze=Q,Oe=Q=0,Bt=null;ze!==null&&Oe<oe.length;Oe++){ze.index>Oe?(Bt=ze,ze=null):Bt=ze.sibling;var Ke=ue(re,ze,oe[Oe],xe);if(Ke===null){ze===null&&(ze=Bt);break}s&&ze&&Ke.alternate===null&&i(re,ze),Q=S(Ke,Q,Oe),Ae===null?Ie=Ke:Ae.sibling=Ke,Ae=Ke,ze=Bt}if(Oe===oe.length)return d(re,ze),at&&js(re,Oe),Ie;if(ze===null){for(;Oe<oe.length;Oe++)ze=he(re,oe[Oe],xe),ze!==null&&(Q=S(ze,Q,Oe),Ae===null?Ie=ze:Ae.sibling=ze,Ae=ze);return at&&js(re,Oe),Ie}for(ze=g(re,ze);Oe<oe.length;Oe++)Bt=be(ze,re,Oe,oe[Oe],xe),Bt!==null&&(s&&Bt.alternate!==null&&ze.delete(Bt.key===null?Oe:Bt.key),Q=S(Bt,Q,Oe),Ae===null?Ie=Bt:Ae.sibling=Bt,Ae=Bt);return s&&ze.forEach(function(Xo){return i(re,Xo)}),at&&js(re,Oe),Ie}function Pe(re,Q,oe,xe){var Ie=I(oe);if(typeof Ie!="function")throw Error(n(150));if(oe=Ie.call(oe),oe==null)throw Error(n(151));for(var Ae=Ie=null,ze=Q,Oe=Q=0,Bt=null,Ke=oe.next();ze!==null&&!Ke.done;Oe++,Ke=oe.next()){ze.index>Oe?(Bt=ze,ze=null):Bt=ze.sibling;var Xo=ue(re,ze,Ke.value,xe);if(Xo===null){ze===null&&(ze=Bt);break}s&&ze&&Xo.alternate===null&&i(re,ze),Q=S(Xo,Q,Oe),Ae===null?Ie=Xo:Ae.sibling=Xo,Ae=Xo,ze=Bt}if(Ke.done)return d(re,ze),at&&js(re,Oe),Ie;if(ze===null){for(;!Ke.done;Oe++,Ke=oe.next())Ke=he(re,Ke.value,xe),Ke!==null&&(Q=S(Ke,Q,Oe),Ae===null?Ie=Ke:Ae.sibling=Ke,Ae=Ke);return at&&js(re,Oe),Ie}for(ze=g(re,ze);!Ke.done;Oe++,Ke=oe.next())Ke=be(ze,re,Oe,Ke.value,xe),Ke!==null&&(s&&Ke.alternate!==null&&ze.delete(Ke.key===null?Oe:Ke.key),Q=S(Ke,Q,Oe),Ae===null?Ie=Ke:Ae.sibling=Ke,Ae=Ke);return s&&ze.forEach(function(e7){return i(re,e7)}),at&&js(re,Oe),Ie}function bt(re,Q,oe,xe){if(typeof oe=="object"&&oe!==null&&oe.type===T&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case P:e:{for(var Ie=oe.key,Ae=Q;Ae!==null;){if(Ae.key===Ie){if(Ie=oe.type,Ie===T){if(Ae.tag===7){d(re,Ae.sibling),Q=_(Ae,oe.props.children),Q.return=re,re=Q;break e}}else if(Ae.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===F&&V0(Ie)===Ae.type){d(re,Ae.sibling),Q=_(Ae,oe.props),Q.ref=el(re,Ae,oe),Q.return=re,re=Q;break e}d(re,Ae);break}else i(re,Ae);Ae=Ae.sibling}oe.type===T?(Q=As(oe.props.children,re.mode,xe,oe.key),Q.return=re,re=Q):(xe=vu(oe.type,oe.key,oe.props,null,re.mode,xe),xe.ref=el(re,Q,oe),xe.return=re,re=xe)}return A(re);case L:e:{for(Ae=oe.key;Q!==null;){if(Q.key===Ae)if(Q.tag===4&&Q.stateNode.containerInfo===oe.containerInfo&&Q.stateNode.implementation===oe.implementation){d(re,Q.sibling),Q=_(Q,oe.children||[]),Q.return=re,re=Q;break e}else{d(re,Q);break}else i(re,Q);Q=Q.sibling}Q=gh(oe,re.mode,xe),Q.return=re,re=Q}return A(re);case F:return Ae=oe._init,bt(re,Q,Ae(oe._payload),xe)}if(qe(oe))return Ne(re,Q,oe,xe);if(I(oe))return Pe(re,Q,oe,xe);Kc(re,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,Q!==null&&Q.tag===6?(d(re,Q.sibling),Q=_(Q,oe),Q.return=re,re=Q):(d(re,Q),Q=mh(oe,re.mode,xe),Q.return=re,re=Q),A(re)):d(re,Q)}return bt}var Mi=H0(!0),W0=H0(!1),Zc=Fo(null),Xc=null,Li=null,Np=null;function Sp(){Np=Li=Xc=null}function jp(s){var i=Zc.current;rt(Zc),s._currentValue=i}function Ep(s,i,d){for(;s!==null;){var g=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,g!==null&&(g.childLanes|=i)):g!==null&&(g.childLanes&i)!==i&&(g.childLanes|=i),s===d)break;s=s.return}}function Ti(s,i){Xc=s,Np=Li=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(gn=!0),s.firstContext=null)}function Zn(s){var i=s._currentValue;if(Np!==s)if(s={context:s,memoizedValue:i,next:null},Li===null){if(Xc===null)throw Error(n(308));Li=s,Xc.dependencies={lanes:0,firstContext:s}}else Li=Li.next=s;return i}var Es=null;function Pp(s){Es===null?Es=[s]:Es.push(s)}function U0(s,i,d,g){var _=i.interleaved;return _===null?(d.next=d,Pp(i)):(d.next=_.next,_.next=d),i.interleaved=d,so(s,g)}function so(s,i){s.lanes|=i;var d=s.alternate;for(d!==null&&(d.lanes|=i),d=s,s=s.return;s!==null;)s.childLanes|=i,d=s.alternate,d!==null&&(d.childLanes|=i),d=s,s=s.return;return d.tag===3?d.stateNode:null}var Vo=!1;function Ip(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function G0(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function io(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function Ho(s,i,d){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(Ye&2)!==0){var _=g.pending;return _===null?i.next=i:(i.next=_.next,_.next=i),g.pending=i,so(s,d)}return _=g.interleaved,_===null?(i.next=i,Pp(g)):(i.next=_.next,_.next=i),g.interleaved=i,so(s,d)}function qc(s,i,d){if(i=i.updateQueue,i!==null&&(i=i.shared,(d&4194240)!==0)){var g=i.lanes;g&=s.pendingLanes,d|=g,i.lanes=d,Wf(s,d)}}function Y0(s,i){var d=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var _=null,S=null;if(d=d.firstBaseUpdate,d!==null){do{var A={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};S===null?_=S=A:S=S.next=A,d=d.next}while(d!==null);S===null?_=S=i:S=S.next=i}else _=S=i;d={baseState:g.baseState,firstBaseUpdate:_,lastBaseUpdate:S,shared:g.shared,effects:g.effects},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=i:s.next=i,d.lastBaseUpdate=i}function Qc(s,i,d,g){var _=s.updateQueue;Vo=!1;var S=_.firstBaseUpdate,A=_.lastBaseUpdate,K=_.shared.pending;if(K!==null){_.shared.pending=null;var Z=K,se=Z.next;Z.next=null,A===null?S=se:A.next=se,A=Z;var pe=s.alternate;pe!==null&&(pe=pe.updateQueue,K=pe.lastBaseUpdate,K!==A&&(K===null?pe.firstBaseUpdate=se:K.next=se,pe.lastBaseUpdate=Z))}if(S!==null){var he=_.baseState;A=0,pe=se=Z=null,K=S;do{var ue=K.lane,be=K.eventTime;if((g&ue)===ue){pe!==null&&(pe=pe.next={eventTime:be,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var Ne=s,Pe=K;switch(ue=i,be=d,Pe.tag){case 1:if(Ne=Pe.payload,typeof Ne=="function"){he=Ne.call(be,he,ue);break e}he=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Pe.payload,ue=typeof Ne=="function"?Ne.call(be,he,ue):Ne,ue==null)break e;he=U({},he,ue);break e;case 2:Vo=!0}}K.callback!==null&&K.lane!==0&&(s.flags|=64,ue=_.effects,ue===null?_.effects=[K]:ue.push(K))}else be={eventTime:be,lane:ue,tag:K.tag,payload:K.payload,callback:K.callback,next:null},pe===null?(se=pe=be,Z=he):pe=pe.next=be,A|=ue;if(K=K.next,K===null){if(K=_.shared.pending,K===null)break;ue=K,K=ue.next,ue.next=null,_.lastBaseUpdate=ue,_.shared.pending=null}}while(!0);if(pe===null&&(Z=he),_.baseState=Z,_.firstBaseUpdate=se,_.lastBaseUpdate=pe,i=_.shared.interleaved,i!==null){_=i;do A|=_.lane,_=_.next;while(_!==i)}else S===null&&(_.shared.lanes=0);Ms|=A,s.lanes=A,s.memoizedState=he}}function K0(s,i,d){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var g=s[i],_=g.callback;if(_!==null){if(g.callback=null,g=d,typeof _!="function")throw Error(n(191,_));_.call(g)}}}var tl={},Tr=Fo(tl),nl=Fo(tl),rl=Fo(tl);function Ps(s){if(s===tl)throw Error(n(174));return s}function Mp(s,i){switch(tt(rl,i),tt(nl,s),tt(Tr,tl),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Ht(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=Ht(i,s)}rt(Tr),tt(Tr,i)}function Ri(){rt(Tr),rt(nl),rt(rl)}function Z0(s){Ps(rl.current);var i=Ps(Tr.current),d=Ht(i,s.type);i!==d&&(tt(nl,s),tt(Tr,d))}function Lp(s){nl.current===s&&(rt(Tr),rt(nl))}var ft=Fo(0);function Jc(s){for(var i=s;i!==null;){if(i.tag===13){var d=i.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Tp=[];function Rp(){for(var s=0;s<Tp.length;s++)Tp[s]._workInProgressVersionPrimary=null;Tp.length=0}var eu=j.ReactCurrentDispatcher,Ap=j.ReactCurrentBatchConfig,Is=0,pt=null,Lt=null,Ft=null,tu=!1,ol=!1,sl=0,b8=0;function qt(){throw Error(n(321))}function zp(s,i){if(i===null)return!1;for(var d=0;d<i.length&&d<s.length;d++)if(!ir(s[d],i[d]))return!1;return!0}function Dp(s,i,d,g,_,S){if(Is=S,pt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,eu.current=s===null||s.memoizedState===null?S8:j8,s=d(g,_),ol){S=0;do{if(ol=!1,sl=0,25<=S)throw Error(n(301));S+=1,Ft=Lt=null,i.updateQueue=null,eu.current=E8,s=d(g,_)}while(ol)}if(eu.current=ou,i=Lt!==null&&Lt.next!==null,Is=0,Ft=Lt=pt=null,tu=!1,i)throw Error(n(300));return s}function Op(){var s=sl!==0;return sl=0,s}function Rr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?pt.memoizedState=Ft=s:Ft=Ft.next=s,Ft}function Xn(){if(Lt===null){var s=pt.alternate;s=s!==null?s.memoizedState:null}else s=Lt.next;var i=Ft===null?pt.memoizedState:Ft.next;if(i!==null)Ft=i,Lt=s;else{if(s===null)throw Error(n(310));Lt=s,s={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Ft===null?pt.memoizedState=Ft=s:Ft=Ft.next=s}return Ft}function il(s,i){return typeof i=="function"?i(s):i}function Fp(s){var i=Xn(),d=i.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var g=Lt,_=g.baseQueue,S=d.pending;if(S!==null){if(_!==null){var A=_.next;_.next=S.next,S.next=A}g.baseQueue=_=S,d.pending=null}if(_!==null){S=_.next,g=g.baseState;var K=A=null,Z=null,se=S;do{var pe=se.lane;if((Is&pe)===pe)Z!==null&&(Z=Z.next={lane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),g=se.hasEagerState?se.eagerState:s(g,se.action);else{var he={lane:pe,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null};Z===null?(K=Z=he,A=g):Z=Z.next=he,pt.lanes|=pe,Ms|=pe}se=se.next}while(se!==null&&se!==S);Z===null?A=g:Z.next=K,ir(g,i.memoizedState)||(gn=!0),i.memoizedState=g,i.baseState=A,i.baseQueue=Z,d.lastRenderedState=g}if(s=d.interleaved,s!==null){_=s;do S=_.lane,pt.lanes|=S,Ms|=S,_=_.next;while(_!==s)}else _===null&&(d.lanes=0);return[i.memoizedState,d.dispatch]}function $p(s){var i=Xn(),d=i.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var g=d.dispatch,_=d.pending,S=i.memoizedState;if(_!==null){d.pending=null;var A=_=_.next;do S=s(S,A.action),A=A.next;while(A!==_);ir(S,i.memoizedState)||(gn=!0),i.memoizedState=S,i.baseQueue===null&&(i.baseState=S),d.lastRenderedState=S}return[S,g]}function X0(){}function q0(s,i){var d=pt,g=Xn(),_=i(),S=!ir(g.memoizedState,_);if(S&&(g.memoizedState=_,gn=!0),g=g.queue,Bp(ex.bind(null,d,g,s),[s]),g.getSnapshot!==i||S||Ft!==null&&Ft.memoizedState.tag&1){if(d.flags|=2048,al(9,J0.bind(null,d,g,_,i),void 0,null),$t===null)throw Error(n(349));(Is&30)!==0||Q0(d,i,_)}return _}function Q0(s,i,d){s.flags|=16384,s={getSnapshot:i,value:d},i=pt.updateQueue,i===null?(i={lastEffect:null,stores:null},pt.updateQueue=i,i.stores=[s]):(d=i.stores,d===null?i.stores=[s]:d.push(s))}function J0(s,i,d,g){i.value=d,i.getSnapshot=g,tx(i)&&nx(s)}function ex(s,i,d){return d(function(){tx(i)&&nx(s)})}function tx(s){var i=s.getSnapshot;s=s.value;try{var d=i();return!ir(s,d)}catch{return!0}}function nx(s){var i=so(s,1);i!==null&&dr(i,s,1,-1)}function rx(s){var i=Rr();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:s},i.queue=s,s=s.dispatch=N8.bind(null,pt,s),[i.memoizedState,s]}function al(s,i,d,g){return s={tag:s,create:i,destroy:d,deps:g,next:null},i=pt.updateQueue,i===null?(i={lastEffect:null,stores:null},pt.updateQueue=i,i.lastEffect=s.next=s):(d=i.lastEffect,d===null?i.lastEffect=s.next=s:(g=d.next,d.next=s,s.next=g,i.lastEffect=s)),s}function ox(){return Xn().memoizedState}function nu(s,i,d,g){var _=Rr();pt.flags|=s,_.memoizedState=al(1|i,d,void 0,g===void 0?null:g)}function ru(s,i,d,g){var _=Xn();g=g===void 0?null:g;var S=void 0;if(Lt!==null){var A=Lt.memoizedState;if(S=A.destroy,g!==null&&zp(g,A.deps)){_.memoizedState=al(i,d,S,g);return}}pt.flags|=s,_.memoizedState=al(1|i,d,S,g)}function sx(s,i){return nu(8390656,8,s,i)}function Bp(s,i){return ru(2048,8,s,i)}function ix(s,i){return ru(4,2,s,i)}function ax(s,i){return ru(4,4,s,i)}function lx(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function cx(s,i,d){return d=d!=null?d.concat([s]):null,ru(4,4,lx.bind(null,i,s),d)}function Vp(){}function ux(s,i){var d=Xn();i=i===void 0?null:i;var g=d.memoizedState;return g!==null&&i!==null&&zp(i,g[1])?g[0]:(d.memoizedState=[s,i],s)}function dx(s,i){var d=Xn();i=i===void 0?null:i;var g=d.memoizedState;return g!==null&&i!==null&&zp(i,g[1])?g[0]:(s=s(),d.memoizedState=[s,i],s)}function fx(s,i,d){return(Is&21)===0?(s.baseState&&(s.baseState=!1,gn=!0),s.memoizedState=d):(ir(d,i)||(d=xi(),pt.lanes|=d,Ms|=d,s.baseState=!0),i)}function C8(s,i){var d=Ze;Ze=d!==0&&4>d?d:4,s(!0);var g=Ap.transition;Ap.transition={};try{s(!1),i()}finally{Ze=d,Ap.transition=g}}function px(){return Xn().memoizedState}function k8(s,i,d){var g=Yo(s);if(d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},hx(s))mx(i,d);else if(d=U0(s,i,d,g),d!==null){var _=ln();dr(d,s,g,_),gx(d,i,g)}}function N8(s,i,d){var g=Yo(s),_={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(hx(s))mx(i,_);else{var S=s.alternate;if(s.lanes===0&&(S===null||S.lanes===0)&&(S=i.lastRenderedReducer,S!==null))try{var A=i.lastRenderedState,K=S(A,d);if(_.hasEagerState=!0,_.eagerState=K,ir(K,A)){var Z=i.interleaved;Z===null?(_.next=_,Pp(i)):(_.next=Z.next,Z.next=_),i.interleaved=_;return}}catch{}finally{}d=U0(s,i,_,g),d!==null&&(_=ln(),dr(d,s,g,_),gx(d,i,g))}}function hx(s){var i=s.alternate;return s===pt||i!==null&&i===pt}function mx(s,i){ol=tu=!0;var d=s.pending;d===null?i.next=i:(i.next=d.next,d.next=i),s.pending=i}function gx(s,i,d){if((d&4194240)!==0){var g=i.lanes;g&=s.pendingLanes,d|=g,i.lanes=d,Wf(s,d)}}var ou={readContext:Zn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},S8={readContext:Zn,useCallback:function(s,i){return Rr().memoizedState=[s,i===void 0?null:i],s},useContext:Zn,useEffect:sx,useImperativeHandle:function(s,i,d){return d=d!=null?d.concat([s]):null,nu(4194308,4,lx.bind(null,i,s),d)},useLayoutEffect:function(s,i){return nu(4194308,4,s,i)},useInsertionEffect:function(s,i){return nu(4,2,s,i)},useMemo:function(s,i){var d=Rr();return i=i===void 0?null:i,s=s(),d.memoizedState=[s,i],s},useReducer:function(s,i,d){var g=Rr();return i=d!==void 0?d(i):i,g.memoizedState=g.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},g.queue=s,s=s.dispatch=k8.bind(null,pt,s),[g.memoizedState,s]},useRef:function(s){var i=Rr();return s={current:s},i.memoizedState=s},useState:rx,useDebugValue:Vp,useDeferredValue:function(s){return Rr().memoizedState=s},useTransition:function(){var s=rx(!1),i=s[0];return s=C8.bind(null,s[1]),Rr().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,d){var g=pt,_=Rr();if(at){if(d===void 0)throw Error(n(407));d=d()}else{if(d=i(),$t===null)throw Error(n(349));(Is&30)!==0||Q0(g,i,d)}_.memoizedState=d;var S={value:d,getSnapshot:i};return _.queue=S,sx(ex.bind(null,g,S,s),[s]),g.flags|=2048,al(9,J0.bind(null,g,S,d,i),void 0,null),d},useId:function(){var s=Rr(),i=$t.identifierPrefix;if(at){var d=oo,g=ro;d=(g&~(1<<32-En(g)-1)).toString(32)+d,i=":"+i+"R"+d,d=sl++,0<d&&(i+="H"+d.toString(32)),i+=":"}else d=b8++,i=":"+i+"r"+d.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},j8={readContext:Zn,useCallback:ux,useContext:Zn,useEffect:Bp,useImperativeHandle:cx,useInsertionEffect:ix,useLayoutEffect:ax,useMemo:dx,useReducer:Fp,useRef:ox,useState:function(){return Fp(il)},useDebugValue:Vp,useDeferredValue:function(s){var i=Xn();return fx(i,Lt.memoizedState,s)},useTransition:function(){var s=Fp(il)[0],i=Xn().memoizedState;return[s,i]},useMutableSource:X0,useSyncExternalStore:q0,useId:px,unstable_isNewReconciler:!1},E8={readContext:Zn,useCallback:ux,useContext:Zn,useEffect:Bp,useImperativeHandle:cx,useInsertionEffect:ix,useLayoutEffect:ax,useMemo:dx,useReducer:$p,useRef:ox,useState:function(){return $p(il)},useDebugValue:Vp,useDeferredValue:function(s){var i=Xn();return Lt===null?i.memoizedState=s:fx(i,Lt.memoizedState,s)},useTransition:function(){var s=$p(il)[0],i=Xn().memoizedState;return[s,i]},useMutableSource:X0,useSyncExternalStore:q0,useId:px,unstable_isNewReconciler:!1};function lr(s,i){if(s&&s.defaultProps){i=U({},i),s=s.defaultProps;for(var d in s)i[d]===void 0&&(i[d]=s[d]);return i}return i}function Hp(s,i,d,g){i=s.memoizedState,d=d(g,i),d=d==null?i:U({},i,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var su={isMounted:function(s){return(s=s._reactInternals)?Mr(s)===s:!1},enqueueSetState:function(s,i,d){s=s._reactInternals;var g=ln(),_=Yo(s),S=io(g,_);S.payload=i,d!=null&&(S.callback=d),i=Ho(s,S,_),i!==null&&(dr(i,s,_,g),qc(i,s,_))},enqueueReplaceState:function(s,i,d){s=s._reactInternals;var g=ln(),_=Yo(s),S=io(g,_);S.tag=1,S.payload=i,d!=null&&(S.callback=d),i=Ho(s,S,_),i!==null&&(dr(i,s,_,g),qc(i,s,_))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var d=ln(),g=Yo(s),_=io(d,g);_.tag=2,i!=null&&(_.callback=i),i=Ho(s,_,g),i!==null&&(dr(i,s,g,d),qc(i,s,g))}};function xx(s,i,d,g,_,S,A){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,S,A):i.prototype&&i.prototype.isPureReactComponent?!Ya(d,g)||!Ya(_,S):!0}function vx(s,i,d){var g=!1,_=$o,S=i.contextType;return typeof S=="object"&&S!==null?S=Zn(S):(_=mn(i)?Ns:Xt.current,g=i.contextTypes,S=(g=g!=null)?ji(s,_):$o),i=new i(d,S),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=su,s.stateNode=i,i._reactInternals=s,g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=_,s.__reactInternalMemoizedMaskedChildContext=S),i}function yx(s,i,d,g){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(d,g),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(d,g),i.state!==s&&su.enqueueReplaceState(i,i.state,null)}function Wp(s,i,d,g){var _=s.stateNode;_.props=d,_.state=s.memoizedState,_.refs={},Ip(s);var S=i.contextType;typeof S=="object"&&S!==null?_.context=Zn(S):(S=mn(i)?Ns:Xt.current,_.context=ji(s,S)),_.state=s.memoizedState,S=i.getDerivedStateFromProps,typeof S=="function"&&(Hp(s,i,S,d),_.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(i=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),i!==_.state&&su.enqueueReplaceState(_,_.state,null),Qc(s,d,_,g),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308)}function Ai(s,i){try{var d="",g=i;do d+=ne(g),g=g.return;while(g);var _=d}catch(S){_=`
Error generating stack: `+S.message+`
`+S.stack}return{value:s,source:i,stack:_,digest:null}}function Up(s,i,d){return{value:s,source:null,stack:d??null,digest:i??null}}function Gp(s,i){try{console.error(i.value)}catch(d){setTimeout(function(){throw d})}}var P8=typeof WeakMap=="function"?WeakMap:Map;function wx(s,i,d){d=io(-1,d),d.tag=3,d.payload={element:null};var g=i.value;return d.callback=function(){fu||(fu=!0,ah=g),Gp(s,i)},d}function _x(s,i,d){d=io(-1,d),d.tag=3;var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var _=i.value;d.payload=function(){return g(_)},d.callback=function(){Gp(s,i)}}var S=s.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(d.callback=function(){Gp(s,i),typeof g!="function"&&(Uo===null?Uo=new Set([this]):Uo.add(this));var A=i.stack;this.componentDidCatch(i.value,{componentStack:A!==null?A:""})}),d}function bx(s,i,d){var g=s.pingCache;if(g===null){g=s.pingCache=new P8;var _=new Set;g.set(i,_)}else _=g.get(i),_===void 0&&(_=new Set,g.set(i,_));_.has(d)||(_.add(d),s=H8.bind(null,s,i,d),i.then(s,s))}function Cx(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function kx(s,i,d,g,_){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(i=io(-1,1),i.tag=2,Ho(d,i,1))),d.lanes|=1),s):(s.flags|=65536,s.lanes=_,s)}var I8=j.ReactCurrentOwner,gn=!1;function an(s,i,d,g){i.child=s===null?W0(i,null,d,g):Mi(i,s.child,d,g)}function Nx(s,i,d,g,_){d=d.render;var S=i.ref;return Ti(i,_),g=Dp(s,i,d,g,S,_),d=Op(),s!==null&&!gn?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~_,ao(s,i,_)):(at&&d&&wp(i),i.flags|=1,an(s,i,g,_),i.child)}function Sx(s,i,d,g,_){if(s===null){var S=d.type;return typeof S=="function"&&!hh(S)&&S.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(i.tag=15,i.type=S,jx(s,i,S,g,_)):(s=vu(d.type,null,g,i,i.mode,_),s.ref=i.ref,s.return=i,i.child=s)}if(S=s.child,(s.lanes&_)===0){var A=S.memoizedProps;if(d=d.compare,d=d!==null?d:Ya,d(A,g)&&s.ref===i.ref)return ao(s,i,_)}return i.flags|=1,s=Zo(S,g),s.ref=i.ref,s.return=i,i.child=s}function jx(s,i,d,g,_){if(s!==null){var S=s.memoizedProps;if(Ya(S,g)&&s.ref===i.ref)if(gn=!1,i.pendingProps=g=S,(s.lanes&_)!==0)(s.flags&131072)!==0&&(gn=!0);else return i.lanes=s.lanes,ao(s,i,_)}return Yp(s,i,d,g,_)}function Ex(s,i,d){var g=i.pendingProps,_=g.children,S=s!==null?s.memoizedState:null;if(g.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Di,Ln),Ln|=d;else{if((d&1073741824)===0)return s=S!==null?S.baseLanes|d:d,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,tt(Di,Ln),Ln|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=S!==null?S.baseLanes:d,tt(Di,Ln),Ln|=g}else S!==null?(g=S.baseLanes|d,i.memoizedState=null):g=d,tt(Di,Ln),Ln|=g;return an(s,i,_,d),i.child}function Px(s,i){var d=i.ref;(s===null&&d!==null||s!==null&&s.ref!==d)&&(i.flags|=512,i.flags|=2097152)}function Yp(s,i,d,g,_){var S=mn(d)?Ns:Xt.current;return S=ji(i,S),Ti(i,_),d=Dp(s,i,d,g,S,_),g=Op(),s!==null&&!gn?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~_,ao(s,i,_)):(at&&g&&wp(i),i.flags|=1,an(s,i,d,_),i.child)}function Ix(s,i,d,g,_){if(mn(d)){var S=!0;Hc(i)}else S=!1;if(Ti(i,_),i.stateNode===null)au(s,i),vx(i,d,g),Wp(i,d,g,_),g=!0;else if(s===null){var A=i.stateNode,K=i.memoizedProps;A.props=K;var Z=A.context,se=d.contextType;typeof se=="object"&&se!==null?se=Zn(se):(se=mn(d)?Ns:Xt.current,se=ji(i,se));var pe=d.getDerivedStateFromProps,he=typeof pe=="function"||typeof A.getSnapshotBeforeUpdate=="function";he||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(K!==g||Z!==se)&&yx(i,A,g,se),Vo=!1;var ue=i.memoizedState;A.state=ue,Qc(i,g,A,_),Z=i.memoizedState,K!==g||ue!==Z||hn.current||Vo?(typeof pe=="function"&&(Hp(i,d,pe,g),Z=i.memoizedState),(K=Vo||xx(i,d,K,g,ue,Z,se))?(he||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(i.flags|=4194308)):(typeof A.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=g,i.memoizedState=Z),A.props=g,A.state=Z,A.context=se,g=K):(typeof A.componentDidMount=="function"&&(i.flags|=4194308),g=!1)}else{A=i.stateNode,G0(s,i),K=i.memoizedProps,se=i.type===i.elementType?K:lr(i.type,K),A.props=se,he=i.pendingProps,ue=A.context,Z=d.contextType,typeof Z=="object"&&Z!==null?Z=Zn(Z):(Z=mn(d)?Ns:Xt.current,Z=ji(i,Z));var be=d.getDerivedStateFromProps;(pe=typeof be=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(K!==he||ue!==Z)&&yx(i,A,g,Z),Vo=!1,ue=i.memoizedState,A.state=ue,Qc(i,g,A,_);var Ne=i.memoizedState;K!==he||ue!==Ne||hn.current||Vo?(typeof be=="function"&&(Hp(i,d,be,g),Ne=i.memoizedState),(se=Vo||xx(i,d,se,g,ue,Ne,Z)||!1)?(pe||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(g,Ne,Z),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(g,Ne,Z)),typeof A.componentDidUpdate=="function"&&(i.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof A.componentDidUpdate!="function"||K===s.memoizedProps&&ue===s.memoizedState||(i.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||K===s.memoizedProps&&ue===s.memoizedState||(i.flags|=1024),i.memoizedProps=g,i.memoizedState=Ne),A.props=g,A.state=Ne,A.context=Z,g=se):(typeof A.componentDidUpdate!="function"||K===s.memoizedProps&&ue===s.memoizedState||(i.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||K===s.memoizedProps&&ue===s.memoizedState||(i.flags|=1024),g=!1)}return Kp(s,i,d,g,S,_)}function Kp(s,i,d,g,_,S){Px(s,i);var A=(i.flags&128)!==0;if(!g&&!A)return _&&A0(i,d,!1),ao(s,i,S);g=i.stateNode,I8.current=i;var K=A&&typeof d.getDerivedStateFromError!="function"?null:g.render();return i.flags|=1,s!==null&&A?(i.child=Mi(i,s.child,null,S),i.child=Mi(i,null,K,S)):an(s,i,K,S),i.memoizedState=g.state,_&&A0(i,d,!0),i.child}function Mx(s){var i=s.stateNode;i.pendingContext?T0(s,i.pendingContext,i.pendingContext!==i.context):i.context&&T0(s,i.context,!1),Mp(s,i.containerInfo)}function Lx(s,i,d,g,_){return Ii(),kp(_),i.flags|=256,an(s,i,d,g),i.child}var Zp={dehydrated:null,treeContext:null,retryLane:0};function Xp(s){return{baseLanes:s,cachePool:null,transitions:null}}function Tx(s,i,d){var g=i.pendingProps,_=ft.current,S=!1,A=(i.flags&128)!==0,K;if((K=A)||(K=s!==null&&s.memoizedState===null?!1:(_&2)!==0),K?(S=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(_|=1),tt(ft,_&1),s===null)return Cp(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(A=g.children,s=g.fallback,S?(g=i.mode,S=i.child,A={mode:"hidden",children:A},(g&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=A):S=yu(A,g,0,null),s=As(s,g,d,null),S.return=i,s.return=i,S.sibling=s,i.child=S,i.child.memoizedState=Xp(d),i.memoizedState=Zp,s):qp(i,A));if(_=s.memoizedState,_!==null&&(K=_.dehydrated,K!==null))return M8(s,i,A,g,K,_,d);if(S){S=g.fallback,A=i.mode,_=s.child,K=_.sibling;var Z={mode:"hidden",children:g.children};return(A&1)===0&&i.child!==_?(g=i.child,g.childLanes=0,g.pendingProps=Z,i.deletions=null):(g=Zo(_,Z),g.subtreeFlags=_.subtreeFlags&14680064),K!==null?S=Zo(K,S):(S=As(S,A,d,null),S.flags|=2),S.return=i,g.return=i,g.sibling=S,i.child=g,g=S,S=i.child,A=s.child.memoizedState,A=A===null?Xp(d):{baseLanes:A.baseLanes|d,cachePool:null,transitions:A.transitions},S.memoizedState=A,S.childLanes=s.childLanes&~d,i.memoizedState=Zp,g}return S=s.child,s=S.sibling,g=Zo(S,{mode:"visible",children:g.children}),(i.mode&1)===0&&(g.lanes=d),g.return=i,g.sibling=null,s!==null&&(d=i.deletions,d===null?(i.deletions=[s],i.flags|=16):d.push(s)),i.child=g,i.memoizedState=null,g}function qp(s,i){return i=yu({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function iu(s,i,d,g){return g!==null&&kp(g),Mi(i,s.child,null,d),s=qp(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function M8(s,i,d,g,_,S,A){if(d)return i.flags&256?(i.flags&=-257,g=Up(Error(n(422))),iu(s,i,A,g)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(S=g.fallback,_=i.mode,g=yu({mode:"visible",children:g.children},_,0,null),S=As(S,_,A,null),S.flags|=2,g.return=i,S.return=i,g.sibling=S,i.child=g,(i.mode&1)!==0&&Mi(i,s.child,null,A),i.child.memoizedState=Xp(A),i.memoizedState=Zp,S);if((i.mode&1)===0)return iu(s,i,A,null);if(_.data==="$!"){if(g=_.nextSibling&&_.nextSibling.dataset,g)var K=g.dgst;return g=K,S=Error(n(419)),g=Up(S,g,void 0),iu(s,i,A,g)}if(K=(A&s.childLanes)!==0,gn||K){if(g=$t,g!==null){switch(A&-A){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(g.suspendedLanes|A))!==0?0:_,_!==0&&_!==S.retryLane&&(S.retryLane=_,so(s,_),dr(g,s,_,-1))}return ph(),g=Up(Error(n(421))),iu(s,i,A,g)}return _.data==="$?"?(i.flags|=128,i.child=s.child,i=W8.bind(null,s),_._reactRetry=i,null):(s=S.treeContext,Mn=Oo(_.nextSibling),In=i,at=!0,ar=null,s!==null&&(Yn[Kn++]=ro,Yn[Kn++]=oo,Yn[Kn++]=Ss,ro=s.id,oo=s.overflow,Ss=i),i=qp(i,g.children),i.flags|=4096,i)}function Rx(s,i,d){s.lanes|=i;var g=s.alternate;g!==null&&(g.lanes|=i),Ep(s.return,i,d)}function Qp(s,i,d,g,_){var S=s.memoizedState;S===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:_}:(S.isBackwards=i,S.rendering=null,S.renderingStartTime=0,S.last=g,S.tail=d,S.tailMode=_)}function Ax(s,i,d){var g=i.pendingProps,_=g.revealOrder,S=g.tail;if(an(s,i,g.children,d),g=ft.current,(g&2)!==0)g=g&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Rx(s,d,i);else if(s.tag===19)Rx(s,d,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}if(tt(ft,g),(i.mode&1)===0)i.memoizedState=null;else switch(_){case"forwards":for(d=i.child,_=null;d!==null;)s=d.alternate,s!==null&&Jc(s)===null&&(_=d),d=d.sibling;d=_,d===null?(_=i.child,i.child=null):(_=d.sibling,d.sibling=null),Qp(i,!1,_,d,S);break;case"backwards":for(d=null,_=i.child,i.child=null;_!==null;){if(s=_.alternate,s!==null&&Jc(s)===null){i.child=_;break}s=_.sibling,_.sibling=d,d=_,_=s}Qp(i,!0,d,null,S);break;case"together":Qp(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function au(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function ao(s,i,d){if(s!==null&&(i.dependencies=s.dependencies),Ms|=i.lanes,(d&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(n(153));if(i.child!==null){for(s=i.child,d=Zo(s,s.pendingProps),i.child=d,d.return=i;s.sibling!==null;)s=s.sibling,d=d.sibling=Zo(s,s.pendingProps),d.return=i;d.sibling=null}return i.child}function L8(s,i,d){switch(i.tag){case 3:Mx(i),Ii();break;case 5:Z0(i);break;case 1:mn(i.type)&&Hc(i);break;case 4:Mp(i,i.stateNode.containerInfo);break;case 10:var g=i.type._context,_=i.memoizedProps.value;tt(Zc,g._currentValue),g._currentValue=_;break;case 13:if(g=i.memoizedState,g!==null)return g.dehydrated!==null?(tt(ft,ft.current&1),i.flags|=128,null):(d&i.child.childLanes)!==0?Tx(s,i,d):(tt(ft,ft.current&1),s=ao(s,i,d),s!==null?s.sibling:null);tt(ft,ft.current&1);break;case 19:if(g=(d&i.childLanes)!==0,(s.flags&128)!==0){if(g)return Ax(s,i,d);i.flags|=128}if(_=i.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),tt(ft,ft.current),g)break;return null;case 22:case 23:return i.lanes=0,Ex(s,i,d)}return ao(s,i,d)}var zx,Jp,Dx,Ox;zx=function(s,i){for(var d=i.child;d!==null;){if(d.tag===5||d.tag===6)s.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break;for(;d.sibling===null;){if(d.return===null||d.return===i)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Jp=function(){},Dx=function(s,i,d,g){var _=s.memoizedProps;if(_!==g){s=i.stateNode,Ps(Tr.current);var S=null;switch(d){case"input":_=fe(s,_),g=fe(s,g),S=[];break;case"select":_=U({},_,{value:void 0}),g=U({},g,{value:void 0}),S=[];break;case"textarea":_=_e(s,_),g=_e(s,g),S=[];break;default:typeof _.onClick!="function"&&typeof g.onClick=="function"&&(s.onclick=$c)}dn(d,g);var A;d=null;for(se in _)if(!g.hasOwnProperty(se)&&_.hasOwnProperty(se)&&_[se]!=null)if(se==="style"){var K=_[se];for(A in K)K.hasOwnProperty(A)&&(d||(d={}),d[A]="")}else se!=="dangerouslySetInnerHTML"&&se!=="children"&&se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&se!=="autoFocus"&&(o.hasOwnProperty(se)?S||(S=[]):(S=S||[]).push(se,null));for(se in g){var Z=g[se];if(K=_?.[se],g.hasOwnProperty(se)&&Z!==K&&(Z!=null||K!=null))if(se==="style")if(K){for(A in K)!K.hasOwnProperty(A)||Z&&Z.hasOwnProperty(A)||(d||(d={}),d[A]="");for(A in Z)Z.hasOwnProperty(A)&&K[A]!==Z[A]&&(d||(d={}),d[A]=Z[A])}else d||(S||(S=[]),S.push(se,d)),d=Z;else se==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,K=K?K.__html:void 0,Z!=null&&K!==Z&&(S=S||[]).push(se,Z)):se==="children"?typeof Z!="string"&&typeof Z!="number"||(S=S||[]).push(se,""+Z):se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&(o.hasOwnProperty(se)?(Z!=null&&se==="onScroll"&&nt("scroll",s),S||K===Z||(S=[])):(S=S||[]).push(se,Z))}d&&(S=S||[]).push("style",d);var se=S;(i.updateQueue=se)&&(i.flags|=4)}},Ox=function(s,i,d,g){d!==g&&(i.flags|=4)};function ll(s,i){if(!at)switch(s.tailMode){case"hidden":i=s.tail;for(var d=null;i!==null;)i.alternate!==null&&(d=i),i=i.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function Qt(s){var i=s.alternate!==null&&s.alternate.child===s.child,d=0,g=0;if(i)for(var _=s.child;_!==null;)d|=_.lanes|_.childLanes,g|=_.subtreeFlags&14680064,g|=_.flags&14680064,_.return=s,_=_.sibling;else for(_=s.child;_!==null;)d|=_.lanes|_.childLanes,g|=_.subtreeFlags,g|=_.flags,_.return=s,_=_.sibling;return s.subtreeFlags|=g,s.childLanes=d,i}function T8(s,i,d){var g=i.pendingProps;switch(_p(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(i),null;case 1:return mn(i.type)&&Vc(),Qt(i),null;case 3:return g=i.stateNode,Ri(),rt(hn),rt(Xt),Rp(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(Yc(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ar!==null&&(uh(ar),ar=null))),Jp(s,i),Qt(i),null;case 5:Lp(i);var _=Ps(rl.current);if(d=i.type,s!==null&&i.stateNode!=null)Dx(s,i,d,g,_),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!g){if(i.stateNode===null)throw Error(n(166));return Qt(i),null}if(s=Ps(Tr.current),Yc(i)){g=i.stateNode,d=i.type;var S=i.memoizedProps;switch(g[Lr]=i,g[Qa]=S,s=(i.mode&1)!==0,d){case"dialog":nt("cancel",g),nt("close",g);break;case"iframe":case"object":case"embed":nt("load",g);break;case"video":case"audio":for(_=0;_<Za.length;_++)nt(Za[_],g);break;case"source":nt("error",g);break;case"img":case"image":case"link":nt("error",g),nt("load",g);break;case"details":nt("toggle",g);break;case"input":Le(g,S),nt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!S.multiple},nt("invalid",g);break;case"textarea":we(g,S),nt("invalid",g)}dn(d,S),_=null;for(var A in S)if(S.hasOwnProperty(A)){var K=S[A];A==="children"?typeof K=="string"?g.textContent!==K&&(S.suppressHydrationWarning!==!0&&Fc(g.textContent,K,s),_=["children",K]):typeof K=="number"&&g.textContent!==""+K&&(S.suppressHydrationWarning!==!0&&Fc(g.textContent,K,s),_=["children",""+K]):o.hasOwnProperty(A)&&K!=null&&A==="onScroll"&&nt("scroll",g)}switch(d){case"input":me(g),ye(g,S,!0);break;case"textarea":me(g),$e(g);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(g.onclick=$c)}g=_,i.updateQueue=g,g!==null&&(i.flags|=4)}else{A=_.nodeType===9?_:_.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Qe(d)),s==="http://www.w3.org/1999/xhtml"?d==="script"?(s=A.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof g.is=="string"?s=A.createElement(d,{is:g.is}):(s=A.createElement(d),d==="select"&&(A=s,g.multiple?A.multiple=!0:g.size&&(A.size=g.size))):s=A.createElementNS(s,d),s[Lr]=i,s[Qa]=g,zx(s,i,!1,!1),i.stateNode=s;e:{switch(A=Sr(d,g),d){case"dialog":nt("cancel",s),nt("close",s),_=g;break;case"iframe":case"object":case"embed":nt("load",s),_=g;break;case"video":case"audio":for(_=0;_<Za.length;_++)nt(Za[_],s);_=g;break;case"source":nt("error",s),_=g;break;case"img":case"image":case"link":nt("error",s),nt("load",s),_=g;break;case"details":nt("toggle",s),_=g;break;case"input":Le(s,g),_=fe(s,g),nt("invalid",s);break;case"option":_=g;break;case"select":s._wrapperState={wasMultiple:!!g.multiple},_=U({},g,{value:void 0}),nt("invalid",s);break;case"textarea":we(s,g),_=_e(s,g),nt("invalid",s);break;default:_=g}dn(d,_),K=_;for(S in K)if(K.hasOwnProperty(S)){var Z=K[S];S==="style"?kr(s,Z):S==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&Dt(s,Z)):S==="children"?typeof Z=="string"?(d!=="textarea"||Z!=="")&&it(s,Z):typeof Z=="number"&&it(s,""+Z):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(o.hasOwnProperty(S)?Z!=null&&S==="onScroll"&&nt("scroll",s):Z!=null&&N(s,S,Z,A))}switch(d){case"input":me(s),ye(s,g,!1);break;case"textarea":me(s),$e(s);break;case"option":g.value!=null&&s.setAttribute("value",""+J(g.value));break;case"select":s.multiple=!!g.multiple,S=g.value,S!=null?Ue(s,!!g.multiple,S,!1):g.defaultValue!=null&&Ue(s,!!g.multiple,g.defaultValue,!0);break;default:typeof _.onClick=="function"&&(s.onclick=$c)}switch(d){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Qt(i),null;case 6:if(s&&i.stateNode!=null)Ox(s,i,s.memoizedProps,g);else{if(typeof g!="string"&&i.stateNode===null)throw Error(n(166));if(d=Ps(rl.current),Ps(Tr.current),Yc(i)){if(g=i.stateNode,d=i.memoizedProps,g[Lr]=i,(S=g.nodeValue!==d)&&(s=In,s!==null))switch(s.tag){case 3:Fc(g.nodeValue,d,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Fc(g.nodeValue,d,(s.mode&1)!==0)}S&&(i.flags|=4)}else g=(d.nodeType===9?d:d.ownerDocument).createTextNode(g),g[Lr]=i,i.stateNode=g}return Qt(i),null;case 13:if(rt(ft),g=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(at&&Mn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)B0(),Ii(),i.flags|=98560,S=!1;else if(S=Yc(i),g!==null&&g.dehydrated!==null){if(s===null){if(!S)throw Error(n(318));if(S=i.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[Lr]=i}else Ii(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Qt(i),S=!1}else ar!==null&&(uh(ar),ar=null),S=!0;if(!S)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=d,i):(g=g!==null,g!==(s!==null&&s.memoizedState!==null)&&g&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(ft.current&1)!==0?Tt===0&&(Tt=3):ph())),i.updateQueue!==null&&(i.flags|=4),Qt(i),null);case 4:return Ri(),Jp(s,i),s===null&&Xa(i.stateNode.containerInfo),Qt(i),null;case 10:return jp(i.type._context),Qt(i),null;case 17:return mn(i.type)&&Vc(),Qt(i),null;case 19:if(rt(ft),S=i.memoizedState,S===null)return Qt(i),null;if(g=(i.flags&128)!==0,A=S.rendering,A===null)if(g)ll(S,!1);else{if(Tt!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(A=Jc(s),A!==null){for(i.flags|=128,ll(S,!1),g=A.updateQueue,g!==null&&(i.updateQueue=g,i.flags|=4),i.subtreeFlags=0,g=d,d=i.child;d!==null;)S=d,s=g,S.flags&=14680066,A=S.alternate,A===null?(S.childLanes=0,S.lanes=s,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=A.childLanes,S.lanes=A.lanes,S.child=A.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=A.memoizedProps,S.memoizedState=A.memoizedState,S.updateQueue=A.updateQueue,S.type=A.type,s=A.dependencies,S.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),d=d.sibling;return tt(ft,ft.current&1|2),i.child}s=s.sibling}S.tail!==null&&dt()>Oi&&(i.flags|=128,g=!0,ll(S,!1),i.lanes=4194304)}else{if(!g)if(s=Jc(A),s!==null){if(i.flags|=128,g=!0,d=s.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),ll(S,!0),S.tail===null&&S.tailMode==="hidden"&&!A.alternate&&!at)return Qt(i),null}else 2*dt()-S.renderingStartTime>Oi&&d!==1073741824&&(i.flags|=128,g=!0,ll(S,!1),i.lanes=4194304);S.isBackwards?(A.sibling=i.child,i.child=A):(d=S.last,d!==null?d.sibling=A:i.child=A,S.last=A)}return S.tail!==null?(i=S.tail,S.rendering=i,S.tail=i.sibling,S.renderingStartTime=dt(),i.sibling=null,d=ft.current,tt(ft,g?d&1|2:d&1),i):(Qt(i),null);case 22:case 23:return fh(),g=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==g&&(i.flags|=8192),g&&(i.mode&1)!==0?(Ln&1073741824)!==0&&(Qt(i),i.subtreeFlags&6&&(i.flags|=8192)):Qt(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function R8(s,i){switch(_p(i),i.tag){case 1:return mn(i.type)&&Vc(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return Ri(),rt(hn),rt(Xt),Rp(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return Lp(i),null;case 13:if(rt(ft),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Ii()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return rt(ft),null;case 4:return Ri(),null;case 10:return jp(i.type._context),null;case 22:case 23:return fh(),null;case 24:return null;default:return null}}var lu=!1,Jt=!1,A8=typeof WeakSet=="function"?WeakSet:Set,ke=null;function zi(s,i){var d=s.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){vt(s,i,g)}else d.current=null}function eh(s,i,d){try{d()}catch(g){vt(s,i,g)}}var Fx=!1;function z8(s,i){if(fp=Ec,s=x0(),op(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var _=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{d.nodeType,S.nodeType}catch{d=null;break e}var A=0,K=-1,Z=-1,se=0,pe=0,he=s,ue=null;t:for(;;){for(var be;he!==d||_!==0&&he.nodeType!==3||(K=A+_),he!==S||g!==0&&he.nodeType!==3||(Z=A+g),he.nodeType===3&&(A+=he.nodeValue.length),(be=he.firstChild)!==null;)ue=he,he=be;for(;;){if(he===s)break t;if(ue===d&&++se===_&&(K=A),ue===S&&++pe===g&&(Z=A),(be=he.nextSibling)!==null)break;he=ue,ue=he.parentNode}he=be}d=K===-1||Z===-1?null:{start:K,end:Z}}else d=null}d=d||{start:0,end:0}}else d=null;for(pp={focusedElem:s,selectionRange:d},Ec=!1,ke=i;ke!==null;)if(i=ke,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,ke=s;else for(;ke!==null;){i=ke;try{var Ne=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Ne!==null){var Pe=Ne.memoizedProps,bt=Ne.memoizedState,re=i.stateNode,Q=re.getSnapshotBeforeUpdate(i.elementType===i.type?Pe:lr(i.type,Pe),bt);re.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:var oe=i.stateNode.containerInfo;oe.nodeType===1?oe.textContent="":oe.nodeType===9&&oe.documentElement&&oe.removeChild(oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(xe){vt(i,i.return,xe)}if(s=i.sibling,s!==null){s.return=i.return,ke=s;break}ke=i.return}return Ne=Fx,Fx=!1,Ne}function cl(s,i,d){var g=i.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var _=g=g.next;do{if((_.tag&s)===s){var S=_.destroy;_.destroy=void 0,S!==void 0&&eh(i,d,S)}_=_.next}while(_!==g)}}function cu(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var d=i=i.next;do{if((d.tag&s)===s){var g=d.create;d.destroy=g()}d=d.next}while(d!==i)}}function th(s){var i=s.ref;if(i!==null){var d=s.stateNode;switch(s.tag){case 5:s=d;break;default:s=d}typeof i=="function"?i(s):i.current=s}}function $x(s){var i=s.alternate;i!==null&&(s.alternate=null,$x(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[Lr],delete i[Qa],delete i[xp],delete i[v8],delete i[y8])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Bx(s){return s.tag===5||s.tag===3||s.tag===4}function Vx(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Bx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function nh(s,i,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,i?d.nodeType===8?d.parentNode.insertBefore(s,i):d.insertBefore(s,i):(d.nodeType===8?(i=d.parentNode,i.insertBefore(s,d)):(i=d,i.appendChild(s)),d=d._reactRootContainer,d!=null||i.onclick!==null||(i.onclick=$c));else if(g!==4&&(s=s.child,s!==null))for(nh(s,i,d),s=s.sibling;s!==null;)nh(s,i,d),s=s.sibling}function rh(s,i,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,i?d.insertBefore(s,i):d.appendChild(s);else if(g!==4&&(s=s.child,s!==null))for(rh(s,i,d),s=s.sibling;s!==null;)rh(s,i,d),s=s.sibling}var Wt=null,cr=!1;function Wo(s,i,d){for(d=d.child;d!==null;)Hx(s,i,d),d=d.sibling}function Hx(s,i,d){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(bs,d)}catch{}switch(d.tag){case 5:Jt||zi(d,i);case 6:var g=Wt,_=cr;Wt=null,Wo(s,i,d),Wt=g,cr=_,Wt!==null&&(cr?(s=Wt,d=d.stateNode,s.nodeType===8?s.parentNode.removeChild(d):s.removeChild(d)):Wt.removeChild(d.stateNode));break;case 18:Wt!==null&&(cr?(s=Wt,d=d.stateNode,s.nodeType===8?gp(s.parentNode,d):s.nodeType===1&&gp(s,d),Ba(s)):gp(Wt,d.stateNode));break;case 4:g=Wt,_=cr,Wt=d.stateNode.containerInfo,cr=!0,Wo(s,i,d),Wt=g,cr=_;break;case 0:case 11:case 14:case 15:if(!Jt&&(g=d.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){_=g=g.next;do{var S=_,A=S.destroy;S=S.tag,A!==void 0&&((S&2)!==0||(S&4)!==0)&&eh(d,i,A),_=_.next}while(_!==g)}Wo(s,i,d);break;case 1:if(!Jt&&(zi(d,i),g=d.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(K){vt(d,i,K)}Wo(s,i,d);break;case 21:Wo(s,i,d);break;case 22:d.mode&1?(Jt=(g=Jt)||d.memoizedState!==null,Wo(s,i,d),Jt=g):Wo(s,i,d);break;default:Wo(s,i,d)}}function Wx(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var d=s.stateNode;d===null&&(d=s.stateNode=new A8),i.forEach(function(g){var _=U8.bind(null,s,g);d.has(g)||(d.add(g),g.then(_,_))})}}function ur(s,i){var d=i.deletions;if(d!==null)for(var g=0;g<d.length;g++){var _=d[g];try{var S=s,A=i,K=A;e:for(;K!==null;){switch(K.tag){case 5:Wt=K.stateNode,cr=!1;break e;case 3:Wt=K.stateNode.containerInfo,cr=!0;break e;case 4:Wt=K.stateNode.containerInfo,cr=!0;break e}K=K.return}if(Wt===null)throw Error(n(160));Hx(S,A,_),Wt=null,cr=!1;var Z=_.alternate;Z!==null&&(Z.return=null),_.return=null}catch(se){vt(_,i,se)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Ux(i,s),i=i.sibling}function Ux(s,i){var d=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ur(i,s),Ar(s),g&4){try{cl(3,s,s.return),cu(3,s)}catch(Pe){vt(s,s.return,Pe)}try{cl(5,s,s.return)}catch(Pe){vt(s,s.return,Pe)}}break;case 1:ur(i,s),Ar(s),g&512&&d!==null&&zi(d,d.return);break;case 5:if(ur(i,s),Ar(s),g&512&&d!==null&&zi(d,d.return),s.flags&32){var _=s.stateNode;try{it(_,"")}catch(Pe){vt(s,s.return,Pe)}}if(g&4&&(_=s.stateNode,_!=null)){var S=s.memoizedProps,A=d!==null?d.memoizedProps:S,K=s.type,Z=s.updateQueue;if(s.updateQueue=null,Z!==null)try{K==="input"&&S.type==="radio"&&S.name!=null&&Re(_,S),Sr(K,A);var se=Sr(K,S);for(A=0;A<Z.length;A+=2){var pe=Z[A],he=Z[A+1];pe==="style"?kr(_,he):pe==="dangerouslySetInnerHTML"?Dt(_,he):pe==="children"?it(_,he):N(_,pe,he,se)}switch(K){case"input":ce(_,S);break;case"textarea":zt(_,S);break;case"select":var ue=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!S.multiple;var be=S.value;be!=null?Ue(_,!!S.multiple,be,!1):ue!==!!S.multiple&&(S.defaultValue!=null?Ue(_,!!S.multiple,S.defaultValue,!0):Ue(_,!!S.multiple,S.multiple?[]:"",!1))}_[Qa]=S}catch(Pe){vt(s,s.return,Pe)}}break;case 6:if(ur(i,s),Ar(s),g&4){if(s.stateNode===null)throw Error(n(162));_=s.stateNode,S=s.memoizedProps;try{_.nodeValue=S}catch(Pe){vt(s,s.return,Pe)}}break;case 3:if(ur(i,s),Ar(s),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Ba(i.containerInfo)}catch(Pe){vt(s,s.return,Pe)}break;case 4:ur(i,s),Ar(s);break;case 13:ur(i,s),Ar(s),_=s.child,_.flags&8192&&(S=_.memoizedState!==null,_.stateNode.isHidden=S,!S||_.alternate!==null&&_.alternate.memoizedState!==null||(ih=dt())),g&4&&Wx(s);break;case 22:if(pe=d!==null&&d.memoizedState!==null,s.mode&1?(Jt=(se=Jt)||pe,ur(i,s),Jt=se):ur(i,s),Ar(s),g&8192){if(se=s.memoizedState!==null,(s.stateNode.isHidden=se)&&!pe&&(s.mode&1)!==0)for(ke=s,pe=s.child;pe!==null;){for(he=ke=pe;ke!==null;){switch(ue=ke,be=ue.child,ue.tag){case 0:case 11:case 14:case 15:cl(4,ue,ue.return);break;case 1:zi(ue,ue.return);var Ne=ue.stateNode;if(typeof Ne.componentWillUnmount=="function"){g=ue,d=ue.return;try{i=g,Ne.props=i.memoizedProps,Ne.state=i.memoizedState,Ne.componentWillUnmount()}catch(Pe){vt(g,d,Pe)}}break;case 5:zi(ue,ue.return);break;case 22:if(ue.memoizedState!==null){Kx(he);continue}}be!==null?(be.return=ue,ke=be):Kx(he)}pe=pe.sibling}e:for(pe=null,he=s;;){if(he.tag===5){if(pe===null){pe=he;try{_=he.stateNode,se?(S=_.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(K=he.stateNode,Z=he.memoizedProps.style,A=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,K.style.display=or("display",A))}catch(Pe){vt(s,s.return,Pe)}}}else if(he.tag===6){if(pe===null)try{he.stateNode.nodeValue=se?"":he.memoizedProps}catch(Pe){vt(s,s.return,Pe)}}else if((he.tag!==22&&he.tag!==23||he.memoizedState===null||he===s)&&he.child!==null){he.child.return=he,he=he.child;continue}if(he===s)break e;for(;he.sibling===null;){if(he.return===null||he.return===s)break e;pe===he&&(pe=null),he=he.return}pe===he&&(pe=null),he.sibling.return=he.return,he=he.sibling}}break;case 19:ur(i,s),Ar(s),g&4&&Wx(s);break;case 21:break;default:ur(i,s),Ar(s)}}function Ar(s){var i=s.flags;if(i&2){try{e:{for(var d=s.return;d!==null;){if(Bx(d)){var g=d;break e}d=d.return}throw Error(n(160))}switch(g.tag){case 5:var _=g.stateNode;g.flags&32&&(it(_,""),g.flags&=-33);var S=Vx(s);rh(s,S,_);break;case 3:case 4:var A=g.stateNode.containerInfo,K=Vx(s);nh(s,K,A);break;default:throw Error(n(161))}}catch(Z){vt(s,s.return,Z)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function D8(s,i,d){ke=s,Gx(s)}function Gx(s,i,d){for(var g=(s.mode&1)!==0;ke!==null;){var _=ke,S=_.child;if(_.tag===22&&g){var A=_.memoizedState!==null||lu;if(!A){var K=_.alternate,Z=K!==null&&K.memoizedState!==null||Jt;K=lu;var se=Jt;if(lu=A,(Jt=Z)&&!se)for(ke=_;ke!==null;)A=ke,Z=A.child,A.tag===22&&A.memoizedState!==null?Zx(_):Z!==null?(Z.return=A,ke=Z):Zx(_);for(;S!==null;)ke=S,Gx(S),S=S.sibling;ke=_,lu=K,Jt=se}Yx(s)}else(_.subtreeFlags&8772)!==0&&S!==null?(S.return=_,ke=S):Yx(s)}}function Yx(s){for(;ke!==null;){var i=ke;if((i.flags&8772)!==0){var d=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Jt||cu(5,i);break;case 1:var g=i.stateNode;if(i.flags&4&&!Jt)if(d===null)g.componentDidMount();else{var _=i.elementType===i.type?d.memoizedProps:lr(i.type,d.memoizedProps);g.componentDidUpdate(_,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var S=i.updateQueue;S!==null&&K0(i,S,g);break;case 3:var A=i.updateQueue;if(A!==null){if(d=null,i.child!==null)switch(i.child.tag){case 5:d=i.child.stateNode;break;case 1:d=i.child.stateNode}K0(i,A,d)}break;case 5:var K=i.stateNode;if(d===null&&i.flags&4){d=K;var Z=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&d.focus();break;case"img":Z.src&&(d.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var se=i.alternate;if(se!==null){var pe=se.memoizedState;if(pe!==null){var he=pe.dehydrated;he!==null&&Ba(he)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Jt||i.flags&512&&th(i)}catch(ue){vt(i,i.return,ue)}}if(i===s){ke=null;break}if(d=i.sibling,d!==null){d.return=i.return,ke=d;break}ke=i.return}}function Kx(s){for(;ke!==null;){var i=ke;if(i===s){ke=null;break}var d=i.sibling;if(d!==null){d.return=i.return,ke=d;break}ke=i.return}}function Zx(s){for(;ke!==null;){var i=ke;try{switch(i.tag){case 0:case 11:case 15:var d=i.return;try{cu(4,i)}catch(Z){vt(i,d,Z)}break;case 1:var g=i.stateNode;if(typeof g.componentDidMount=="function"){var _=i.return;try{g.componentDidMount()}catch(Z){vt(i,_,Z)}}var S=i.return;try{th(i)}catch(Z){vt(i,S,Z)}break;case 5:var A=i.return;try{th(i)}catch(Z){vt(i,A,Z)}}}catch(Z){vt(i,i.return,Z)}if(i===s){ke=null;break}var K=i.sibling;if(K!==null){K.return=i.return,ke=K;break}ke=i.return}}var O8=Math.ceil,uu=j.ReactCurrentDispatcher,oh=j.ReactCurrentOwner,qn=j.ReactCurrentBatchConfig,Ye=0,$t=null,Nt=null,Ut=0,Ln=0,Di=Fo(0),Tt=0,ul=null,Ms=0,du=0,sh=0,dl=null,xn=null,ih=0,Oi=1/0,lo=null,fu=!1,ah=null,Uo=null,pu=!1,Go=null,hu=0,fl=0,lh=null,mu=-1,gu=0;function ln(){return(Ye&6)!==0?dt():mu!==-1?mu:mu=dt()}function Yo(s){return(s.mode&1)===0?1:(Ye&2)!==0&&Ut!==0?Ut&-Ut:_8.transition!==null?(gu===0&&(gu=xi()),gu):(s=Ze,s!==0||(s=window.event,s=s===void 0?16:q1(s.type)),s)}function dr(s,i,d,g){if(50<fl)throw fl=0,lh=null,Error(n(185));Cs(s,d,g),((Ye&2)===0||s!==$t)&&(s===$t&&((Ye&2)===0&&(du|=d),Tt===4&&Ko(s,Ut)),vn(s,g),d===1&&Ye===0&&(i.mode&1)===0&&(Oi=dt()+500,Wc&&Bo()))}function vn(s,i){var d=s.callbackNode;Hf(s,i);var g=gi(s,s===$t?Ut:0);if(g===0)d!==null&&wc(d),s.callbackNode=null,s.callbackPriority=0;else if(i=g&-g,s.callbackPriority!==i){if(d!=null&&wc(d),i===1)s.tag===0?w8(qx.bind(null,s)):z0(qx.bind(null,s)),g8(function(){(Ye&6)===0&&Bo()}),d=null;else{switch(H1(g)){case 1:d=Ra;break;case 4:d=bc;break;case 16:d=pi;break;case 536870912:d=Cc;break;default:d=pi}d=sv(d,Xx.bind(null,s))}s.callbackPriority=i,s.callbackNode=d}}function Xx(s,i){if(mu=-1,gu=0,(Ye&6)!==0)throw Error(n(327));var d=s.callbackNode;if(Fi()&&s.callbackNode!==d)return null;var g=gi(s,s===$t?Ut:0);if(g===0)return null;if((g&30)!==0||(g&s.expiredLanes)!==0||i)i=xu(s,g);else{i=g;var _=Ye;Ye|=2;var S=Jx();($t!==s||Ut!==i)&&(lo=null,Oi=dt()+500,Ts(s,i));do try{B8();break}catch(K){Qx(s,K)}while(!0);Sp(),uu.current=S,Ye=_,Nt!==null?i=0:($t=null,Ut=0,i=Tt)}if(i!==0){if(i===2&&(_=Aa(s),_!==0&&(g=_,i=ch(s,_))),i===1)throw d=ul,Ts(s,0),Ko(s,g),vn(s,dt()),d;if(i===6)Ko(s,g);else{if(_=s.current.alternate,(g&30)===0&&!F8(_)&&(i=xu(s,g),i===2&&(S=Aa(s),S!==0&&(g=S,i=ch(s,S))),i===1))throw d=ul,Ts(s,0),Ko(s,g),vn(s,dt()),d;switch(s.finishedWork=_,s.finishedLanes=g,i){case 0:case 1:throw Error(n(345));case 2:Rs(s,xn,lo);break;case 3:if(Ko(s,g),(g&130023424)===g&&(i=ih+500-dt(),10<i)){if(gi(s,0)!==0)break;if(_=s.suspendedLanes,(_&g)!==g){ln(),s.pingedLanes|=s.suspendedLanes&_;break}s.timeoutHandle=mp(Rs.bind(null,s,xn,lo),i);break}Rs(s,xn,lo);break;case 4:if(Ko(s,g),(g&4194240)===g)break;for(i=s.eventTimes,_=-1;0<g;){var A=31-En(g);S=1<<A,A=i[A],A>_&&(_=A),g&=~S}if(g=_,g=dt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*O8(g/1960))-g,10<g){s.timeoutHandle=mp(Rs.bind(null,s,xn,lo),g);break}Rs(s,xn,lo);break;case 5:Rs(s,xn,lo);break;default:throw Error(n(329))}}}return vn(s,dt()),s.callbackNode===d?Xx.bind(null,s):null}function ch(s,i){var d=dl;return s.current.memoizedState.isDehydrated&&(Ts(s,i).flags|=256),s=xu(s,i),s!==2&&(i=xn,xn=d,i!==null&&uh(i)),s}function uh(s){xn===null?xn=s:xn.push.apply(xn,s)}function F8(s){for(var i=s;;){if(i.flags&16384){var d=i.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var g=0;g<d.length;g++){var _=d[g],S=_.getSnapshot;_=_.value;try{if(!ir(S(),_))return!1}catch{return!1}}}if(d=i.child,i.subtreeFlags&16384&&d!==null)d.return=i,i=d;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ko(s,i){for(i&=~sh,i&=~du,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var d=31-En(i),g=1<<d;s[d]=-1,i&=~g}}function qx(s){if((Ye&6)!==0)throw Error(n(327));Fi();var i=gi(s,0);if((i&1)===0)return vn(s,dt()),null;var d=xu(s,i);if(s.tag!==0&&d===2){var g=Aa(s);g!==0&&(i=g,d=ch(s,g))}if(d===1)throw d=ul,Ts(s,0),Ko(s,i),vn(s,dt()),d;if(d===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,Rs(s,xn,lo),vn(s,dt()),null}function dh(s,i){var d=Ye;Ye|=1;try{return s(i)}finally{Ye=d,Ye===0&&(Oi=dt()+500,Wc&&Bo())}}function Ls(s){Go!==null&&Go.tag===0&&(Ye&6)===0&&Fi();var i=Ye;Ye|=1;var d=qn.transition,g=Ze;try{if(qn.transition=null,Ze=1,s)return s()}finally{Ze=g,qn.transition=d,Ye=i,(Ye&6)===0&&Bo()}}function fh(){Ln=Di.current,rt(Di)}function Ts(s,i){s.finishedWork=null,s.finishedLanes=0;var d=s.timeoutHandle;if(d!==-1&&(s.timeoutHandle=-1,m8(d)),Nt!==null)for(d=Nt.return;d!==null;){var g=d;switch(_p(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Vc();break;case 3:Ri(),rt(hn),rt(Xt),Rp();break;case 5:Lp(g);break;case 4:Ri();break;case 13:rt(ft);break;case 19:rt(ft);break;case 10:jp(g.type._context);break;case 22:case 23:fh()}d=d.return}if($t=s,Nt=s=Zo(s.current,null),Ut=Ln=i,Tt=0,ul=null,sh=du=Ms=0,xn=dl=null,Es!==null){for(i=0;i<Es.length;i++)if(d=Es[i],g=d.interleaved,g!==null){d.interleaved=null;var _=g.next,S=d.pending;if(S!==null){var A=S.next;S.next=_,g.next=A}d.pending=g}Es=null}return s}function Qx(s,i){do{var d=Nt;try{if(Sp(),eu.current=ou,tu){for(var g=pt.memoizedState;g!==null;){var _=g.queue;_!==null&&(_.pending=null),g=g.next}tu=!1}if(Is=0,Ft=Lt=pt=null,ol=!1,sl=0,oh.current=null,d===null||d.return===null){Tt=1,ul=i,Nt=null;break}e:{var S=s,A=d.return,K=d,Z=i;if(i=Ut,K.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var se=Z,pe=K,he=pe.tag;if((pe.mode&1)===0&&(he===0||he===11||he===15)){var ue=pe.alternate;ue?(pe.updateQueue=ue.updateQueue,pe.memoizedState=ue.memoizedState,pe.lanes=ue.lanes):(pe.updateQueue=null,pe.memoizedState=null)}var be=Cx(A);if(be!==null){be.flags&=-257,kx(be,A,K,S,i),be.mode&1&&bx(S,se,i),i=be,Z=se;var Ne=i.updateQueue;if(Ne===null){var Pe=new Set;Pe.add(Z),i.updateQueue=Pe}else Ne.add(Z);break e}else{if((i&1)===0){bx(S,se,i),ph();break e}Z=Error(n(426))}}else if(at&&K.mode&1){var bt=Cx(A);if(bt!==null){(bt.flags&65536)===0&&(bt.flags|=256),kx(bt,A,K,S,i),kp(Ai(Z,K));break e}}S=Z=Ai(Z,K),Tt!==4&&(Tt=2),dl===null?dl=[S]:dl.push(S),S=A;do{switch(S.tag){case 3:S.flags|=65536,i&=-i,S.lanes|=i;var re=wx(S,Z,i);Y0(S,re);break e;case 1:K=Z;var Q=S.type,oe=S.stateNode;if((S.flags&128)===0&&(typeof Q.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(Uo===null||!Uo.has(oe)))){S.flags|=65536,i&=-i,S.lanes|=i;var xe=_x(S,K,i);Y0(S,xe);break e}}S=S.return}while(S!==null)}tv(d)}catch(Ie){i=Ie,Nt===d&&d!==null&&(Nt=d=d.return);continue}break}while(!0)}function Jx(){var s=uu.current;return uu.current=ou,s===null?ou:s}function ph(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),$t===null||(Ms&268435455)===0&&(du&268435455)===0||Ko($t,Ut)}function xu(s,i){var d=Ye;Ye|=2;var g=Jx();($t!==s||Ut!==i)&&(lo=null,Ts(s,i));do try{$8();break}catch(_){Qx(s,_)}while(!0);if(Sp(),Ye=d,uu.current=g,Nt!==null)throw Error(n(261));return $t=null,Ut=0,Tt}function $8(){for(;Nt!==null;)ev(Nt)}function B8(){for(;Nt!==null&&!zf();)ev(Nt)}function ev(s){var i=ov(s.alternate,s,Ln);s.memoizedProps=s.pendingProps,i===null?tv(s):Nt=i,oh.current=null}function tv(s){var i=s;do{var d=i.alternate;if(s=i.return,(i.flags&32768)===0){if(d=T8(d,i,Ln),d!==null){Nt=d;return}}else{if(d=R8(d,i),d!==null){d.flags&=32767,Nt=d;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Tt=6,Nt=null;return}}if(i=i.sibling,i!==null){Nt=i;return}Nt=i=s}while(i!==null);Tt===0&&(Tt=5)}function Rs(s,i,d){var g=Ze,_=qn.transition;try{qn.transition=null,Ze=1,V8(s,i,d,g)}finally{qn.transition=_,Ze=g}return null}function V8(s,i,d,g){do Fi();while(Go!==null);if((Ye&6)!==0)throw Error(n(327));d=s.finishedWork;var _=s.finishedLanes;if(d===null)return null;if(s.finishedWork=null,s.finishedLanes=0,d===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var S=d.lanes|d.childLanes;if(Nc(s,S),s===$t&&(Nt=$t=null,Ut=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||pu||(pu=!0,sv(pi,function(){return Fi(),null})),S=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||S){S=qn.transition,qn.transition=null;var A=Ze;Ze=1;var K=Ye;Ye|=4,oh.current=null,z8(s,d),Ux(d,s),l8(pp),Ec=!!fp,pp=fp=null,s.current=d,D8(d),_c(),Ye=K,Ze=A,qn.transition=S}else s.current=d;if(pu&&(pu=!1,Go=s,hu=_),S=s.pendingLanes,S===0&&(Uo=null),Ff(d.stateNode),vn(s,dt()),i!==null)for(g=s.onRecoverableError,d=0;d<i.length;d++)_=i[d],g(_.value,{componentStack:_.stack,digest:_.digest});if(fu)throw fu=!1,s=ah,ah=null,s;return(hu&1)!==0&&s.tag!==0&&Fi(),S=s.pendingLanes,(S&1)!==0?s===lh?fl++:(fl=0,lh=s):fl=0,Bo(),null}function Fi(){if(Go!==null){var s=H1(hu),i=qn.transition,d=Ze;try{if(qn.transition=null,Ze=16>s?16:s,Go===null)var g=!1;else{if(s=Go,Go=null,hu=0,(Ye&6)!==0)throw Error(n(331));var _=Ye;for(Ye|=4,ke=s.current;ke!==null;){var S=ke,A=S.child;if((ke.flags&16)!==0){var K=S.deletions;if(K!==null){for(var Z=0;Z<K.length;Z++){var se=K[Z];for(ke=se;ke!==null;){var pe=ke;switch(pe.tag){case 0:case 11:case 15:cl(8,pe,S)}var he=pe.child;if(he!==null)he.return=pe,ke=he;else for(;ke!==null;){pe=ke;var ue=pe.sibling,be=pe.return;if($x(pe),pe===se){ke=null;break}if(ue!==null){ue.return=be,ke=ue;break}ke=be}}}var Ne=S.alternate;if(Ne!==null){var Pe=Ne.child;if(Pe!==null){Ne.child=null;do{var bt=Pe.sibling;Pe.sibling=null,Pe=bt}while(Pe!==null)}}ke=S}}if((S.subtreeFlags&2064)!==0&&A!==null)A.return=S,ke=A;else e:for(;ke!==null;){if(S=ke,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:cl(9,S,S.return)}var re=S.sibling;if(re!==null){re.return=S.return,ke=re;break e}ke=S.return}}var Q=s.current;for(ke=Q;ke!==null;){A=ke;var oe=A.child;if((A.subtreeFlags&2064)!==0&&oe!==null)oe.return=A,ke=oe;else e:for(A=Q;ke!==null;){if(K=ke,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:cu(9,K)}}catch(Ie){vt(K,K.return,Ie)}if(K===A){ke=null;break e}var xe=K.sibling;if(xe!==null){xe.return=K.return,ke=xe;break e}ke=K.return}}if(Ye=_,Bo(),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(bs,s)}catch{}g=!0}return g}finally{Ze=d,qn.transition=i}}return!1}function nv(s,i,d){i=Ai(d,i),i=wx(s,i,1),s=Ho(s,i,1),i=ln(),s!==null&&(Cs(s,1,i),vn(s,i))}function vt(s,i,d){if(s.tag===3)nv(s,s,d);else for(;i!==null;){if(i.tag===3){nv(i,s,d);break}else if(i.tag===1){var g=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Uo===null||!Uo.has(g))){s=Ai(d,s),s=_x(i,s,1),i=Ho(i,s,1),s=ln(),i!==null&&(Cs(i,1,s),vn(i,s));break}}i=i.return}}function H8(s,i,d){var g=s.pingCache;g!==null&&g.delete(i),i=ln(),s.pingedLanes|=s.suspendedLanes&d,$t===s&&(Ut&d)===d&&(Tt===4||Tt===3&&(Ut&130023424)===Ut&&500>dt()-ih?Ts(s,0):sh|=d),vn(s,i)}function rv(s,i){i===0&&((s.mode&1)===0?i=1:(i=mi,mi<<=1,(mi&130023424)===0&&(mi=4194304)));var d=ln();s=so(s,i),s!==null&&(Cs(s,i,d),vn(s,d))}function W8(s){var i=s.memoizedState,d=0;i!==null&&(d=i.retryLane),rv(s,d)}function U8(s,i){var d=0;switch(s.tag){case 13:var g=s.stateNode,_=s.memoizedState;_!==null&&(d=_.retryLane);break;case 19:g=s.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(i),rv(s,d)}var ov;ov=function(s,i,d){if(s!==null)if(s.memoizedProps!==i.pendingProps||hn.current)gn=!0;else{if((s.lanes&d)===0&&(i.flags&128)===0)return gn=!1,L8(s,i,d);gn=(s.flags&131072)!==0}else gn=!1,at&&(i.flags&1048576)!==0&&D0(i,Gc,i.index);switch(i.lanes=0,i.tag){case 2:var g=i.type;au(s,i),s=i.pendingProps;var _=ji(i,Xt.current);Ti(i,d),_=Dp(null,i,g,s,_,d);var S=Op();return i.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,mn(g)?(S=!0,Hc(i)):S=!1,i.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,Ip(i),_.updater=su,i.stateNode=_,_._reactInternals=i,Wp(i,g,s,d),i=Kp(null,i,g,!0,S,d)):(i.tag=0,at&&S&&wp(i),an(null,i,_,d),i=i.child),i;case 16:g=i.elementType;e:{switch(au(s,i),s=i.pendingProps,_=g._init,g=_(g._payload),i.type=g,_=i.tag=Y8(g),s=lr(g,s),_){case 0:i=Yp(null,i,g,s,d);break e;case 1:i=Ix(null,i,g,s,d);break e;case 11:i=Nx(null,i,g,s,d);break e;case 14:i=Sx(null,i,g,lr(g.type,s),d);break e}throw Error(n(306,g,""))}return i;case 0:return g=i.type,_=i.pendingProps,_=i.elementType===g?_:lr(g,_),Yp(s,i,g,_,d);case 1:return g=i.type,_=i.pendingProps,_=i.elementType===g?_:lr(g,_),Ix(s,i,g,_,d);case 3:e:{if(Mx(i),s===null)throw Error(n(387));g=i.pendingProps,S=i.memoizedState,_=S.element,G0(s,i),Qc(i,g,null,d);var A=i.memoizedState;if(g=A.element,S.isDehydrated)if(S={element:g,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},i.updateQueue.baseState=S,i.memoizedState=S,i.flags&256){_=Ai(Error(n(423)),i),i=Lx(s,i,g,d,_);break e}else if(g!==_){_=Ai(Error(n(424)),i),i=Lx(s,i,g,d,_);break e}else for(Mn=Oo(i.stateNode.containerInfo.firstChild),In=i,at=!0,ar=null,d=W0(i,null,g,d),i.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Ii(),g===_){i=ao(s,i,d);break e}an(s,i,g,d)}i=i.child}return i;case 5:return Z0(i),s===null&&Cp(i),g=i.type,_=i.pendingProps,S=s!==null?s.memoizedProps:null,A=_.children,hp(g,_)?A=null:S!==null&&hp(g,S)&&(i.flags|=32),Px(s,i),an(s,i,A,d),i.child;case 6:return s===null&&Cp(i),null;case 13:return Tx(s,i,d);case 4:return Mp(i,i.stateNode.containerInfo),g=i.pendingProps,s===null?i.child=Mi(i,null,g,d):an(s,i,g,d),i.child;case 11:return g=i.type,_=i.pendingProps,_=i.elementType===g?_:lr(g,_),Nx(s,i,g,_,d);case 7:return an(s,i,i.pendingProps,d),i.child;case 8:return an(s,i,i.pendingProps.children,d),i.child;case 12:return an(s,i,i.pendingProps.children,d),i.child;case 10:e:{if(g=i.type._context,_=i.pendingProps,S=i.memoizedProps,A=_.value,tt(Zc,g._currentValue),g._currentValue=A,S!==null)if(ir(S.value,A)){if(S.children===_.children&&!hn.current){i=ao(s,i,d);break e}}else for(S=i.child,S!==null&&(S.return=i);S!==null;){var K=S.dependencies;if(K!==null){A=S.child;for(var Z=K.firstContext;Z!==null;){if(Z.context===g){if(S.tag===1){Z=io(-1,d&-d),Z.tag=2;var se=S.updateQueue;if(se!==null){se=se.shared;var pe=se.pending;pe===null?Z.next=Z:(Z.next=pe.next,pe.next=Z),se.pending=Z}}S.lanes|=d,Z=S.alternate,Z!==null&&(Z.lanes|=d),Ep(S.return,d,i),K.lanes|=d;break}Z=Z.next}}else if(S.tag===10)A=S.type===i.type?null:S.child;else if(S.tag===18){if(A=S.return,A===null)throw Error(n(341));A.lanes|=d,K=A.alternate,K!==null&&(K.lanes|=d),Ep(A,d,i),A=S.sibling}else A=S.child;if(A!==null)A.return=S;else for(A=S;A!==null;){if(A===i){A=null;break}if(S=A.sibling,S!==null){S.return=A.return,A=S;break}A=A.return}S=A}an(s,i,_.children,d),i=i.child}return i;case 9:return _=i.type,g=i.pendingProps.children,Ti(i,d),_=Zn(_),g=g(_),i.flags|=1,an(s,i,g,d),i.child;case 14:return g=i.type,_=lr(g,i.pendingProps),_=lr(g.type,_),Sx(s,i,g,_,d);case 15:return jx(s,i,i.type,i.pendingProps,d);case 17:return g=i.type,_=i.pendingProps,_=i.elementType===g?_:lr(g,_),au(s,i),i.tag=1,mn(g)?(s=!0,Hc(i)):s=!1,Ti(i,d),vx(i,g,_),Wp(i,g,_,d),Kp(null,i,g,!0,s,d);case 19:return Ax(s,i,d);case 22:return Ex(s,i,d)}throw Error(n(156,i.tag))};function sv(s,i){return yc(s,i)}function G8(s,i,d,g){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(s,i,d,g){return new G8(s,i,d,g)}function hh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Y8(s){if(typeof s=="function")return hh(s)?1:0;if(s!=null){if(s=s.$$typeof,s===V)return 11;if(s===M)return 14}return 2}function Zo(s,i){var d=s.alternate;return d===null?(d=Qn(s.tag,i,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=i,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&14680064,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,i=s.dependencies,d.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d}function vu(s,i,d,g,_,S){var A=2;if(g=s,typeof s=="function")hh(s)&&(A=1);else if(typeof s=="string")A=5;else e:switch(s){case T:return As(d.children,_,S,i);case D:A=8,_|=8;break;case $:return s=Qn(12,d,i,_|2),s.elementType=$,s.lanes=S,s;case W:return s=Qn(13,d,i,_),s.elementType=W,s.lanes=S,s;case z:return s=Qn(19,d,i,_),s.elementType=z,s.lanes=S,s;case H:return yu(d,_,S,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Y:A=10;break e;case G:A=9;break e;case V:A=11;break e;case M:A=14;break e;case F:A=16,g=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return i=Qn(A,d,i,_),i.elementType=s,i.type=g,i.lanes=S,i}function As(s,i,d,g){return s=Qn(7,s,g,i),s.lanes=d,s}function yu(s,i,d,g){return s=Qn(22,s,g,i),s.elementType=H,s.lanes=d,s.stateNode={isHidden:!1},s}function mh(s,i,d){return s=Qn(6,s,null,i),s.lanes=d,s}function gh(s,i,d){return i=Qn(4,s.children!==null?s.children:[],s.key,i),i.lanes=d,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function K8(s,i,d,g,_){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=za(0),this.expirationTimes=za(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=za(0),this.identifierPrefix=g,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function xh(s,i,d,g,_,S,A,K,Z){return s=new K8(s,i,d,K,Z),i===1?(i=1,S===!0&&(i|=8)):i=0,S=Qn(3,null,null,i),s.current=S,S.stateNode=s,S.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ip(S),s}function Z8(s,i,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:g==null?null:""+g,children:s,containerInfo:i,implementation:d}}function iv(s){if(!s)return $o;s=s._reactInternals;e:{if(Mr(s)!==s||s.tag!==1)throw Error(n(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(mn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(s.tag===1){var d=s.type;if(mn(d))return R0(s,d,i)}return i}function av(s,i,d,g,_,S,A,K,Z){return s=xh(d,g,!0,s,_,S,A,K,Z),s.context=iv(null),d=s.current,g=ln(),_=Yo(d),S=io(g,_),S.callback=i??null,Ho(d,S,_),s.current.lanes=_,Cs(s,_,g),vn(s,g),s}function wu(s,i,d,g){var _=i.current,S=ln(),A=Yo(_);return d=iv(d),i.context===null?i.context=d:i.pendingContext=d,i=io(S,A),i.payload={element:s},g=g===void 0?null:g,g!==null&&(i.callback=g),s=Ho(_,i,A),s!==null&&(dr(s,_,A,S),qc(s,_,A)),A}function _u(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function lv(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<i?d:i}}function vh(s,i){lv(s,i),(s=s.alternate)&&lv(s,i)}function X8(){return null}var cv=typeof reportError=="function"?reportError:function(s){console.error(s)};function yh(s){this._internalRoot=s}bu.prototype.render=yh.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(n(409));wu(s,i,null,null)},bu.prototype.unmount=yh.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;Ls(function(){wu(null,s,null,null)}),i[to]=null}};function bu(s){this._internalRoot=s}bu.prototype.unstable_scheduleHydration=function(s){if(s){var i=G1();s={blockedOn:null,target:s,priority:i};for(var d=0;d<Ao.length&&i!==0&&i<Ao[d].priority;d++);Ao.splice(d,0,s),d===0&&Z1(s)}};function wh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Cu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function uv(){}function q8(s,i,d,g,_){if(_){if(typeof g=="function"){var S=g;g=function(){var se=_u(A);S.call(se)}}var A=av(i,g,s,0,null,!1,!1,"",uv);return s._reactRootContainer=A,s[to]=A.current,Xa(s.nodeType===8?s.parentNode:s),Ls(),A}for(;_=s.lastChild;)s.removeChild(_);if(typeof g=="function"){var K=g;g=function(){var se=_u(Z);K.call(se)}}var Z=xh(s,0,!1,null,null,!1,!1,"",uv);return s._reactRootContainer=Z,s[to]=Z.current,Xa(s.nodeType===8?s.parentNode:s),Ls(function(){wu(i,Z,d,g)}),Z}function ku(s,i,d,g,_){var S=d._reactRootContainer;if(S){var A=S;if(typeof _=="function"){var K=_;_=function(){var Z=_u(A);K.call(Z)}}wu(i,A,s,_)}else A=q8(d,i,s,_,g);return _u(A)}W1=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var d=Mo(i.pendingLanes);d!==0&&(Wf(i,d|1),vn(i,dt()),(Ye&6)===0&&(Oi=dt()+500,Bo()))}break;case 13:Ls(function(){var g=so(s,1);if(g!==null){var _=ln();dr(g,s,1,_)}}),vh(s,1)}},Uf=function(s){if(s.tag===13){var i=so(s,134217728);if(i!==null){var d=ln();dr(i,s,134217728,d)}vh(s,134217728)}},U1=function(s){if(s.tag===13){var i=Yo(s),d=so(s,i);if(d!==null){var g=ln();dr(d,s,i,g)}vh(s,i)}},G1=function(){return Ze},Y1=function(s,i){var d=Ze;try{return Ze=s,i()}finally{Ze=d}},ys=function(s,i,d){switch(i){case"input":if(ce(s,d),i=d.name,d.type==="radio"&&i!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<d.length;i++){var g=d[i];if(g!==s&&g.form===s.form){var _=Bc(g);if(!_)throw Error(n(90));te(g),ce(g,_)}}}break;case"textarea":zt(s,d);break;case"select":i=d.value,i!=null&&Ue(s,!!d.multiple,i,!1)}},_t=dh,Ot=Ls;var Q8={usingClientEntryPoint:!1,Events:[Ja,Ni,Bc,Fe,ut,dh]},pl={findFiberByHostInstance:ks,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},J8={bundleType:pl.bundleType,version:pl.version,rendererPackageName:pl.rendererPackageName,rendererConfig:pl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=xc(s),s===null?null:s.stateNode},findFiberByHostInstance:pl.findFiberByHostInstance||X8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nu.isDisabled&&Nu.supportsFiber)try{bs=Nu.inject(J8),Gn=Nu}catch{}}return yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q8,yn.createPortal=function(s,i){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wh(i))throw Error(n(200));return Z8(s,i,null,d)},yn.createRoot=function(s,i){if(!wh(s))throw Error(n(299));var d=!1,g="",_=cv;return i!=null&&(i.unstable_strictMode===!0&&(d=!0),i.identifierPrefix!==void 0&&(g=i.identifierPrefix),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=xh(s,1,!1,null,null,d,!1,g,_),s[to]=i.current,Xa(s.nodeType===8?s.parentNode:s),new yh(i)},yn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=xc(i),s=s===null?null:s.stateNode,s},yn.flushSync=function(s){return Ls(s)},yn.hydrate=function(s,i,d){if(!Cu(i))throw Error(n(200));return ku(null,s,i,!0,d)},yn.hydrateRoot=function(s,i,d){if(!wh(s))throw Error(n(405));var g=d!=null&&d.hydratedSources||null,_=!1,S="",A=cv;if(d!=null&&(d.unstable_strictMode===!0&&(_=!0),d.identifierPrefix!==void 0&&(S=d.identifierPrefix),d.onRecoverableError!==void 0&&(A=d.onRecoverableError)),i=av(i,null,s,1,d??null,_,!1,S,A),s[to]=i.current,Xa(s),g)for(s=0;s<g.length;s++)d=g[s],_=d._getVersion,_=_(d._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[d,_]:i.mutableSourceEagerHydrationData.push(d,_);return new bu(i)},yn.render=function(s,i,d){if(!Cu(i))throw Error(n(200));return ku(null,s,i,!1,d)},yn.unmountComponentAtNode=function(s){if(!Cu(s))throw Error(n(40));return s._reactRootContainer?(Ls(function(){ku(null,null,s,!1,function(){s._reactRootContainer=null,s[to]=null})}),!0):!1},yn.unstable_batchedUpdates=dh,yn.unstable_renderSubtreeIntoContainer=function(s,i,d,g){if(!Cu(d))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return ku(s,i,d,!1,g)},yn.version="18.3.1-next-f1338f8080-20240426",yn}var vv;function J2(){if(vv)return Ch.exports;vv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ch.exports=a7(),Ch.exports}var yv;function l7(){if(yv)return Su;yv=1;var e=J2();return Su.createRoot=e.createRoot,Su.hydrateRoot=e.hydrateRoot,Su}var c7=l7(),b=oc();const ge=mg(b),gg=t7({__proto__:null,default:ge},[b]);function Et(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Et(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var u7={value:()=>{}};function Ud(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new td(n)}function td(e){this._=e}function d7(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}td.prototype=Ud.prototype={constructor:td,on:function(e,t){var n=this._,r=d7(e+"",n),o,a=-1,c=r.length;if(arguments.length<2){for(;++a<c;)if((o=(e=r[a]).type)&&(o=f7(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<c;)if(o=(e=r[a]).type)n[o]=wv(n[o],e.name,t);else if(t==null)for(o in n)n[o]=wv(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new td(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,a;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,o=a.length;r<o;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,a=r.length;o<a;++o)r[o].value.apply(t,n)}};function f7(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function wv(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=u7,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var ym="http://www.w3.org/1999/xhtml";const _v={svg:"http://www.w3.org/2000/svg",xhtml:ym,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Gd(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),_v.hasOwnProperty(t)?{space:_v[t],local:e}:e}function p7(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ym&&t.documentElement.namespaceURI===ym?t.createElement(e):t.createElementNS(n,e)}}function h7(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ew(e){var t=Gd(e);return(t.local?h7:p7)(t)}function m7(){}function xg(e){return e==null?m7:function(){return this.querySelector(e)}}function g7(e){typeof e!="function"&&(e=xg(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var a=t[o],c=a.length,u=r[o]=new Array(c),p,f,h=0;h<c;++h)(p=a[h])&&(f=e.call(p,p.__data__,h,a))&&("__data__"in p&&(f.__data__=p.__data__),u[h]=f);return new Vn(r,this._parents)}function x7(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function v7(){return[]}function tw(e){return e==null?v7:function(){return this.querySelectorAll(e)}}function y7(e){return function(){return x7(e.apply(this,arguments))}}function w7(e){typeof e=="function"?e=y7(e):e=tw(e);for(var t=this._groups,n=t.length,r=[],o=[],a=0;a<n;++a)for(var c=t[a],u=c.length,p,f=0;f<u;++f)(p=c[f])&&(r.push(e.call(p,p.__data__,f,c)),o.push(p));return new Vn(r,o)}function nw(e){return function(){return this.matches(e)}}function rw(e){return function(t){return t.matches(e)}}var _7=Array.prototype.find;function b7(e){return function(){return _7.call(this.children,e)}}function C7(){return this.firstElementChild}function k7(e){return this.select(e==null?C7:b7(typeof e=="function"?e:rw(e)))}var N7=Array.prototype.filter;function S7(){return Array.from(this.children)}function j7(e){return function(){return N7.call(this.children,e)}}function E7(e){return this.selectAll(e==null?S7:j7(typeof e=="function"?e:rw(e)))}function P7(e){typeof e!="function"&&(e=nw(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var a=t[o],c=a.length,u=r[o]=[],p,f=0;f<c;++f)(p=a[f])&&e.call(p,p.__data__,f,a)&&u.push(p);return new Vn(r,this._parents)}function ow(e){return new Array(e.length)}function I7(){return new Vn(this._enter||this._groups.map(ow),this._parents)}function pd(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}pd.prototype={constructor:pd,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function M7(e){return function(){return e}}function L7(e,t,n,r,o,a){for(var c=0,u,p=t.length,f=a.length;c<f;++c)(u=t[c])?(u.__data__=a[c],r[c]=u):n[c]=new pd(e,a[c]);for(;c<p;++c)(u=t[c])&&(o[c]=u)}function T7(e,t,n,r,o,a,c){var u,p,f=new Map,h=t.length,m=a.length,x=new Array(h),y;for(u=0;u<h;++u)(p=t[u])&&(x[u]=y=c.call(p,p.__data__,u,t)+"",f.has(y)?o[u]=p:f.set(y,p));for(u=0;u<m;++u)y=c.call(e,a[u],u,a)+"",(p=f.get(y))?(r[u]=p,p.__data__=a[u],f.delete(y)):n[u]=new pd(e,a[u]);for(u=0;u<h;++u)(p=t[u])&&f.get(x[u])===p&&(o[u]=p)}function R7(e){return e.__data__}function A7(e,t){if(!arguments.length)return Array.from(this,R7);var n=t?T7:L7,r=this._parents,o=this._groups;typeof e!="function"&&(e=M7(e));for(var a=o.length,c=new Array(a),u=new Array(a),p=new Array(a),f=0;f<a;++f){var h=r[f],m=o[f],x=m.length,y=z7(e.call(h,h&&h.__data__,f,r)),w=y.length,v=u[f]=new Array(w),C=c[f]=new Array(w),k=p[f]=new Array(x);n(h,m,v,C,k,y,t);for(var E=0,N=0,j,P;E<w;++E)if(j=v[E]){for(E>=N&&(N=E+1);!(P=C[N])&&++N<w;);j._next=P||null}}return c=new Vn(c,r),c._enter=u,c._exit=p,c}function z7(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function D7(){return new Vn(this._exit||this._groups.map(ow),this._parents)}function O7(e,t,n){var r=this.enter(),o=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?a.remove():n(a),r&&o?r.merge(o).order():o}function F7(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,a=r.length,c=Math.min(o,a),u=new Array(o),p=0;p<c;++p)for(var f=n[p],h=r[p],m=f.length,x=u[p]=new Array(m),y,w=0;w<m;++w)(y=f[w]||h[w])&&(x[w]=y);for(;p<o;++p)u[p]=n[p];return new Vn(u,this._parents)}function $7(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,a=r[o],c;--o>=0;)(c=r[o])&&(a&&c.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(c,a),a=c);return this}function B7(e){e||(e=V7);function t(m,x){return m&&x?e(m.__data__,x.__data__):!m-!x}for(var n=this._groups,r=n.length,o=new Array(r),a=0;a<r;++a){for(var c=n[a],u=c.length,p=o[a]=new Array(u),f,h=0;h<u;++h)(f=c[h])&&(p[h]=f);p.sort(t)}return new Vn(o,this._parents).order()}function V7(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function H7(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function W7(){return Array.from(this)}function U7(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,a=r.length;o<a;++o){var c=r[o];if(c)return c}return null}function G7(){let e=0;for(const t of this)++e;return e}function Y7(){return!this.node()}function K7(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],a=0,c=o.length,u;a<c;++a)(u=o[a])&&e.call(u,u.__data__,a,o);return this}function Z7(e){return function(){this.removeAttribute(e)}}function X7(e){return function(){this.removeAttributeNS(e.space,e.local)}}function q7(e,t){return function(){this.setAttribute(e,t)}}function Q7(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function J7(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function eC(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function tC(e,t){var n=Gd(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?X7:Z7:typeof t=="function"?n.local?eC:J7:n.local?Q7:q7)(n,t))}function sw(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function nC(e){return function(){this.style.removeProperty(e)}}function rC(e,t,n){return function(){this.style.setProperty(e,t,n)}}function oC(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function sC(e,t,n){return arguments.length>1?this.each((t==null?nC:typeof t=="function"?oC:rC)(e,t,n??"")):la(this.node(),e)}function la(e,t){return e.style.getPropertyValue(t)||sw(e).getComputedStyle(e,null).getPropertyValue(t)}function iC(e){return function(){delete this[e]}}function aC(e,t){return function(){this[e]=t}}function lC(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function cC(e,t){return arguments.length>1?this.each((t==null?iC:typeof t=="function"?lC:aC)(e,t)):this.node()[e]}function iw(e){return e.trim().split(/^|\s+/)}function vg(e){return e.classList||new aw(e)}function aw(e){this._node=e,this._names=iw(e.getAttribute("class")||"")}aw.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function lw(e,t){for(var n=vg(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function cw(e,t){for(var n=vg(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function uC(e){return function(){lw(this,e)}}function dC(e){return function(){cw(this,e)}}function fC(e,t){return function(){(t.apply(this,arguments)?lw:cw)(this,e)}}function pC(e,t){var n=iw(e+"");if(arguments.length<2){for(var r=vg(this.node()),o=-1,a=n.length;++o<a;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?fC:t?uC:dC)(n,t))}function hC(){this.textContent=""}function mC(e){return function(){this.textContent=e}}function gC(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function xC(e){return arguments.length?this.each(e==null?hC:(typeof e=="function"?gC:mC)(e)):this.node().textContent}function vC(){this.innerHTML=""}function yC(e){return function(){this.innerHTML=e}}function wC(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function _C(e){return arguments.length?this.each(e==null?vC:(typeof e=="function"?wC:yC)(e)):this.node().innerHTML}function bC(){this.nextSibling&&this.parentNode.appendChild(this)}function CC(){return this.each(bC)}function kC(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function NC(){return this.each(kC)}function SC(e){var t=typeof e=="function"?e:ew(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function jC(){return null}function EC(e,t){var n=typeof e=="function"?e:ew(e),r=t==null?jC:typeof t=="function"?t:xg(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function PC(){var e=this.parentNode;e&&e.removeChild(this)}function IC(){return this.each(PC)}function MC(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function LC(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function TC(e){return this.select(e?LC:MC)}function RC(e){return arguments.length?this.property("__data__",e):this.node().__data__}function AC(e){return function(t){e.call(this,t,this.__data__)}}function zC(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function DC(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,a;n<o;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function OC(e,t,n){return function(){var r=this.__on,o,a=AC(t);if(r){for(var c=0,u=r.length;c<u;++c)if((o=r[c]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=n),o.value=t;return}}this.addEventListener(e.type,a,n),o={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(o):this.__on=[o]}}function FC(e,t,n){var r=zC(e+""),o,a=r.length,c;if(arguments.length<2){var u=this.node().__on;if(u){for(var p=0,f=u.length,h;p<f;++p)for(o=0,h=u[p];o<a;++o)if((c=r[o]).type===h.type&&c.name===h.name)return h.value}return}for(u=t?OC:DC,o=0;o<a;++o)this.each(u(r[o],t,n));return this}function uw(e,t,n){var r=sw(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function $C(e,t){return function(){return uw(this,e,t)}}function BC(e,t){return function(){return uw(this,e,t.apply(this,arguments))}}function VC(e,t){return this.each((typeof t=="function"?BC:$C)(e,t))}function*HC(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,a=r.length,c;o<a;++o)(c=r[o])&&(yield c)}var dw=[null];function Vn(e,t){this._groups=e,this._parents=t}function sc(){return new Vn([[document.documentElement]],dw)}function WC(){return this}Vn.prototype=sc.prototype={constructor:Vn,select:g7,selectAll:w7,selectChild:k7,selectChildren:E7,filter:P7,data:A7,enter:I7,exit:D7,join:O7,merge:F7,selection:WC,order:$7,sort:B7,call:H7,nodes:W7,node:U7,size:G7,empty:Y7,each:K7,attr:tC,style:sC,property:cC,classed:pC,text:xC,html:_C,raise:CC,lower:NC,append:SC,insert:EC,remove:IC,clone:TC,datum:RC,on:FC,dispatch:VC,[Symbol.iterator]:HC};function zn(e){return typeof e=="string"?new Vn([[document.querySelector(e)]],[document.documentElement]):new Vn([[e]],dw)}function UC(e){let t;for(;t=e.sourceEvent;)e=t;return e}function pr(e,t){if(e=UC(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const GC={passive:!1},zl={capture:!0,passive:!1};function Sh(e){e.stopImmediatePropagation()}function ea(e){e.preventDefault(),e.stopImmediatePropagation()}function fw(e){var t=e.document.documentElement,n=zn(e).on("dragstart.drag",ea,zl);"onselectstart"in t?n.on("selectstart.drag",ea,zl):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function pw(e,t){var n=e.document.documentElement,r=zn(e).on("dragstart.drag",null);t&&(r.on("click.drag",ea,zl),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const ju=e=>()=>e;function wm(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:a,x:c,y:u,dx:p,dy:f,dispatch:h}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:c,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:p,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:h}})}wm.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function YC(e){return!e.ctrlKey&&!e.button}function KC(){return this.parentNode}function ZC(e,t){return t??{x:e.x,y:e.y}}function XC(){return navigator.maxTouchPoints||"ontouchstart"in this}function hw(){var e=YC,t=KC,n=ZC,r=XC,o={},a=Ud("start","drag","end"),c=0,u,p,f,h,m=0;function x(j){j.on("mousedown.drag",y).filter(r).on("touchstart.drag",C).on("touchmove.drag",k,GC).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(j,P){if(!(h||!e.call(this,j,P))){var L=N(this,t.call(this,j,P),j,P,"mouse");L&&(zn(j.view).on("mousemove.drag",w,zl).on("mouseup.drag",v,zl),fw(j.view),Sh(j),f=!1,u=j.clientX,p=j.clientY,L("start",j))}}function w(j){if(ea(j),!f){var P=j.clientX-u,L=j.clientY-p;f=P*P+L*L>m}o.mouse("drag",j)}function v(j){zn(j.view).on("mousemove.drag mouseup.drag",null),pw(j.view,f),ea(j),o.mouse("end",j)}function C(j,P){if(e.call(this,j,P)){var L=j.changedTouches,T=t.call(this,j,P),D=L.length,$,Y;for($=0;$<D;++$)(Y=N(this,T,j,P,L[$].identifier,L[$]))&&(Sh(j),Y("start",j,L[$]))}}function k(j){var P=j.changedTouches,L=P.length,T,D;for(T=0;T<L;++T)(D=o[P[T].identifier])&&(ea(j),D("drag",j,P[T]))}function E(j){var P=j.changedTouches,L=P.length,T,D;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),T=0;T<L;++T)(D=o[P[T].identifier])&&(Sh(j),D("end",j,P[T]))}function N(j,P,L,T,D,$){var Y=a.copy(),G=pr($||L,P),V,W,z;if((z=n.call(j,new wm("beforestart",{sourceEvent:L,target:x,identifier:D,active:c,x:G[0],y:G[1],dx:0,dy:0,dispatch:Y}),T))!=null)return V=z.x-G[0]||0,W=z.y-G[1]||0,function M(F,H,R){var I=G,U;switch(F){case"start":o[D]=M,U=c++;break;case"end":delete o[D],--c;case"drag":G=pr(R||H,P),U=c;break}Y.call(F,j,new wm(F,{sourceEvent:H,subject:z,target:x,identifier:D,active:U,x:G[0]+V,y:G[1]+W,dx:G[0]-I[0],dy:G[1]-I[1],dispatch:Y}),T)}}return x.filter=function(j){return arguments.length?(e=typeof j=="function"?j:ju(!!j),x):e},x.container=function(j){return arguments.length?(t=typeof j=="function"?j:ju(j),x):t},x.subject=function(j){return arguments.length?(n=typeof j=="function"?j:ju(j),x):n},x.touchable=function(j){return arguments.length?(r=typeof j=="function"?j:ju(!!j),x):r},x.on=function(){var j=a.on.apply(a,arguments);return j===a?x:j},x.clickDistance=function(j){return arguments.length?(m=(j=+j)*j,x):Math.sqrt(m)},x}function yg(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function mw(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ic(){}var Dl=.7,hd=1/Dl,ta="\\s*([+-]?\\d+)\\s*",Ol="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ur="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qC=/^#([0-9a-f]{3,8})$/,QC=new RegExp(`^rgb\\(${ta},${ta},${ta}\\)$`),JC=new RegExp(`^rgb\\(${Ur},${Ur},${Ur}\\)$`),ek=new RegExp(`^rgba\\(${ta},${ta},${ta},${Ol}\\)$`),tk=new RegExp(`^rgba\\(${Ur},${Ur},${Ur},${Ol}\\)$`),nk=new RegExp(`^hsl\\(${Ol},${Ur},${Ur}\\)$`),rk=new RegExp(`^hsla\\(${Ol},${Ur},${Ur},${Ol}\\)$`),bv={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yg(ic,Qs,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Cv,formatHex:Cv,formatHex8:ok,formatHsl:sk,formatRgb:kv,toString:kv});function Cv(){return this.rgb().formatHex()}function ok(){return this.rgb().formatHex8()}function sk(){return gw(this).formatHsl()}function kv(){return this.rgb().formatRgb()}function Qs(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=qC.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Nv(t):n===3?new bn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Eu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Eu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=QC.exec(e))?new bn(t[1],t[2],t[3],1):(t=JC.exec(e))?new bn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ek.exec(e))?Eu(t[1],t[2],t[3],t[4]):(t=tk.exec(e))?Eu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=nk.exec(e))?Ev(t[1],t[2]/100,t[3]/100,1):(t=rk.exec(e))?Ev(t[1],t[2]/100,t[3]/100,t[4]):bv.hasOwnProperty(e)?Nv(bv[e]):e==="transparent"?new bn(NaN,NaN,NaN,0):null}function Nv(e){return new bn(e>>16&255,e>>8&255,e&255,1)}function Eu(e,t,n,r){return r<=0&&(e=t=n=NaN),new bn(e,t,n,r)}function ik(e){return e instanceof ic||(e=Qs(e)),e?(e=e.rgb(),new bn(e.r,e.g,e.b,e.opacity)):new bn}function _m(e,t,n,r){return arguments.length===1?ik(e):new bn(e,t,n,r??1)}function bn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}yg(bn,_m,mw(ic,{brighter(e){return e=e==null?hd:Math.pow(hd,e),new bn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Dl:Math.pow(Dl,e),new bn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new bn(Us(this.r),Us(this.g),Us(this.b),md(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Sv,formatHex:Sv,formatHex8:ak,formatRgb:jv,toString:jv}));function Sv(){return`#${Hs(this.r)}${Hs(this.g)}${Hs(this.b)}`}function ak(){return`#${Hs(this.r)}${Hs(this.g)}${Hs(this.b)}${Hs((isNaN(this.opacity)?1:this.opacity)*255)}`}function jv(){const e=md(this.opacity);return`${e===1?"rgb(":"rgba("}${Us(this.r)}, ${Us(this.g)}, ${Us(this.b)}${e===1?")":`, ${e})`}`}function md(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Us(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Hs(e){return e=Us(e),(e<16?"0":"")+e.toString(16)}function Ev(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new hr(e,t,n,r)}function gw(e){if(e instanceof hr)return new hr(e.h,e.s,e.l,e.opacity);if(e instanceof ic||(e=Qs(e)),!e)return new hr;if(e instanceof hr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),a=Math.max(t,n,r),c=NaN,u=a-o,p=(a+o)/2;return u?(t===a?c=(n-r)/u+(n<r)*6:n===a?c=(r-t)/u+2:c=(t-n)/u+4,u/=p<.5?a+o:2-a-o,c*=60):u=p>0&&p<1?0:c,new hr(c,u,p,e.opacity)}function lk(e,t,n,r){return arguments.length===1?gw(e):new hr(e,t,n,r??1)}function hr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}yg(hr,lk,mw(ic,{brighter(e){return e=e==null?hd:Math.pow(hd,e),new hr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Dl:Math.pow(Dl,e),new hr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new bn(jh(e>=240?e-240:e+120,o,r),jh(e,o,r),jh(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new hr(Pv(this.h),Pu(this.s),Pu(this.l),md(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=md(this.opacity);return`${e===1?"hsl(":"hsla("}${Pv(this.h)}, ${Pu(this.s)*100}%, ${Pu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Pv(e){return e=(e||0)%360,e<0?e+360:e}function Pu(e){return Math.max(0,Math.min(1,e||0))}function jh(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const wg=e=>()=>e;function ck(e,t){return function(n){return e+n*t}}function uk(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function dk(e){return(e=+e)==1?xw:function(t,n){return n-t?uk(t,n,e):wg(isNaN(t)?n:t)}}function xw(e,t){var n=t-e;return n?ck(e,n):wg(isNaN(e)?t:e)}const gd=(function e(t){var n=dk(t);function r(o,a){var c=n((o=_m(o)).r,(a=_m(a)).r),u=n(o.g,a.g),p=n(o.b,a.b),f=xw(o.opacity,a.opacity);return function(h){return o.r=c(h),o.g=u(h),o.b=p(h),o.opacity=f(h),o+""}}return r.gamma=e,r})(1);function fk(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(a){for(o=0;o<n;++o)r[o]=e[o]*(1-a)+t[o]*a;return r}}function pk(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function hk(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),a=new Array(n),c;for(c=0;c<r;++c)o[c]=jl(e[c],t[c]);for(;c<n;++c)a[c]=t[c];return function(u){for(c=0;c<r;++c)a[c]=o[c](u);return a}}function mk(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function $r(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function gk(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=jl(e[o],t[o]):r[o]=t[o];return function(a){for(o in n)r[o]=n[o](a);return r}}var bm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Eh=new RegExp(bm.source,"g");function xk(e){return function(){return e}}function vk(e){return function(t){return e(t)+""}}function vw(e,t){var n=bm.lastIndex=Eh.lastIndex=0,r,o,a,c=-1,u=[],p=[];for(e=e+"",t=t+"";(r=bm.exec(e))&&(o=Eh.exec(t));)(a=o.index)>n&&(a=t.slice(n,a),u[c]?u[c]+=a:u[++c]=a),(r=r[0])===(o=o[0])?u[c]?u[c]+=o:u[++c]=o:(u[++c]=null,p.push({i:c,x:$r(r,o)})),n=Eh.lastIndex;return n<t.length&&(a=t.slice(n),u[c]?u[c]+=a:u[++c]=a),u.length<2?p[0]?vk(p[0].x):xk(t):(t=p.length,function(f){for(var h=0,m;h<t;++h)u[(m=p[h]).i]=m.x(f);return u.join("")})}function jl(e,t){var n=typeof t,r;return t==null||n==="boolean"?wg(t):(n==="number"?$r:n==="string"?(r=Qs(t))?(t=r,gd):vw:t instanceof Qs?gd:t instanceof Date?mk:pk(t)?fk:Array.isArray(t)?hk:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?gk:$r)(e,t)}var Iv=180/Math.PI,Cm={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function yw(e,t,n,r,o,a){var c,u,p;return(c=Math.sqrt(e*e+t*t))&&(e/=c,t/=c),(p=e*n+t*r)&&(n-=e*p,r-=t*p),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,p/=u),e*r<t*n&&(e=-e,t=-t,p=-p,c=-c),{translateX:o,translateY:a,rotate:Math.atan2(t,e)*Iv,skewX:Math.atan(p)*Iv,scaleX:c,scaleY:u}}var Iu;function yk(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Cm:yw(t.a,t.b,t.c,t.d,t.e,t.f)}function wk(e){return e==null||(Iu||(Iu=document.createElementNS("http://www.w3.org/2000/svg","g")),Iu.setAttribute("transform",e),!(e=Iu.transform.baseVal.consolidate()))?Cm:(e=e.matrix,yw(e.a,e.b,e.c,e.d,e.e,e.f))}function ww(e,t,n,r){function o(f){return f.length?f.pop()+" ":""}function a(f,h,m,x,y,w){if(f!==m||h!==x){var v=y.push("translate(",null,t,null,n);w.push({i:v-4,x:$r(f,m)},{i:v-2,x:$r(h,x)})}else(m||x)&&y.push("translate("+m+t+x+n)}function c(f,h,m,x){f!==h?(f-h>180?h+=360:h-f>180&&(f+=360),x.push({i:m.push(o(m)+"rotate(",null,r)-2,x:$r(f,h)})):h&&m.push(o(m)+"rotate("+h+r)}function u(f,h,m,x){f!==h?x.push({i:m.push(o(m)+"skewX(",null,r)-2,x:$r(f,h)}):h&&m.push(o(m)+"skewX("+h+r)}function p(f,h,m,x,y,w){if(f!==m||h!==x){var v=y.push(o(y)+"scale(",null,",",null,")");w.push({i:v-4,x:$r(f,m)},{i:v-2,x:$r(h,x)})}else(m!==1||x!==1)&&y.push(o(y)+"scale("+m+","+x+")")}return function(f,h){var m=[],x=[];return f=e(f),h=e(h),a(f.translateX,f.translateY,h.translateX,h.translateY,m,x),c(f.rotate,h.rotate,m,x),u(f.skewX,h.skewX,m,x),p(f.scaleX,f.scaleY,h.scaleX,h.scaleY,m,x),f=h=null,function(y){for(var w=-1,v=x.length,C;++w<v;)m[(C=x[w]).i]=C.x(y);return m.join("")}}}var _k=ww(yk,"px, ","px)","deg)"),bk=ww(wk,", ",")",")"),Ck=1e-12;function Mv(e){return((e=Math.exp(e))+1/e)/2}function kk(e){return((e=Math.exp(e))-1/e)/2}function Nk(e){return((e=Math.exp(2*e))-1)/(e+1)}const nd=(function e(t,n,r){function o(a,c){var u=a[0],p=a[1],f=a[2],h=c[0],m=c[1],x=c[2],y=h-u,w=m-p,v=y*y+w*w,C,k;if(v<Ck)k=Math.log(x/f)/t,C=function(T){return[u+T*y,p+T*w,f*Math.exp(t*T*k)]};else{var E=Math.sqrt(v),N=(x*x-f*f+r*v)/(2*f*n*E),j=(x*x-f*f-r*v)/(2*x*n*E),P=Math.log(Math.sqrt(N*N+1)-N),L=Math.log(Math.sqrt(j*j+1)-j);k=(L-P)/t,C=function(T){var D=T*k,$=Mv(P),Y=f/(n*E)*($*Nk(t*D+P)-kk(P));return[u+Y*y,p+Y*w,f*$/Mv(t*D+P)]}}return C.duration=k*1e3*t/Math.SQRT2,C}return o.rho=function(a){var c=Math.max(.001,+a),u=c*c,p=u*u;return e(c,u,p)},o})(Math.SQRT2,2,4);var ca=0,wl=0,ml=0,_w=1e3,xd,_l,vd=0,Js=0,Yd=0,Fl=typeof performance=="object"&&performance.now?performance:Date,bw=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function _g(){return Js||(bw(Sk),Js=Fl.now()+Yd)}function Sk(){Js=0}function yd(){this._call=this._time=this._next=null}yd.prototype=Cw.prototype={constructor:yd,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?_g():+n)+(t==null?0:+t),!this._next&&_l!==this&&(_l?_l._next=this:xd=this,_l=this),this._call=e,this._time=n,km()},stop:function(){this._call&&(this._call=null,this._time=1/0,km())}};function Cw(e,t,n){var r=new yd;return r.restart(e,t,n),r}function jk(){_g(),++ca;for(var e=xd,t;e;)(t=Js-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ca}function Lv(){Js=(vd=Fl.now())+Yd,ca=wl=0;try{jk()}finally{ca=0,Pk(),Js=0}}function Ek(){var e=Fl.now(),t=e-vd;t>_w&&(Yd-=t,vd=e)}function Pk(){for(var e,t=xd,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:xd=n);_l=e,km(r)}function km(e){if(!ca){wl&&(wl=clearTimeout(wl));var t=e-Js;t>24?(e<1/0&&(wl=setTimeout(Lv,e-Fl.now()-Yd)),ml&&(ml=clearInterval(ml))):(ml||(vd=Fl.now(),ml=setInterval(Ek,_w)),ca=1,bw(Lv))}}function Tv(e,t,n){var r=new yd;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var Ik=Ud("start","end","cancel","interrupt"),Mk=[],kw=0,Rv=1,Nm=2,rd=3,Av=4,Sm=5,od=6;function Kd(e,t,n,r,o,a){var c=e.__transition;if(!c)e.__transition={};else if(n in c)return;Lk(e,n,{name:t,index:r,group:o,on:Ik,tween:Mk,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:kw})}function bg(e,t){var n=br(e,t);if(n.state>kw)throw new Error("too late; already scheduled");return n}function Qr(e,t){var n=br(e,t);if(n.state>rd)throw new Error("too late; already running");return n}function br(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Lk(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=Cw(a,0,n.time);function a(f){n.state=Rv,n.timer.restart(c,n.delay,n.time),n.delay<=f&&c(f-n.delay)}function c(f){var h,m,x,y;if(n.state!==Rv)return p();for(h in r)if(y=r[h],y.name===n.name){if(y.state===rd)return Tv(c);y.state===Av?(y.state=od,y.timer.stop(),y.on.call("interrupt",e,e.__data__,y.index,y.group),delete r[h]):+h<t&&(y.state=od,y.timer.stop(),y.on.call("cancel",e,e.__data__,y.index,y.group),delete r[h])}if(Tv(function(){n.state===rd&&(n.state=Av,n.timer.restart(u,n.delay,n.time),u(f))}),n.state=Nm,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Nm){for(n.state=rd,o=new Array(x=n.tween.length),h=0,m=-1;h<x;++h)(y=n.tween[h].value.call(e,e.__data__,n.index,n.group))&&(o[++m]=y);o.length=m+1}}function u(f){for(var h=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(p),n.state=Sm,1),m=-1,x=o.length;++m<x;)o[m].call(e,h);n.state===Sm&&(n.on.call("end",e,e.__data__,n.index,n.group),p())}function p(){n.state=od,n.timer.stop(),delete r[t];for(var f in r)return;delete e.__transition}}function sd(e,t){var n=e.__transition,r,o,a=!0,c;if(n){t=t==null?null:t+"";for(c in n){if((r=n[c]).name!==t){a=!1;continue}o=r.state>Nm&&r.state<Sm,r.state=od,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[c]}a&&delete e.__transition}}function Tk(e){return this.each(function(){sd(this,e)})}function Rk(e,t){var n,r;return function(){var o=Qr(this,e),a=o.tween;if(a!==n){r=n=a;for(var c=0,u=r.length;c<u;++c)if(r[c].name===t){r=r.slice(),r.splice(c,1);break}}o.tween=r}}function Ak(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var a=Qr(this,e),c=a.tween;if(c!==r){o=(r=c).slice();for(var u={name:t,value:n},p=0,f=o.length;p<f;++p)if(o[p].name===t){o[p]=u;break}p===f&&o.push(u)}a.tween=o}}function zk(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=br(this.node(),n).tween,o=0,a=r.length,c;o<a;++o)if((c=r[o]).name===e)return c.value;return null}return this.each((t==null?Rk:Ak)(n,e,t))}function Cg(e,t,n){var r=e._id;return e.each(function(){var o=Qr(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return br(o,r).value[t]}}function Nw(e,t){var n;return(typeof t=="number"?$r:t instanceof Qs?gd:(n=Qs(t))?(t=n,gd):vw)(e,t)}function Dk(e){return function(){this.removeAttribute(e)}}function Ok(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Fk(e,t,n){var r,o=n+"",a;return function(){var c=this.getAttribute(e);return c===o?null:c===r?a:a=t(r=c,n)}}function $k(e,t,n){var r,o=n+"",a;return function(){var c=this.getAttributeNS(e.space,e.local);return c===o?null:c===r?a:a=t(r=c,n)}}function Bk(e,t,n){var r,o,a;return function(){var c,u=n(this),p;return u==null?void this.removeAttribute(e):(c=this.getAttribute(e),p=u+"",c===p?null:c===r&&p===o?a:(o=p,a=t(r=c,u)))}}function Vk(e,t,n){var r,o,a;return function(){var c,u=n(this),p;return u==null?void this.removeAttributeNS(e.space,e.local):(c=this.getAttributeNS(e.space,e.local),p=u+"",c===p?null:c===r&&p===o?a:(o=p,a=t(r=c,u)))}}function Hk(e,t){var n=Gd(e),r=n==="transform"?bk:Nw;return this.attrTween(e,typeof t=="function"?(n.local?Vk:Bk)(n,r,Cg(this,"attr."+e,t)):t==null?(n.local?Ok:Dk)(n):(n.local?$k:Fk)(n,r,t))}function Wk(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Uk(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Gk(e,t){var n,r;function o(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&Uk(e,a)),n}return o._value=t,o}function Yk(e,t){var n,r;function o(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&Wk(e,a)),n}return o._value=t,o}function Kk(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Gd(e);return this.tween(n,(r.local?Gk:Yk)(r,t))}function Zk(e,t){return function(){bg(this,e).delay=+t.apply(this,arguments)}}function Xk(e,t){return t=+t,function(){bg(this,e).delay=t}}function qk(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Zk:Xk)(t,e)):br(this.node(),t).delay}function Qk(e,t){return function(){Qr(this,e).duration=+t.apply(this,arguments)}}function Jk(e,t){return t=+t,function(){Qr(this,e).duration=t}}function e9(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Qk:Jk)(t,e)):br(this.node(),t).duration}function t9(e,t){if(typeof t!="function")throw new Error;return function(){Qr(this,e).ease=t}}function n9(e){var t=this._id;return arguments.length?this.each(t9(t,e)):br(this.node(),t).ease}function r9(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Qr(this,e).ease=n}}function o9(e){if(typeof e!="function")throw new Error;return this.each(r9(this._id,e))}function s9(e){typeof e!="function"&&(e=nw(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var a=t[o],c=a.length,u=r[o]=[],p,f=0;f<c;++f)(p=a[f])&&e.call(p,p.__data__,f,a)&&u.push(p);return new bo(r,this._parents,this._name,this._id)}function i9(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,a=Math.min(r,o),c=new Array(r),u=0;u<a;++u)for(var p=t[u],f=n[u],h=p.length,m=c[u]=new Array(h),x,y=0;y<h;++y)(x=p[y]||f[y])&&(m[y]=x);for(;u<r;++u)c[u]=t[u];return new bo(c,this._parents,this._name,this._id)}function a9(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function l9(e,t,n){var r,o,a=a9(t)?bg:Qr;return function(){var c=a(this,e),u=c.on;u!==r&&(o=(r=u).copy()).on(t,n),c.on=o}}function c9(e,t){var n=this._id;return arguments.length<2?br(this.node(),n).on.on(e):this.each(l9(n,e,t))}function u9(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function d9(){return this.on("end.remove",u9(this._id))}function f9(e){var t=this._name,n=this._id;typeof e!="function"&&(e=xg(e));for(var r=this._groups,o=r.length,a=new Array(o),c=0;c<o;++c)for(var u=r[c],p=u.length,f=a[c]=new Array(p),h,m,x=0;x<p;++x)(h=u[x])&&(m=e.call(h,h.__data__,x,u))&&("__data__"in h&&(m.__data__=h.__data__),f[x]=m,Kd(f[x],t,n,x,f,br(h,n)));return new bo(a,this._parents,t,n)}function p9(e){var t=this._name,n=this._id;typeof e!="function"&&(e=tw(e));for(var r=this._groups,o=r.length,a=[],c=[],u=0;u<o;++u)for(var p=r[u],f=p.length,h,m=0;m<f;++m)if(h=p[m]){for(var x=e.call(h,h.__data__,m,p),y,w=br(h,n),v=0,C=x.length;v<C;++v)(y=x[v])&&Kd(y,t,n,v,x,w);a.push(x),c.push(h)}return new bo(a,c,t,n)}var h9=sc.prototype.constructor;function m9(){return new h9(this._groups,this._parents)}function g9(e,t){var n,r,o;return function(){var a=la(this,e),c=(this.style.removeProperty(e),la(this,e));return a===c?null:a===n&&c===r?o:o=t(n=a,r=c)}}function Sw(e){return function(){this.style.removeProperty(e)}}function x9(e,t,n){var r,o=n+"",a;return function(){var c=la(this,e);return c===o?null:c===r?a:a=t(r=c,n)}}function v9(e,t,n){var r,o,a;return function(){var c=la(this,e),u=n(this),p=u+"";return u==null&&(p=u=(this.style.removeProperty(e),la(this,e))),c===p?null:c===r&&p===o?a:(o=p,a=t(r=c,u))}}function y9(e,t){var n,r,o,a="style."+t,c="end."+a,u;return function(){var p=Qr(this,e),f=p.on,h=p.value[a]==null?u||(u=Sw(t)):void 0;(f!==n||o!==h)&&(r=(n=f).copy()).on(c,o=h),p.on=r}}function w9(e,t,n){var r=(e+="")=="transform"?_k:Nw;return t==null?this.styleTween(e,g9(e,r)).on("end.style."+e,Sw(e)):typeof t=="function"?this.styleTween(e,v9(e,r,Cg(this,"style."+e,t))).each(y9(this._id,e)):this.styleTween(e,x9(e,r,t),n).on("end.style."+e,null)}function _9(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function b9(e,t,n){var r,o;function a(){var c=t.apply(this,arguments);return c!==o&&(r=(o=c)&&_9(e,c,n)),r}return a._value=t,a}function C9(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,b9(e,t,n??""))}function k9(e){return function(){this.textContent=e}}function N9(e){return function(){var t=e(this);this.textContent=t??""}}function S9(e){return this.tween("text",typeof e=="function"?N9(Cg(this,"text",e)):k9(e==null?"":e+""))}function j9(e){return function(t){this.textContent=e.call(this,t)}}function E9(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&j9(o)),t}return r._value=e,r}function P9(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,E9(e))}function I9(){for(var e=this._name,t=this._id,n=jw(),r=this._groups,o=r.length,a=0;a<o;++a)for(var c=r[a],u=c.length,p,f=0;f<u;++f)if(p=c[f]){var h=br(p,t);Kd(p,e,n,f,c,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new bo(r,this._parents,e,n)}function M9(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(a,c){var u={value:c},p={value:function(){--o===0&&a()}};n.each(function(){var f=Qr(this,r),h=f.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(p)),f.on=t}),o===0&&a()})}var L9=0;function bo(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function jw(){return++L9}var co=sc.prototype;bo.prototype={constructor:bo,select:f9,selectAll:p9,selectChild:co.selectChild,selectChildren:co.selectChildren,filter:s9,merge:i9,selection:m9,transition:I9,call:co.call,nodes:co.nodes,node:co.node,size:co.size,empty:co.empty,each:co.each,on:c9,attr:Hk,attrTween:Kk,style:w9,styleTween:C9,text:S9,textTween:P9,remove:d9,tween:zk,delay:qk,duration:e9,ease:n9,easeVarying:o9,end:M9,[Symbol.iterator]:co[Symbol.iterator]};function T9(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var R9={time:null,delay:0,duration:250,ease:T9};function A9(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function z9(e){var t,n;e instanceof bo?(t=e._id,e=e._name):(t=jw(),(n=R9).time=_g(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,a=0;a<o;++a)for(var c=r[a],u=c.length,p,f=0;f<u;++f)(p=c[f])&&Kd(p,e,t,f,c,n||A9(p,t));return new bo(r,this._parents,e,t)}sc.prototype.interrupt=Tk;sc.prototype.transition=z9;const Mu=e=>()=>e;function D9(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function mo(e,t,n){this.k=e,this.x=t,this.y=n}mo.prototype={constructor:mo,scale:function(e){return e===1?this:new mo(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new mo(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Zd=new mo(1,0,0);Ew.prototype=mo.prototype;function Ew(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Zd;return e.__zoom}function Ph(e){e.stopImmediatePropagation()}function gl(e){e.preventDefault(),e.stopImmediatePropagation()}function O9(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function F9(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function zv(){return this.__zoom||Zd}function $9(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function B9(){return navigator.maxTouchPoints||"ontouchstart"in this}function V9(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],c=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),c>a?(a+c)/2:Math.min(0,a)||Math.max(0,c))}function Pw(){var e=O9,t=F9,n=V9,r=$9,o=B9,a=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,p=nd,f=Ud("start","zoom","end"),h,m,x,y=500,w=150,v=0,C=10;function k(z){z.property("__zoom",zv).on("wheel.zoom",D,{passive:!1}).on("mousedown.zoom",$).on("dblclick.zoom",Y).filter(o).on("touchstart.zoom",G).on("touchmove.zoom",V).on("touchend.zoom touchcancel.zoom",W).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}k.transform=function(z,M,F,H){var R=z.selection?z.selection():z;R.property("__zoom",zv),z!==R?P(z,M,F,H):R.interrupt().each(function(){L(this,arguments).event(H).start().zoom(null,typeof M=="function"?M.apply(this,arguments):M).end()})},k.scaleBy=function(z,M,F,H){k.scaleTo(z,function(){var R=this.__zoom.k,I=typeof M=="function"?M.apply(this,arguments):M;return R*I},F,H)},k.scaleTo=function(z,M,F,H){k.transform(z,function(){var R=t.apply(this,arguments),I=this.__zoom,U=F==null?j(R):typeof F=="function"?F.apply(this,arguments):F,O=I.invert(U),B=typeof M=="function"?M.apply(this,arguments):M;return n(N(E(I,B),U,O),R,c)},F,H)},k.translateBy=function(z,M,F,H){k.transform(z,function(){return n(this.__zoom.translate(typeof M=="function"?M.apply(this,arguments):M,typeof F=="function"?F.apply(this,arguments):F),t.apply(this,arguments),c)},null,H)},k.translateTo=function(z,M,F,H,R){k.transform(z,function(){var I=t.apply(this,arguments),U=this.__zoom,O=H==null?j(I):typeof H=="function"?H.apply(this,arguments):H;return n(Zd.translate(O[0],O[1]).scale(U.k).translate(typeof M=="function"?-M.apply(this,arguments):-M,typeof F=="function"?-F.apply(this,arguments):-F),I,c)},H,R)};function E(z,M){return M=Math.max(a[0],Math.min(a[1],M)),M===z.k?z:new mo(M,z.x,z.y)}function N(z,M,F){var H=M[0]-F[0]*z.k,R=M[1]-F[1]*z.k;return H===z.x&&R===z.y?z:new mo(z.k,H,R)}function j(z){return[(+z[0][0]+ +z[1][0])/2,(+z[0][1]+ +z[1][1])/2]}function P(z,M,F,H){z.on("start.zoom",function(){L(this,arguments).event(H).start()}).on("interrupt.zoom end.zoom",function(){L(this,arguments).event(H).end()}).tween("zoom",function(){var R=this,I=arguments,U=L(R,I).event(H),O=t.apply(R,I),B=F==null?j(O):typeof F=="function"?F.apply(R,I):F,q=Math.max(O[1][0]-O[0][0],O[1][1]-O[0][1]),X=R.__zoom,ne=typeof M=="function"?M.apply(R,I):M,ie=p(X.invert(B).concat(q/X.k),ne.invert(B).concat(q/ne.k));return function(ee){if(ee===1)ee=ne;else{var J=ie(ee),le=q/J[2];ee=new mo(le,B[0]-J[0]*le,B[1]-J[1]*le)}U.zoom(null,ee)}})}function L(z,M,F){return!F&&z.__zooming||new T(z,M)}function T(z,M){this.that=z,this.args=M,this.active=0,this.sourceEvent=null,this.extent=t.apply(z,M),this.taps=0}T.prototype={event:function(z){return z&&(this.sourceEvent=z),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(z,M){return this.mouse&&z!=="mouse"&&(this.mouse[1]=M.invert(this.mouse[0])),this.touch0&&z!=="touch"&&(this.touch0[1]=M.invert(this.touch0[0])),this.touch1&&z!=="touch"&&(this.touch1[1]=M.invert(this.touch1[0])),this.that.__zoom=M,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(z){var M=zn(this.that).datum();f.call(z,this.that,new D9(z,{sourceEvent:this.sourceEvent,target:k,transform:this.that.__zoom,dispatch:f}),M)}};function D(z,...M){if(!e.apply(this,arguments))return;var F=L(this,M).event(z),H=this.__zoom,R=Math.max(a[0],Math.min(a[1],H.k*Math.pow(2,r.apply(this,arguments)))),I=pr(z);if(F.wheel)(F.mouse[0][0]!==I[0]||F.mouse[0][1]!==I[1])&&(F.mouse[1]=H.invert(F.mouse[0]=I)),clearTimeout(F.wheel);else{if(H.k===R)return;F.mouse=[I,H.invert(I)],sd(this),F.start()}gl(z),F.wheel=setTimeout(U,w),F.zoom("mouse",n(N(E(H,R),F.mouse[0],F.mouse[1]),F.extent,c));function U(){F.wheel=null,F.end()}}function $(z,...M){if(x||!e.apply(this,arguments))return;var F=z.currentTarget,H=L(this,M,!0).event(z),R=zn(z.view).on("mousemove.zoom",B,!0).on("mouseup.zoom",q,!0),I=pr(z,F),U=z.clientX,O=z.clientY;fw(z.view),Ph(z),H.mouse=[I,this.__zoom.invert(I)],sd(this),H.start();function B(X){if(gl(X),!H.moved){var ne=X.clientX-U,ie=X.clientY-O;H.moved=ne*ne+ie*ie>v}H.event(X).zoom("mouse",n(N(H.that.__zoom,H.mouse[0]=pr(X,F),H.mouse[1]),H.extent,c))}function q(X){R.on("mousemove.zoom mouseup.zoom",null),pw(X.view,H.moved),gl(X),H.event(X).end()}}function Y(z,...M){if(e.apply(this,arguments)){var F=this.__zoom,H=pr(z.changedTouches?z.changedTouches[0]:z,this),R=F.invert(H),I=F.k*(z.shiftKey?.5:2),U=n(N(E(F,I),H,R),t.apply(this,M),c);gl(z),u>0?zn(this).transition().duration(u).call(P,U,H,z):zn(this).call(k.transform,U,H,z)}}function G(z,...M){if(e.apply(this,arguments)){var F=z.touches,H=F.length,R=L(this,M,z.changedTouches.length===H).event(z),I,U,O,B;for(Ph(z),U=0;U<H;++U)O=F[U],B=pr(O,this),B=[B,this.__zoom.invert(B),O.identifier],R.touch0?!R.touch1&&R.touch0[2]!==B[2]&&(R.touch1=B,R.taps=0):(R.touch0=B,I=!0,R.taps=1+!!h);h&&(h=clearTimeout(h)),I&&(R.taps<2&&(m=B[0],h=setTimeout(function(){h=null},y)),sd(this),R.start())}}function V(z,...M){if(this.__zooming){var F=L(this,M).event(z),H=z.changedTouches,R=H.length,I,U,O,B;for(gl(z),I=0;I<R;++I)U=H[I],O=pr(U,this),F.touch0&&F.touch0[2]===U.identifier?F.touch0[0]=O:F.touch1&&F.touch1[2]===U.identifier&&(F.touch1[0]=O);if(U=F.that.__zoom,F.touch1){var q=F.touch0[0],X=F.touch0[1],ne=F.touch1[0],ie=F.touch1[1],ee=(ee=ne[0]-q[0])*ee+(ee=ne[1]-q[1])*ee,J=(J=ie[0]-X[0])*J+(J=ie[1]-X[1])*J;U=E(U,Math.sqrt(ee/J)),O=[(q[0]+ne[0])/2,(q[1]+ne[1])/2],B=[(X[0]+ie[0])/2,(X[1]+ie[1])/2]}else if(F.touch0)O=F.touch0[0],B=F.touch0[1];else return;F.zoom("touch",n(N(U,O,B),F.extent,c))}}function W(z,...M){if(this.__zooming){var F=L(this,M).event(z),H=z.changedTouches,R=H.length,I,U;for(Ph(z),x&&clearTimeout(x),x=setTimeout(function(){x=null},y),I=0;I<R;++I)U=H[I],F.touch0&&F.touch0[2]===U.identifier?delete F.touch0:F.touch1&&F.touch1[2]===U.identifier&&delete F.touch1;if(F.touch1&&!F.touch0&&(F.touch0=F.touch1,delete F.touch1),F.touch0)F.touch0[1]=this.__zoom.invert(F.touch0[0]);else if(F.end(),F.taps===2&&(U=pr(U,this),Math.hypot(m[0]-U[0],m[1]-U[1])<C)){var O=zn(this).on("dblclick.zoom");O&&O.apply(this,arguments)}}}return k.wheelDelta=function(z){return arguments.length?(r=typeof z=="function"?z:Mu(+z),k):r},k.filter=function(z){return arguments.length?(e=typeof z=="function"?z:Mu(!!z),k):e},k.touchable=function(z){return arguments.length?(o=typeof z=="function"?z:Mu(!!z),k):o},k.extent=function(z){return arguments.length?(t=typeof z=="function"?z:Mu([[+z[0][0],+z[0][1]],[+z[1][0],+z[1][1]]]),k):t},k.scaleExtent=function(z){return arguments.length?(a[0]=+z[0],a[1]=+z[1],k):[a[0],a[1]]},k.translateExtent=function(z){return arguments.length?(c[0][0]=+z[0][0],c[1][0]=+z[1][0],c[0][1]=+z[0][1],c[1][1]=+z[1][1],k):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},k.constrain=function(z){return arguments.length?(n=z,k):n},k.duration=function(z){return arguments.length?(u=+z,k):u},k.interpolate=function(z){return arguments.length?(p=z,k):p},k.on=function(){var z=f.on.apply(f,arguments);return z===f?k:z},k.clickDistance=function(z){return arguments.length?(v=(z=+z)*z,k):Math.sqrt(v)},k.tapDistance=function(z){return arguments.length?(C=+z,k):C},k}const yr={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},$l=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Iw=["Enter"," ","Escape"],Mw={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var ua;(function(e){e.Strict="strict",e.Loose="loose"})(ua||(ua={}));var Gs;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Gs||(Gs={}));var Bl;(function(e){e.Partial="partial",e.Full="full"})(Bl||(Bl={}));const Lw={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var ns;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(ns||(ns={}));var da;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(da||(da={}));var Ce;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Ce||(Ce={}));const Dv={[Ce.Left]:Ce.Right,[Ce.Right]:Ce.Left,[Ce.Top]:Ce.Bottom,[Ce.Bottom]:Ce.Top};function H9(e,t){if(!e&&!t)return!0;if(!e||!t||e.size!==t.size)return!1;if(!e.size&&!t.size)return!0;for(const n of e.keys())if(!t.has(n))return!1;return!0}function Ov(e,t,n){if(!n)return;const r=[];e.forEach((o,a)=>{t?.has(a)||r.push(o)}),r.length&&n(r)}function Tw(e){return e===null?null:e?"valid":"invalid"}const Rw=e=>"id"in e&&"source"in e&&"target"in e,W9=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),kg=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),ac=(e,t=[0,0])=>{const{width:n,height:r}=jo(e),o=e.origin??t,a=n*o[0],c=r*o[1];return{x:e.position.x-a,y:e.position.y-c}},U9=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const a=typeof o=="string";let c=!t.nodeLookup&&!a?o:void 0;t.nodeLookup&&(c=a?t.nodeLookup.get(o):kg(o)?o:t.nodeLookup.get(o.id));const u=c?wd(c,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Xd(r,u)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return qd(n)},lc=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(o=>{(t.filter===void 0||t.filter(o))&&(n=Xd(n,wd(o)),r=!0)}),r?qd(n):{x:0,y:0,width:0,height:0}},Ng=(e,t,[n,r,o]=[0,0,1],a=!1,c=!1)=>{const u={...uc(t,[n,r,o]),width:t.width/o,height:t.height/o},p=[];for(const f of e.values()){const{measured:h,selectable:m=!0,hidden:x=!1}=f;if(c&&!m||x)continue;const y=h.width??f.width??f.initialWidth??null,w=h.height??f.height??f.initialHeight??null,v=Vl(u,pa(f)),C=(y??0)*(w??0),k=a&&v>0;(!f.internals.handleBounds||k||v>=C||f.dragging)&&p.push(f)}return p},G9=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function Y9(e,t){const n=new Map,r=t?.nodes?new Set(t.nodes.map(o=>o.id)):null;return e.forEach(o=>{o.measured.width&&o.measured.height&&(t?.includeHiddenNodes||!o.hidden)&&(!r||r.has(o.id))&&n.set(o.id,o)}),n}async function K9({nodes:e,width:t,height:n,panZoom:r,minZoom:o,maxZoom:a},c){if(e.size===0)return Promise.resolve(!0);const u=Y9(e,c),p=lc(u),f=Sg(p,t,n,c?.minZoom??o,c?.maxZoom??a,c?.padding??.1);return await r.setViewport(f,{duration:c?.duration,ease:c?.ease,interpolate:c?.interpolate}),Promise.resolve(!0)}function Aw({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:o,onError:a}){const c=n.get(e),u=c.parentId?n.get(c.parentId):void 0,{x:p,y:f}=u?u.internals.positionAbsolute:{x:0,y:0},h=c.origin??r;let m=c.extent||o;if(c.extent==="parent"&&!c.expandParent)if(!u)a?.("005",yr.error005());else{const y=u.measured.width,w=u.measured.height;y&&w&&(m=[[p,f],[p+y,f+w]])}else u&&ha(c.extent)&&(m=[[c.extent[0][0]+p,c.extent[0][1]+f],[c.extent[1][0]+p,c.extent[1][1]+f]]);const x=ha(m)?ei(t,m,c.measured):t;return(c.measured.width===void 0||c.measured.height===void 0)&&a?.("015",yr.error015()),{position:{x:x.x-p+(c.measured.width??0)*h[0],y:x.y-f+(c.measured.height??0)*h[1]},positionAbsolute:x}}async function Z9({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:o}){const a=new Set(e.map(x=>x.id)),c=[];for(const x of n){if(x.deletable===!1)continue;const y=a.has(x.id),w=!y&&x.parentId&&c.find(v=>v.id===x.parentId);(y||w)&&c.push(x)}const u=new Set(t.map(x=>x.id)),p=r.filter(x=>x.deletable!==!1),h=G9(c,p);for(const x of p)u.has(x.id)&&!h.find(w=>w.id===x.id)&&h.push(x);if(!o)return{edges:h,nodes:c};const m=await o({nodes:c,edges:h});return typeof m=="boolean"?m?{edges:h,nodes:c}:{edges:[],nodes:[]}:m}const fa=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),ei=(e={x:0,y:0},t,n)=>({x:fa(e.x,t[0][0],t[1][0]-(n?.width??0)),y:fa(e.y,t[0][1],t[1][1]-(n?.height??0))});function zw(e,t,n){const{width:r,height:o}=jo(n),{x:a,y:c}=n.internals.positionAbsolute;return ei(e,[[a,c],[a+r,c+o]],t)}const Fv=(e,t,n)=>e<t?fa(Math.abs(e-t),1,t)/t:e>n?-fa(Math.abs(e-n),1,t)/t:0,Dw=(e,t,n=15,r=40)=>{const o=Fv(e.x,r,t.width-r)*n,a=Fv(e.y,r,t.height-r)*n;return[o,a]},Xd=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),jm=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),qd=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),pa=(e,t=[0,0])=>{const{x:n,y:r}=kg(e)?e.internals.positionAbsolute:ac(e,t);return{x:n,y:r,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},wd=(e,t=[0,0])=>{const{x:n,y:r}=kg(e)?e.internals.positionAbsolute:ac(e,t);return{x:n,y:r,x2:n+(e.measured?.width??e.width??e.initialWidth??0),y2:r+(e.measured?.height??e.height??e.initialHeight??0)}},Ow=(e,t)=>qd(Xd(jm(e),jm(t))),Vl=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},$v=e=>mr(e.width)&&mr(e.height)&&mr(e.x)&&mr(e.y),mr=e=>!isNaN(e)&&isFinite(e),X9=(e,t)=>{},cc=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),uc=({x:e,y:t},[n,r,o],a=!1,c=[1,1])=>{const u={x:(e-n)/o,y:(t-r)/o};return a?cc(u,c):u},_d=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r});function $i(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function q9(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=$i(e,n),o=$i(e,t);return{top:r,right:o,bottom:r,left:o,x:o*2,y:r*2}}if(typeof e=="object"){const r=$i(e.top??e.y??0,n),o=$i(e.bottom??e.y??0,n),a=$i(e.left??e.x??0,t),c=$i(e.right??e.x??0,t);return{top:r,right:c,bottom:o,left:a,x:a+c,y:r+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function Q9(e,t,n,r,o,a){const{x:c,y:u}=_d(e,[t,n,r]),{x:p,y:f}=_d({x:e.x+e.width,y:e.y+e.height},[t,n,r]),h=o-p,m=a-f;return{left:Math.floor(c),top:Math.floor(u),right:Math.floor(h),bottom:Math.floor(m)}}const Sg=(e,t,n,r,o,a)=>{const c=q9(a,t,n),u=(t-c.x)/e.width,p=(n-c.y)/e.height,f=Math.min(u,p),h=fa(f,r,o),m=e.x+e.width/2,x=e.y+e.height/2,y=t/2-m*h,w=n/2-x*h,v=Q9(e,y,w,h,t,n),C={left:Math.min(v.left-c.left,0),top:Math.min(v.top-c.top,0),right:Math.min(v.right-c.right,0),bottom:Math.min(v.bottom-c.bottom,0)};return{x:y-C.left+C.right,y:w-C.top+C.bottom,zoom:h}},Hl=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function ha(e){return e!=null&&e!=="parent"}function jo(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function Fw(e){return(e.measured?.width??e.width??e.initialWidth)!==void 0&&(e.measured?.height??e.height??e.initialHeight)!==void 0}function $w(e,t={width:0,height:0},n,r,o){const a={...e},c=r.get(n);if(c){const u=c.origin||o;a.x+=c.internals.positionAbsolute.x-(t.width??0)*u[0],a.y+=c.internals.positionAbsolute.y-(t.height??0)*u[1]}return a}function Bv(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function J9(){let e,t;return{promise:new Promise((r,o)=>{e=r,t=o}),resolve:e,reject:t}}function eN(e){return{...Mw,...e||{}}}function El(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:o}){const{x:a,y:c}=gr(e),u=uc({x:a-(o?.left??0),y:c-(o?.top??0)},r),{x:p,y:f}=n?cc(u,t):u;return{xSnapped:p,ySnapped:f,...u}}const jg=e=>({width:e.offsetWidth,height:e.offsetHeight}),Bw=e=>e?.getRootNode?.()||window?.document,tN=["INPUT","SELECT","TEXTAREA"];function Vw(e){const t=e.composedPath?.()?.[0]||e.target;return t?.nodeType!==1?!1:tN.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const Hw=e=>"clientX"in e,gr=(e,t)=>{const n=Hw(e),r=n?e.clientX:e.touches?.[0].clientX,o=n?e.clientY:e.touches?.[0].clientY;return{x:r-(t?.left??0),y:o-(t?.top??0)}},Vv=(e,t,n,r,o)=>{const a=t.querySelectorAll(`.${e}`);return!a||!a.length?null:Array.from(a).map(c=>{const u=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),type:e,nodeId:o,position:c.getAttribute("data-handlepos"),x:(u.left-n.left)/r,y:(u.top-n.top)/r,...jg(c)}})};function Ww({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:a,targetControlX:c,targetControlY:u}){const p=e*.125+o*.375+c*.375+n*.125,f=t*.125+a*.375+u*.375+r*.125,h=Math.abs(p-e),m=Math.abs(f-t);return[p,f,h,m]}function Lu(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Hv({pos:e,x1:t,y1:n,x2:r,y2:o,c:a}){switch(e){case Ce.Left:return[t-Lu(t-r,a),n];case Ce.Right:return[t+Lu(r-t,a),n];case Ce.Top:return[t,n-Lu(n-o,a)];case Ce.Bottom:return[t,n+Lu(o-n,a)]}}function Qd({sourceX:e,sourceY:t,sourcePosition:n=Ce.Bottom,targetX:r,targetY:o,targetPosition:a=Ce.Top,curvature:c=.25}){const[u,p]=Hv({pos:n,x1:e,y1:t,x2:r,y2:o,c}),[f,h]=Hv({pos:a,x1:r,y1:o,x2:e,y2:t,c}),[m,x,y,w]=Ww({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:u,sourceControlY:p,targetControlX:f,targetControlY:h});return[`M${e},${t} C${u},${p} ${f},${h} ${r},${o}`,m,x,y,w]}function Uw({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,a=n<e?n+o:n-o,c=Math.abs(r-t)/2,u=r<t?r+c:r-c;return[a,u,o,c]}function nN({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:o=!1,zIndexMode:a="basic"}){if(a==="manual")return r;const c=o&&n?r+1e3:r,u=Math.max(e.parentId||o&&e.selected?e.internals.z:0,t.parentId||o&&t.selected?t.internals.z:0);return c+u}function rN({sourceNode:e,targetNode:t,width:n,height:r,transform:o}){const a=Xd(wd(e),wd(t));a.x===a.x2&&(a.x2+=1),a.y===a.y2&&(a.y2+=1);const c={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:r/o[2]};return Vl(c,qd(a))>0}const oN=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,sN=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Gw=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||oN;let o;return Rw(e)?o={...e}:o={...e,id:r(e)},sN(o,t)?t:(o.sourceHandle===null&&delete o.sourceHandle,o.targetHandle===null&&delete o.targetHandle,t.concat(o))};function Yw({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,a,c,u]=Uw({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,a,c,u]}const Wv={[Ce.Left]:{x:-1,y:0},[Ce.Right]:{x:1,y:0},[Ce.Top]:{x:0,y:-1},[Ce.Bottom]:{x:0,y:1}},iN=({source:e,sourcePosition:t=Ce.Bottom,target:n})=>t===Ce.Left||t===Ce.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Uv=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function aN({source:e,sourcePosition:t=Ce.Bottom,target:n,targetPosition:r=Ce.Top,center:o,offset:a,stepPosition:c}){const u=Wv[t],p=Wv[r],f={x:e.x+u.x*a,y:e.y+u.y*a},h={x:n.x+p.x*a,y:n.y+p.y*a},m=iN({source:f,sourcePosition:t,target:h}),x=m.x!==0?"x":"y",y=m[x];let w=[],v,C;const k={x:0,y:0},E={x:0,y:0},[,,N,j]=Uw({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(u[x]*p[x]===-1){x==="x"?(v=o.x??f.x+(h.x-f.x)*c,C=o.y??(f.y+h.y)/2):(v=o.x??(f.x+h.x)/2,C=o.y??f.y+(h.y-f.y)*c);const L=[{x:v,y:f.y},{x:v,y:h.y}],T=[{x:f.x,y:C},{x:h.x,y:C}];u[x]===y?w=x==="x"?L:T:w=x==="x"?T:L}else{const L=[{x:f.x,y:h.y}],T=[{x:h.x,y:f.y}];if(x==="x"?w=u.x===y?T:L:w=u.y===y?L:T,t===r){const V=Math.abs(e[x]-n[x]);if(V<=a){const W=Math.min(a-1,a-V);u[x]===y?k[x]=(f[x]>e[x]?-1:1)*W:E[x]=(h[x]>n[x]?-1:1)*W}}if(t!==r){const V=x==="x"?"y":"x",W=u[x]===p[V],z=f[V]>h[V],M=f[V]<h[V];(u[x]===1&&(!W&&z||W&&M)||u[x]!==1&&(!W&&M||W&&z))&&(w=x==="x"?L:T)}const D={x:f.x+k.x,y:f.y+k.y},$={x:h.x+E.x,y:h.y+E.y},Y=Math.max(Math.abs(D.x-w[0].x),Math.abs($.x-w[0].x)),G=Math.max(Math.abs(D.y-w[0].y),Math.abs($.y-w[0].y));Y>=G?(v=(D.x+$.x)/2,C=w[0].y):(v=w[0].x,C=(D.y+$.y)/2)}return[[e,{x:f.x+k.x,y:f.y+k.y},...w,{x:h.x+E.x,y:h.y+E.y},n],v,C,N,j]}function lN(e,t,n,r){const o=Math.min(Uv(e,t)/2,Uv(t,n)/2,r),{x:a,y:c}=t;if(e.x===a&&a===n.x||e.y===c&&c===n.y)return`L${a} ${c}`;if(e.y===c){const f=e.x<n.x?-1:1,h=e.y<n.y?1:-1;return`L ${a+o*f},${c}Q ${a},${c} ${a},${c+o*h}`}const u=e.x<n.x?1:-1,p=e.y<n.y?-1:1;return`L ${a},${c+o*p}Q ${a},${c} ${a+o*u},${c}`}function Em({sourceX:e,sourceY:t,sourcePosition:n=Ce.Bottom,targetX:r,targetY:o,targetPosition:a=Ce.Top,borderRadius:c=5,centerX:u,centerY:p,offset:f=20,stepPosition:h=.5}){const[m,x,y,w,v]=aN({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:a,center:{x:u,y:p},offset:f,stepPosition:h});return[m.reduce((k,E,N)=>{let j="";return N>0&&N<m.length-1?j=lN(m[N-1],E,m[N+1],c):j=`${N===0?"M":"L"}${E.x} ${E.y}`,k+=j,k},""),x,y,w,v]}function Gv(e){return e&&!!(e.internals.handleBounds||e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function cN(e){const{sourceNode:t,targetNode:n}=e;if(!Gv(t)||!Gv(n))return null;const r=t.internals.handleBounds||Yv(t.handles),o=n.internals.handleBounds||Yv(n.handles),a=Kv(r?.source??[],e.sourceHandle),c=Kv(e.connectionMode===ua.Strict?o?.target??[]:(o?.target??[]).concat(o?.source??[]),e.targetHandle);if(!a||!c)return e.onError?.("008",yr.error008(a?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const u=a?.position||Ce.Bottom,p=c?.position||Ce.Top,f=ti(t,a,u),h=ti(n,c,p);return{sourceX:f.x,sourceY:f.y,targetX:h.x,targetY:h.y,sourcePosition:u,targetPosition:p}}function Yv(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function ti(e,t,n=Ce.Left,r=!1){const o=(t?.x??0)+e.internals.positionAbsolute.x,a=(t?.y??0)+e.internals.positionAbsolute.y,{width:c,height:u}=t??jo(e);if(r)return{x:o+c/2,y:a+u/2};switch(t?.position??n){case Ce.Top:return{x:o+c/2,y:a};case Ce.Right:return{x:o+c,y:a+u/2};case Ce.Bottom:return{x:o+c/2,y:a+u};case Ce.Left:return{x:o,y:a+u/2}}}function Kv(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Pm(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function uN(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:o}){const a=new Set;return e.reduce((c,u)=>([u.markerStart||r,u.markerEnd||o].forEach(p=>{if(p&&typeof p=="object"){const f=Pm(p,t);a.has(f)||(c.push({id:f,color:p.color||n,...p}),a.add(f))}}),c),[]).sort((c,u)=>c.id.localeCompare(u.id))}const Kw=1e3,dN=10,Eg={nodeOrigin:[0,0],nodeExtent:$l,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},fN={...Eg,checkEquality:!0};function Pg(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function pN(e,t,n){const r=Pg(Eg,n);for(const o of e.values())if(o.parentId)Mg(o,e,t,r);else{const a=ac(o,r.nodeOrigin),c=ha(o.extent)?o.extent:r.nodeExtent,u=ei(a,c,jo(o));o.internals.positionAbsolute=u}}function hN(e,t){if(!e.handles)return e.measured?t?.internals.handleBounds:void 0;const n=[],r=[];for(const o of e.handles){const a={id:o.id,width:o.width??1,height:o.height??1,nodeId:e.id,x:o.x,y:o.y,position:o.position,type:o.type};o.type==="source"?n.push(a):o.type==="target"&&r.push(a)}return{source:n,target:r}}function Ig(e){return e==="manual"}function Im(e,t,n,r={}){const o=Pg(fN,r),a={i:0},c=new Map(t),u=o?.elevateNodesOnSelect&&!Ig(o.zIndexMode)?Kw:0;let p=e.length>0;t.clear(),n.clear();for(const f of e){let h=c.get(f.id);if(o.checkEquality&&f===h?.internals.userNode)t.set(f.id,h);else{const m=ac(f,o.nodeOrigin),x=ha(f.extent)?f.extent:o.nodeExtent,y=ei(m,x,jo(f));h={...o.defaults,...f,measured:{width:f.measured?.width,height:f.measured?.height},internals:{positionAbsolute:y,handleBounds:hN(f,h),z:Zw(f,u,o.zIndexMode),userNode:f}},t.set(f.id,h)}(h.measured===void 0||h.measured.width===void 0||h.measured.height===void 0)&&!h.hidden&&(p=!1),f.parentId&&Mg(h,t,n,r,a)}return p}function mN(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Mg(e,t,n,r,o){const{elevateNodesOnSelect:a,nodeOrigin:c,nodeExtent:u,zIndexMode:p}=Pg(Eg,r),f=e.parentId,h=t.get(f);if(!h){console.warn(`Parent node ${f} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}mN(e,n),o&&!h.parentId&&h.internals.rootParentIndex===void 0&&p==="auto"&&(h.internals.rootParentIndex=++o.i,h.internals.z=h.internals.z+o.i*dN),o&&h.internals.rootParentIndex!==void 0&&(o.i=h.internals.rootParentIndex);const m=a&&!Ig(p)?Kw:0,{x,y,z:w}=gN(e,h,c,u,m,p),{positionAbsolute:v}=e.internals,C=x!==v.x||y!==v.y;(C||w!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:C?{x,y}:v,z:w}})}function Zw(e,t,n){const r=mr(e.zIndex)?e.zIndex:0;return Ig(n)?r:r+(e.selected?t:0)}function gN(e,t,n,r,o,a){const{x:c,y:u}=t.internals.positionAbsolute,p=jo(e),f=ac(e,n),h=ha(e.extent)?ei(f,e.extent,p):f;let m=ei({x:c+h.x,y:u+h.y},r,p);e.extent==="parent"&&(m=zw(m,p,t));const x=Zw(e,o,a),y=t.internals.z??0;return{x:m.x,y:m.y,z:y>=x?y+1:x}}function Lg(e,t,n,r=[0,0]){const o=[],a=new Map;for(const c of e){const u=t.get(c.parentId);if(!u)continue;const p=a.get(c.parentId)?.expandedRect??pa(u),f=Ow(p,c.rect);a.set(c.parentId,{expandedRect:f,parent:u})}return a.size>0&&a.forEach(({expandedRect:c,parent:u},p)=>{const f=u.internals.positionAbsolute,h=jo(u),m=u.origin??r,x=c.x<f.x?Math.round(Math.abs(f.x-c.x)):0,y=c.y<f.y?Math.round(Math.abs(f.y-c.y)):0,w=Math.max(h.width,Math.round(c.width)),v=Math.max(h.height,Math.round(c.height)),C=(w-h.width)*m[0],k=(v-h.height)*m[1];(x>0||y>0||C||k)&&(o.push({id:p,type:"position",position:{x:u.position.x-x+C,y:u.position.y-y+k}}),n.get(p)?.forEach(E=>{e.some(N=>N.id===E.id)||o.push({id:E.id,type:"position",position:{x:E.position.x+x,y:E.position.y+y}})})),(h.width<c.width||h.height<c.height||x||y)&&o.push({id:p,type:"dimensions",setAttributes:!0,dimensions:{width:w+(x?m[0]*x-C:0),height:v+(y?m[1]*y-k:0)}})}),o}function xN(e,t,n,r,o,a,c){const u=r?.querySelector(".xyflow__viewport");let p=!1;if(!u)return{changes:[],updatedInternals:p};const f=[],h=window.getComputedStyle(u),{m22:m}=new window.DOMMatrixReadOnly(h.transform),x=[];for(const y of e.values()){const w=t.get(y.id);if(!w)continue;if(w.hidden){t.set(w.id,{...w,internals:{...w.internals,handleBounds:void 0}}),p=!0;continue}const v=jg(y.nodeElement),C=w.measured.width!==v.width||w.measured.height!==v.height;if(!!(v.width&&v.height&&(C||!w.internals.handleBounds||y.force))){const E=y.nodeElement.getBoundingClientRect(),N=ha(w.extent)?w.extent:a;let{positionAbsolute:j}=w.internals;w.parentId&&w.extent==="parent"?j=zw(j,v,t.get(w.parentId)):N&&(j=ei(j,N,v));const P={...w,measured:v,internals:{...w.internals,positionAbsolute:j,handleBounds:{source:Vv("source",y.nodeElement,E,m,w.id),target:Vv("target",y.nodeElement,E,m,w.id)}}};t.set(w.id,P),w.parentId&&Mg(P,t,n,{nodeOrigin:o,zIndexMode:c}),p=!0,C&&(f.push({id:w.id,type:"dimensions",dimensions:v}),w.expandParent&&w.parentId&&x.push({id:w.id,parentId:w.parentId,rect:pa(P,o)}))}}if(x.length>0){const y=Lg(x,t,n,o);f.push(...y)}return{changes:f,updatedInternals:p}}async function vN({delta:e,panZoom:t,transform:n,translateExtent:r,width:o,height:a}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const c=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,a]],r),u=!!c&&(c.x!==n[0]||c.y!==n[1]||c.k!==n[2]);return Promise.resolve(u)}function Zv(e,t,n,r,o,a){let c=o;const u=r.get(c)||new Map;r.set(c,u.set(n,t)),c=`${o}-${e}`;const p=r.get(c)||new Map;if(r.set(c,p.set(n,t)),a){c=`${o}-${e}-${a}`;const f=r.get(c)||new Map;r.set(c,f.set(n,t))}}function Xw(e,t,n){e.clear(),t.clear();for(const r of n){const{source:o,target:a,sourceHandle:c=null,targetHandle:u=null}=r,p={edgeId:r.id,source:o,target:a,sourceHandle:c,targetHandle:u},f=`${o}-${c}--${a}-${u}`,h=`${a}-${u}--${o}-${c}`;Zv("source",p,h,e,o,c),Zv("target",p,f,e,a,u),t.set(r.id,r)}}function yN(e,t){if(e===null||t===null)return!1;const n=Array.isArray(e)?e:[e],r=Array.isArray(t)?t:[t];if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].id!==r[o].id||n[o].type!==r[o].type||!Object.is(n[o].data,r[o].data))return!1;return!0}function qw(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:qw(n,t):!1}function Xv(e,t,n){let r=e;do{if(r?.matches?.(t))return!0;if(r===n)return!1;r=r?.parentElement}while(r);return!1}function wN(e,t,n,r){const o=new Map;for(const[a,c]of e)if((c.selected||c.id===r)&&(!c.parentId||!qw(c,e))&&(c.draggable||t&&typeof c.draggable>"u")){const u=e.get(a);u&&o.set(a,{id:a,position:u.position||{x:0,y:0},distance:{x:n.x-u.internals.positionAbsolute.x,y:n.y-u.internals.positionAbsolute.y},extent:u.extent,parentId:u.parentId,origin:u.origin,expandParent:u.expandParent,internals:{positionAbsolute:u.internals.positionAbsolute||{x:0,y:0}},measured:{width:u.measured.width??0,height:u.measured.height??0}})}return o}function Ih({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){const o=[];for(const[c,u]of t){const p=n.get(c)?.internals.userNode;p&&o.push({...p,position:u.position,dragging:r})}if(!e)return[o[0],o];const a=n.get(e)?.internals.userNode;return[a?{...a,position:t.get(e)?.position||a.position,dragging:r}:o[0],o]}function _N({dragItems:e,snapGrid:t,x:n,y:r}){const o=e.values().next().value;if(!o)return null;const a={x:n-o.distance.x,y:r-o.distance.y},c=cc(a,t);return{x:c.x-a.x,y:c.y-a.y}}function bN({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:o}){let a={x:null,y:null},c=0,u=new Map,p=!1,f={x:0,y:0},h=null,m=!1,x=null,y=!1,w=!1,v=null;function C({noDragClassName:E,handleSelector:N,domNode:j,isSelectable:P,nodeId:L,nodeClickDistance:T=0}){x=zn(j);function D({x:V,y:W}){const{nodeLookup:z,nodeExtent:M,snapGrid:F,snapToGrid:H,nodeOrigin:R,onNodeDrag:I,onSelectionDrag:U,onError:O,updateNodePositions:B}=t();a={x:V,y:W};let q=!1;const X=u.size>1,ne=X&&M?jm(lc(u)):null,ie=X&&H?_N({dragItems:u,snapGrid:F,x:V,y:W}):null;for(const[ee,J]of u){if(!z.has(ee))continue;let le={x:V-J.distance.x,y:W-J.distance.y};H&&(le=ie?{x:Math.round(le.x+ie.x),y:Math.round(le.y+ie.y)}:cc(le,F));let de=null;if(X&&M&&!J.extent&&ne){const{positionAbsolute:ae}=J.internals,fe=ae.x-ne.x+M[0][0],Le=ae.x+J.measured.width-ne.x2+M[1][0],Re=ae.y-ne.y+M[0][1],ce=ae.y+J.measured.height-ne.y2+M[1][1];de=[[fe,Re],[Le,ce]]}const{position:me,positionAbsolute:te}=Aw({nodeId:ee,nextPosition:le,nodeLookup:z,nodeExtent:de||M,nodeOrigin:R,onError:O});q=q||J.position.x!==me.x||J.position.y!==me.y,J.position=me,J.internals.positionAbsolute=te}if(w=w||q,!!q&&(B(u,!0),v&&(r||I||!L&&U))){const[ee,J]=Ih({nodeId:L,dragItems:u,nodeLookup:z});r?.(v,u,ee,J),I?.(v,ee,J),L||U?.(v,J)}}async function $(){if(!h)return;const{transform:V,panBy:W,autoPanSpeed:z,autoPanOnNodeDrag:M}=t();if(!M){p=!1,cancelAnimationFrame(c);return}const[F,H]=Dw(f,h,z);(F!==0||H!==0)&&(a.x=(a.x??0)-F/V[2],a.y=(a.y??0)-H/V[2],await W({x:F,y:H})&&D(a)),c=requestAnimationFrame($)}function Y(V){const{nodeLookup:W,multiSelectionActive:z,nodesDraggable:M,transform:F,snapGrid:H,snapToGrid:R,selectNodesOnDrag:I,onNodeDragStart:U,onSelectionDragStart:O,unselectNodesAndEdges:B}=t();m=!0,(!I||!P)&&!z&&L&&(W.get(L)?.selected||B()),P&&I&&L&&e?.(L);const q=El(V.sourceEvent,{transform:F,snapGrid:H,snapToGrid:R,containerBounds:h});if(a=q,u=wN(W,M,q,L),u.size>0&&(n||U||!L&&O)){const[X,ne]=Ih({nodeId:L,dragItems:u,nodeLookup:W});n?.(V.sourceEvent,u,X,ne),U?.(V.sourceEvent,X,ne),L||O?.(V.sourceEvent,ne)}}const G=hw().clickDistance(T).on("start",V=>{const{domNode:W,nodeDragThreshold:z,transform:M,snapGrid:F,snapToGrid:H}=t();h=W?.getBoundingClientRect()||null,y=!1,w=!1,v=V.sourceEvent,z===0&&Y(V),a=El(V.sourceEvent,{transform:M,snapGrid:F,snapToGrid:H,containerBounds:h}),f=gr(V.sourceEvent,h)}).on("drag",V=>{const{autoPanOnNodeDrag:W,transform:z,snapGrid:M,snapToGrid:F,nodeDragThreshold:H,nodeLookup:R}=t(),I=El(V.sourceEvent,{transform:z,snapGrid:M,snapToGrid:F,containerBounds:h});if(v=V.sourceEvent,(V.sourceEvent.type==="touchmove"&&V.sourceEvent.touches.length>1||L&&!R.has(L))&&(y=!0),!y){if(!p&&W&&m&&(p=!0,$()),!m){const U=gr(V.sourceEvent,h),O=U.x-f.x,B=U.y-f.y;Math.sqrt(O*O+B*B)>H&&Y(V)}(a.x!==I.xSnapped||a.y!==I.ySnapped)&&u&&m&&(f=gr(V.sourceEvent,h),D(I))}}).on("end",V=>{if(!(!m||y)&&(p=!1,m=!1,cancelAnimationFrame(c),u.size>0)){const{nodeLookup:W,updateNodePositions:z,onNodeDragStop:M,onSelectionDragStop:F}=t();if(w&&(z(u,!1),w=!1),o||M||!L&&F){const[H,R]=Ih({nodeId:L,dragItems:u,nodeLookup:W,dragging:!1});o?.(V.sourceEvent,u,H,R),M?.(V.sourceEvent,H,R),L||F?.(V.sourceEvent,R)}}}).filter(V=>{const W=V.target;return!V.button&&(!E||!Xv(W,`.${E}`,j))&&(!N||Xv(W,N,j))});x.call(G)}function k(){x?.on(".drag",null)}return{update:C,destroy:k}}function CN(e,t,n){const r=[],o={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const a of t.values())Vl(o,pa(a))>0&&r.push(a);return r}const kN=250;function NN(e,t,n,r){let o=[],a=1/0;const c=CN(e,n,t+kN);for(const u of c){const p=[...u.internals.handleBounds?.source??[],...u.internals.handleBounds?.target??[]];for(const f of p){if(r.nodeId===f.nodeId&&r.type===f.type&&r.id===f.id)continue;const{x:h,y:m}=ti(u,f,f.position,!0),x=Math.sqrt(Math.pow(h-e.x,2)+Math.pow(m-e.y,2));x>t||(x<a?(o=[{...f,x:h,y:m}],a=x):x===a&&o.push({...f,x:h,y:m}))}}if(!o.length)return null;if(o.length>1){const u=r.type==="source"?"target":"source";return o.find(p=>p.type===u)??o[0]}return o[0]}function Qw(e,t,n,r,o,a=!1){const c=r.get(e);if(!c)return null;const u=o==="strict"?c.internals.handleBounds?.[t]:[...c.internals.handleBounds?.source??[],...c.internals.handleBounds?.target??[]],p=(n?u?.find(f=>f.id===n):u?.[0])??null;return p&&a?{...p,...ti(c,p,p.position,!0)}:p}function Jw(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function SN(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const e_=()=>!0;function jN(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:o,edgeUpdaterType:a,isTarget:c,domNode:u,nodeLookup:p,lib:f,autoPanOnConnect:h,flowId:m,panBy:x,cancelConnection:y,onConnectStart:w,onConnect:v,onConnectEnd:C,isValidConnection:k=e_,onReconnectEnd:E,updateConnection:N,getTransform:j,getFromHandle:P,autoPanSpeed:L,dragThreshold:T=1,handleDomNode:D}){const $=Bw(e.target);let Y=0,G;const{x:V,y:W}=gr(e),z=Jw(a,D),M=u?.getBoundingClientRect();let F=!1;if(!M||!z)return;const H=Qw(o,z,r,p,t);if(!H)return;let R=gr(e,M),I=!1,U=null,O=!1,B=null;function q(){if(!h||!M)return;const[me,te]=Dw(R,M,L);x({x:me,y:te}),Y=requestAnimationFrame(q)}const X={...H,nodeId:o,type:z,position:H.position},ne=p.get(o);let ee={inProgress:!0,isValid:null,from:ti(ne,X,Ce.Left,!0),fromHandle:X,fromPosition:X.position,fromNode:ne,to:R,toHandle:null,toPosition:Dv[X.position],toNode:null,pointer:R};function J(){F=!0,N(ee),w?.(e,{nodeId:o,handleId:r,handleType:z})}T===0&&J();function le(me){if(!F){const{x:ce,y:ye}=gr(me),Ee=ce-V,qe=ye-W;if(!(Ee*Ee+qe*qe>T*T))return;J()}if(!P()||!X){de(me);return}const te=j();R=gr(me,M),G=NN(uc(R,te,!1,[1,1]),n,p,X),I||(q(),I=!0);const ae=t_(me,{handle:G,connectionMode:t,fromNodeId:o,fromHandleId:r,fromType:c?"target":"source",isValidConnection:k,doc:$,lib:f,flowId:m,nodeLookup:p});B=ae.handleDomNode,U=ae.connection,O=SN(!!G,ae.isValid);const fe=p.get(o),Le=fe?ti(fe,X,Ce.Left,!0):ee.from,Re={...ee,from:Le,isValid:O,to:ae.toHandle&&O?_d({x:ae.toHandle.x,y:ae.toHandle.y},te):R,toHandle:ae.toHandle,toPosition:O&&ae.toHandle?ae.toHandle.position:Dv[X.position],toNode:ae.toHandle?p.get(ae.toHandle.nodeId):null,pointer:R};N(Re),ee=Re}function de(me){if(!("touches"in me&&me.touches.length>0)){if(F){(G||B)&&U&&O&&v?.(U);const{inProgress:te,...ae}=ee,fe={...ae,toPosition:ee.toHandle?ee.toPosition:null};C?.(me,fe),a&&E?.(me,fe)}y(),cancelAnimationFrame(Y),I=!1,O=!1,U=null,B=null,$.removeEventListener("mousemove",le),$.removeEventListener("mouseup",de),$.removeEventListener("touchmove",le),$.removeEventListener("touchend",de)}}$.addEventListener("mousemove",le),$.addEventListener("mouseup",de),$.addEventListener("touchmove",le),$.addEventListener("touchend",de)}function t_(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:o,fromType:a,doc:c,lib:u,flowId:p,isValidConnection:f=e_,nodeLookup:h}){const m=a==="target",x=t?c.querySelector(`.${u}-flow__handle[data-id="${p}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x:y,y:w}=gr(e),v=c.elementFromPoint(y,w),C=v?.classList.contains(`${u}-flow__handle`)?v:x,k={handleDomNode:C,isValid:!1,connection:null,toHandle:null};if(C){const E=Jw(void 0,C),N=C.getAttribute("data-nodeid"),j=C.getAttribute("data-handleid"),P=C.classList.contains("connectable"),L=C.classList.contains("connectableend");if(!N||!E)return k;const T={source:m?N:r,sourceHandle:m?j:o,target:m?r:N,targetHandle:m?o:j};k.connection=T;const $=P&&L&&(n===ua.Strict?m&&E==="source"||!m&&E==="target":N!==r||j!==o);k.isValid=$&&f(T),k.toHandle=Qw(N,E,j,h,n,!0)}return k}const Mm={onPointerDown:jN,isValid:t_};function EN({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const o=zn(e);function a({translateExtent:u,width:p,height:f,zoomStep:h=1,pannable:m=!0,zoomable:x=!0,inversePan:y=!1}){const w=N=>{if(N.sourceEvent.type!=="wheel"||!t)return;const j=n(),P=N.sourceEvent.ctrlKey&&Hl()?10:1,L=-N.sourceEvent.deltaY*(N.sourceEvent.deltaMode===1?.05:N.sourceEvent.deltaMode?1:.002)*h,T=j[2]*Math.pow(2,L*P);t.scaleTo(T)};let v=[0,0];const C=N=>{(N.sourceEvent.type==="mousedown"||N.sourceEvent.type==="touchstart")&&(v=[N.sourceEvent.clientX??N.sourceEvent.touches[0].clientX,N.sourceEvent.clientY??N.sourceEvent.touches[0].clientY])},k=N=>{const j=n();if(N.sourceEvent.type!=="mousemove"&&N.sourceEvent.type!=="touchmove"||!t)return;const P=[N.sourceEvent.clientX??N.sourceEvent.touches[0].clientX,N.sourceEvent.clientY??N.sourceEvent.touches[0].clientY],L=[P[0]-v[0],P[1]-v[1]];v=P;const T=r()*Math.max(j[2],Math.log(j[2]))*(y?-1:1),D={x:j[0]-L[0]*T,y:j[1]-L[1]*T},$=[[0,0],[p,f]];t.setViewportConstrained({x:D.x,y:D.y,zoom:j[2]},$,u)},E=Pw().on("start",C).on("zoom",m?k:null).on("zoom.wheel",x?w:null);o.call(E,{})}function c(){o.on("zoom",null)}return{update:a,destroy:c,pointer:pr}}const Jd=e=>({x:e.x,y:e.y,zoom:e.k}),Mh=({x:e,y:t,zoom:n})=>Zd.translate(e,t).scale(n),Ki=(e,t)=>e.target.closest(`.${t}`),n_=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),PN=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,Lh=(e,t=0,n=PN,r=()=>{})=>{const o=typeof t=="number"&&t>0;return o||r(),o?e.transition().duration(t).ease(n).on("end",r):e},r_=e=>{const t=e.ctrlKey&&Hl()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function IN({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:o,panOnScrollSpeed:a,zoomOnPinch:c,onPanZoomStart:u,onPanZoom:p,onPanZoomEnd:f}){return h=>{if(Ki(h,t))return h.ctrlKey&&h.preventDefault(),!1;h.preventDefault(),h.stopImmediatePropagation();const m=n.property("__zoom").k||1;if(h.ctrlKey&&c){const C=pr(h),k=r_(h),E=m*Math.pow(2,k);r.scaleTo(n,E,C,h);return}const x=h.deltaMode===1?20:1;let y=o===Gs.Vertical?0:h.deltaX*x,w=o===Gs.Horizontal?0:h.deltaY*x;!Hl()&&h.shiftKey&&o!==Gs.Vertical&&(y=h.deltaY*x,w=0),r.translateBy(n,-(y/m)*a,-(w/m)*a,{internal:!0});const v=Jd(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(p?.(h,v),e.panScrollTimeout=setTimeout(()=>{f?.(h,v),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,u?.(h,v))}}function MN({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,o){const a=r.type==="wheel",c=!t&&a&&!r.ctrlKey,u=Ki(r,e);if(r.ctrlKey&&a&&u&&r.preventDefault(),c||u)return null;r.preventDefault(),n.call(this,r,o)}}function LN({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;const o=Jd(r.transform);e.mouseButton=r.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=o,r.sourceEvent?.type==="mousedown"&&t(!0),n&&n?.(r.sourceEvent,o)}}function TN({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:o}){return a=>{e.usedRightMouseButton=!!(n&&n_(t,e.mouseButton??0)),a.sourceEvent?.sync||r([a.transform.x,a.transform.y,a.transform.k]),o&&!a.sourceEvent?.internal&&o?.(a.sourceEvent,Jd(a.transform))}}function RN({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:o,onPaneContextMenu:a}){return c=>{if(!c.sourceEvent?.internal&&(e.isZoomingOrPanning=!1,a&&n_(t,e.mouseButton??0)&&!e.usedRightMouseButton&&c.sourceEvent&&a(c.sourceEvent),e.usedRightMouseButton=!1,r(!1),o)){const u=Jd(c.transform);e.prevViewport=u,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o?.(c.sourceEvent,u)},n?150:0)}}}function AN({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:o,zoomOnDoubleClick:a,userSelectionActive:c,noWheelClassName:u,noPanClassName:p,lib:f,connectionInProgress:h}){return m=>{const x=e||t,y=n&&m.ctrlKey,w=m.type==="wheel";if(m.button===1&&m.type==="mousedown"&&(Ki(m,`${f}-flow__node`)||Ki(m,`${f}-flow__edge`)))return!0;if(!r&&!x&&!o&&!a&&!n||c||h&&!w||Ki(m,u)&&w||Ki(m,p)&&(!w||o&&w&&!e)||!n&&m.ctrlKey&&w)return!1;if(!n&&m.type==="touchstart"&&m.touches?.length>1)return m.preventDefault(),!1;if(!x&&!o&&!y&&w||!r&&(m.type==="mousedown"||m.type==="touchstart")||Array.isArray(r)&&!r.includes(m.button)&&m.type==="mousedown")return!1;const v=Array.isArray(r)&&r.includes(m.button)||!m.button||m.button<=1;return(!m.ctrlKey||w)&&v}}function zN({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:o,onPanZoom:a,onPanZoomStart:c,onPanZoomEnd:u,onDraggingChange:p}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},h=e.getBoundingClientRect(),m=Pw().scaleExtent([t,n]).translateExtent(r),x=zn(e).call(m);E({x:o.x,y:o.y,zoom:fa(o.zoom,t,n)},[[0,0],[h.width,h.height]],r);const y=x.on("wheel.zoom"),w=x.on("dblclick.zoom");m.wheelDelta(r_);function v(G,V){return x?new Promise(W=>{m?.interpolate(V?.interpolate==="linear"?jl:nd).transform(Lh(x,V?.duration,V?.ease,()=>W(!0)),G)}):Promise.resolve(!1)}function C({noWheelClassName:G,noPanClassName:V,onPaneContextMenu:W,userSelectionActive:z,panOnScroll:M,panOnDrag:F,panOnScrollMode:H,panOnScrollSpeed:R,preventScrolling:I,zoomOnPinch:U,zoomOnScroll:O,zoomOnDoubleClick:B,zoomActivationKeyPressed:q,lib:X,onTransformChange:ne,connectionInProgress:ie,paneClickDistance:ee,selectionOnDrag:J}){z&&!f.isZoomingOrPanning&&k();const le=M&&!q&&!z;m.clickDistance(J?1/0:!mr(ee)||ee<0?0:ee);const de=le?IN({zoomPanValues:f,noWheelClassName:G,d3Selection:x,d3Zoom:m,panOnScrollMode:H,panOnScrollSpeed:R,zoomOnPinch:U,onPanZoomStart:c,onPanZoom:a,onPanZoomEnd:u}):MN({noWheelClassName:G,preventScrolling:I,d3ZoomHandler:y});if(x.on("wheel.zoom",de,{passive:!1}),!z){const te=LN({zoomPanValues:f,onDraggingChange:p,onPanZoomStart:c});m.on("start",te);const ae=TN({zoomPanValues:f,panOnDrag:F,onPaneContextMenu:!!W,onPanZoom:a,onTransformChange:ne});m.on("zoom",ae);const fe=RN({zoomPanValues:f,panOnDrag:F,panOnScroll:M,onPaneContextMenu:W,onPanZoomEnd:u,onDraggingChange:p});m.on("end",fe)}const me=AN({zoomActivationKeyPressed:q,panOnDrag:F,zoomOnScroll:O,panOnScroll:M,zoomOnDoubleClick:B,zoomOnPinch:U,userSelectionActive:z,noPanClassName:V,noWheelClassName:G,lib:X,connectionInProgress:ie});m.filter(me),B?x.on("dblclick.zoom",w):x.on("dblclick.zoom",null)}function k(){m.on("zoom",null)}async function E(G,V,W){const z=Mh(G),M=m?.constrain()(z,V,W);return M&&await v(M),new Promise(F=>F(M))}async function N(G,V){const W=Mh(G);return await v(W,V),new Promise(z=>z(W))}function j(G){if(x){const V=Mh(G),W=x.property("__zoom");(W.k!==G.zoom||W.x!==G.x||W.y!==G.y)&&m?.transform(x,V,null,{sync:!0})}}function P(){const G=x?Ew(x.node()):{x:0,y:0,k:1};return{x:G.x,y:G.y,zoom:G.k}}function L(G,V){return x?new Promise(W=>{m?.interpolate(V?.interpolate==="linear"?jl:nd).scaleTo(Lh(x,V?.duration,V?.ease,()=>W(!0)),G)}):Promise.resolve(!1)}function T(G,V){return x?new Promise(W=>{m?.interpolate(V?.interpolate==="linear"?jl:nd).scaleBy(Lh(x,V?.duration,V?.ease,()=>W(!0)),G)}):Promise.resolve(!1)}function D(G){m?.scaleExtent(G)}function $(G){m?.translateExtent(G)}function Y(G){const V=!mr(G)||G<0?0:G;m?.clickDistance(V)}return{update:C,destroy:k,setViewport:N,setViewportConstrained:E,getViewport:P,scaleTo:L,scaleBy:T,setScaleExtent:D,setTranslateExtent:$,syncViewport:j,setClickDistance:Y}}var ni;(function(e){e.Line="line",e.Handle="handle"})(ni||(ni={}));const DN=["top-left","top-right","bottom-left","bottom-right"],ON=["top","right","bottom","left"];function FN({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:o,affectsY:a}){const c=e-t,u=n-r,p=[c>0?1:c<0?-1:0,u>0?1:u<0?-1:0];return c&&o&&(p[0]=p[0]*-1),u&&a&&(p[1]=p[1]*-1),p}function qv(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),o=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:o}}function qo(e,t){return Math.max(0,t-e)}function Qo(e,t){return Math.max(0,e-t)}function Tu(e,t,n){return Math.max(0,t-e,e-n)}function Qv(e,t){return e?!t:t}function $N(e,t,n,r,o,a,c,u){let{affectsX:p,affectsY:f}=t;const{isHorizontal:h,isVertical:m}=t,x=h&&m,{xSnapped:y,ySnapped:w}=n,{minWidth:v,maxWidth:C,minHeight:k,maxHeight:E}=r,{x:N,y:j,width:P,height:L,aspectRatio:T}=e;let D=Math.floor(h?y-e.pointerX:0),$=Math.floor(m?w-e.pointerY:0);const Y=P+(p?-D:D),G=L+(f?-$:$),V=-a[0]*P,W=-a[1]*L;let z=Tu(Y,v,C),M=Tu(G,k,E);if(c){let R=0,I=0;p&&D<0?R=qo(N+D+V,c[0][0]):!p&&D>0&&(R=Qo(N+Y+V,c[1][0])),f&&$<0?I=qo(j+$+W,c[0][1]):!f&&$>0&&(I=Qo(j+G+W,c[1][1])),z=Math.max(z,R),M=Math.max(M,I)}if(u){let R=0,I=0;p&&D>0?R=Qo(N+D,u[0][0]):!p&&D<0&&(R=qo(N+Y,u[1][0])),f&&$>0?I=Qo(j+$,u[0][1]):!f&&$<0&&(I=qo(j+G,u[1][1])),z=Math.max(z,R),M=Math.max(M,I)}if(o){if(h){const R=Tu(Y/T,k,E)*T;if(z=Math.max(z,R),c){let I=0;!p&&!f||p&&!f&&x?I=Qo(j+W+Y/T,c[1][1])*T:I=qo(j+W+(p?D:-D)/T,c[0][1])*T,z=Math.max(z,I)}if(u){let I=0;!p&&!f||p&&!f&&x?I=qo(j+Y/T,u[1][1])*T:I=Qo(j+(p?D:-D)/T,u[0][1])*T,z=Math.max(z,I)}}if(m){const R=Tu(G*T,v,C)/T;if(M=Math.max(M,R),c){let I=0;!p&&!f||f&&!p&&x?I=Qo(N+G*T+V,c[1][0])/T:I=qo(N+(f?$:-$)*T+V,c[0][0])/T,M=Math.max(M,I)}if(u){let I=0;!p&&!f||f&&!p&&x?I=qo(N+G*T,u[1][0])/T:I=Qo(N+(f?$:-$)*T,u[0][0])/T,M=Math.max(M,I)}}}$=$+($<0?M:-M),D=D+(D<0?z:-z),o&&(x?Y>G*T?$=(Qv(p,f)?-D:D)/T:D=(Qv(p,f)?-$:$)*T:h?($=D/T,f=p):(D=$*T,p=f));const F=p?N+D:N,H=f?j+$:j;return{width:P+(p?-D:D),height:L+(f?-$:$),x:a[0]*D*(p?-1:1)+F,y:a[1]*$*(f?-1:1)+H}}const o_={width:0,height:0,x:0,y:0},BN={...o_,pointerX:0,pointerY:0,aspectRatio:1};function VN(e){return[[0,0],[e.measured.width,e.measured.height]]}function HN(e,t,n){const r=t.position.x+e.position.x,o=t.position.y+e.position.y,a=e.measured.width??0,c=e.measured.height??0,u=n[0]*a,p=n[1]*c;return[[r-u,o-p],[r+a-u,o+c-p]]}function WN({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:o}){const a=zn(e);let c={controlDirection:qv("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function u({controlPosition:f,boundaries:h,keepAspectRatio:m,resizeDirection:x,onResizeStart:y,onResize:w,onResizeEnd:v,shouldResize:C}){let k={...o_},E={...BN};c={boundaries:h,resizeDirection:x,keepAspectRatio:m,controlDirection:qv(f)};let N,j=null,P=[],L,T,D,$=!1;const Y=hw().on("start",G=>{const{nodeLookup:V,transform:W,snapGrid:z,snapToGrid:M,nodeOrigin:F,paneDomNode:H}=n();if(N=V.get(t),!N)return;j=H?.getBoundingClientRect()??null;const{xSnapped:R,ySnapped:I}=El(G.sourceEvent,{transform:W,snapGrid:z,snapToGrid:M,containerBounds:j});k={width:N.measured.width??0,height:N.measured.height??0,x:N.position.x??0,y:N.position.y??0},E={...k,pointerX:R,pointerY:I,aspectRatio:k.width/k.height},L=void 0,N.parentId&&(N.extent==="parent"||N.expandParent)&&(L=V.get(N.parentId),T=L&&N.extent==="parent"?VN(L):void 0),P=[],D=void 0;for(const[U,O]of V)if(O.parentId===t&&(P.push({id:U,position:{...O.position},extent:O.extent}),O.extent==="parent"||O.expandParent)){const B=HN(O,N,O.origin??F);D?D=[[Math.min(B[0][0],D[0][0]),Math.min(B[0][1],D[0][1])],[Math.max(B[1][0],D[1][0]),Math.max(B[1][1],D[1][1])]]:D=B}y?.(G,{...k})}).on("drag",G=>{const{transform:V,snapGrid:W,snapToGrid:z,nodeOrigin:M}=n(),F=El(G.sourceEvent,{transform:V,snapGrid:W,snapToGrid:z,containerBounds:j}),H=[];if(!N)return;const{x:R,y:I,width:U,height:O}=k,B={},q=N.origin??M,{width:X,height:ne,x:ie,y:ee}=$N(E,c.controlDirection,F,c.boundaries,c.keepAspectRatio,q,T,D),J=X!==U,le=ne!==O,de=ie!==R&&J,me=ee!==I&&le;if(!de&&!me&&!J&&!le)return;if((de||me||q[0]===1||q[1]===1)&&(B.x=de?ie:k.x,B.y=me?ee:k.y,k.x=B.x,k.y=B.y,P.length>0)){const Le=ie-R,Re=ee-I;for(const ce of P)ce.position={x:ce.position.x-Le+q[0]*(X-U),y:ce.position.y-Re+q[1]*(ne-O)},H.push(ce)}if((J||le)&&(B.width=J&&(!c.resizeDirection||c.resizeDirection==="horizontal")?X:k.width,B.height=le&&(!c.resizeDirection||c.resizeDirection==="vertical")?ne:k.height,k.width=B.width,k.height=B.height),L&&N.expandParent){const Le=q[0]*(B.width??0);B.x&&B.x<Le&&(k.x=Le,E.x=E.x-(B.x-Le));const Re=q[1]*(B.height??0);B.y&&B.y<Re&&(k.y=Re,E.y=E.y-(B.y-Re))}const te=FN({width:k.width,prevWidth:U,height:k.height,prevHeight:O,affectsX:c.controlDirection.affectsX,affectsY:c.controlDirection.affectsY}),ae={...k,direction:te};C?.(G,ae)!==!1&&($=!0,w?.(G,ae),r(B,H))}).on("end",G=>{$&&(v?.(G,{...k}),o?.({...k}),$=!1)});a.call(Y)}function p(){a.on(".drag",null)}return{update:u,destroy:p}}var Th={exports:{}},Rh={},Ah={exports:{}},zh={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv;function UN(){if(Jv)return zh;Jv=1;var e=oc();function t(m,x){return m===x&&(m!==0||1/m===1/x)||m!==m&&x!==x}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,o=e.useEffect,a=e.useLayoutEffect,c=e.useDebugValue;function u(m,x){var y=x(),w=r({inst:{value:y,getSnapshot:x}}),v=w[0].inst,C=w[1];return a(function(){v.value=y,v.getSnapshot=x,p(v)&&C({inst:v})},[m,y,x]),o(function(){return p(v)&&C({inst:v}),m(function(){p(v)&&C({inst:v})})},[m]),c(y),y}function p(m){var x=m.getSnapshot;m=m.value;try{var y=x();return!n(m,y)}catch{return!0}}function f(m,x){return x()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return zh.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,zh}var ey;function GN(){return ey||(ey=1,Ah.exports=UN()),Ah.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ty;function YN(){if(ty)return Rh;ty=1;var e=oc(),t=GN();function n(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:n,o=t.useSyncExternalStore,a=e.useRef,c=e.useEffect,u=e.useMemo,p=e.useDebugValue;return Rh.useSyncExternalStoreWithSelector=function(f,h,m,x,y){var w=a(null);if(w.current===null){var v={hasValue:!1,value:null};w.current=v}else v=w.current;w=u(function(){function k(L){if(!E){if(E=!0,N=L,L=x(L),y!==void 0&&v.hasValue){var T=v.value;if(y(T,L))return j=T}return j=L}if(T=j,r(N,L))return T;var D=x(L);return y!==void 0&&y(T,D)?(N=L,T):(N=L,j=D)}var E=!1,N,j,P=m===void 0?null:m;return[function(){return k(h())},P===null?void 0:function(){return k(P())}]},[h,m,x,y]);var C=o(f,w[0],w[1]);return c(function(){v.hasValue=!0,v.value=C},[C]),p(C),C},Rh}var ny;function KN(){return ny||(ny=1,Th.exports=YN()),Th.exports}var ZN=KN();const XN=mg(ZN),qN={},ry=e=>{let t;const n=new Set,r=(h,m)=>{const x=typeof h=="function"?h(t):h;if(!Object.is(x,t)){const y=t;t=m??(typeof x!="object"||x===null)?x:Object.assign({},t,x),n.forEach(w=>w(t,y))}},o=()=>t,p={setState:r,getState:o,getInitialState:()=>f,subscribe:h=>(n.add(h),()=>n.delete(h)),destroy:()=>{(qN?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},f=t=e(r,o,p);return p},QN=e=>e?ry(e):ry,{useDebugValue:JN}=ge,{useSyncExternalStoreWithSelector:eS}=XN,tS=e=>e;function s_(e,t=tS,n){const r=eS(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return JN(r),r}const oy=(e,t)=>{const n=QN(e),r=(o,a=t)=>s_(n,o,a);return Object.assign(r,n),r},nS=(e,t)=>e?oy(e,t):oy;function st(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var wo=J2();const i_=mg(wo),ef=b.createContext(null),rS=ef.Provider,a_=yr.error001();function He(e,t){const n=b.useContext(ef);if(n===null)throw new Error(a_);return s_(n,e,t)}function ct(){const e=b.useContext(ef);if(e===null)throw new Error(a_);return b.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const sy={display:"none"},oS={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},l_="react-flow__node-desc",c_="react-flow__edge-desc",sS="react-flow__aria-live",iS=e=>e.ariaLiveMessage,aS=e=>e.ariaLabelConfig;function lS({rfId:e}){const t=He(iS);return l.jsx("div",{id:`${sS}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:oS,children:t})}function cS({rfId:e,disableKeyboardA11y:t}){const n=He(aS);return l.jsxs(l.Fragment,{children:[l.jsx("div",{id:`${l_}-${e}`,style:sy,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),l.jsx("div",{id:`${c_}-${e}`,style:sy,children:n["edge.a11yDescription.default"]}),!t&&l.jsx(lS,{rfId:e})]})}const tf=b.forwardRef(({position:e="top-left",children:t,className:n,style:r,...o},a)=>{const c=`${e}`.split("-");return l.jsx("div",{className:Et(["react-flow__panel",n,...c]),style:r,ref:a,...o,children:t})});tf.displayName="Panel";function uS({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:l.jsx(tf,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:l.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const dS=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},Ru=e=>e.id;function fS(e,t){return st(e.selectedNodes.map(Ru),t.selectedNodes.map(Ru))&&st(e.selectedEdges.map(Ru),t.selectedEdges.map(Ru))}function pS({onSelectionChange:e}){const t=ct(),{selectedNodes:n,selectedEdges:r}=He(dS,fS);return b.useEffect(()=>{const o={nodes:n,edges:r};e?.(o),t.getState().onSelectionChangeHandlers.forEach(a=>a(o))},[n,r,e]),null}const hS=e=>!!e.onSelectionChangeHandlers;function mS({onSelectionChange:e}){const t=He(hS);return e||t?l.jsx(pS,{onSelectionChange:e}):null}const u_=[0,0],gS={x:0,y:0,zoom:1},xS=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],iy=[...xS,"rfId"],vS=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),ay={translateExtent:$l,nodeOrigin:u_,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function yS(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:o,setTranslateExtent:a,setNodeExtent:c,reset:u,setDefaultNodesAndEdges:p}=He(vS,st),f=ct();b.useEffect(()=>(p(e.defaultNodes,e.defaultEdges),()=>{h.current=ay,u()}),[]);const h=b.useRef(ay);return b.useEffect(()=>{for(const m of iy){const x=e[m],y=h.current[m];x!==y&&(typeof e[m]>"u"||(m==="nodes"?t(x):m==="edges"?n(x):m==="minZoom"?r(x):m==="maxZoom"?o(x):m==="translateExtent"?a(x):m==="nodeExtent"?c(x):m==="ariaLabelConfig"?f.setState({ariaLabelConfig:eN(x)}):m==="fitView"?f.setState({fitViewQueued:x}):m==="fitViewOptions"?f.setState({fitViewOptions:x}):f.setState({[m]:x})))}h.current=e},iy.map(m=>e[m])),null}function ly(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function wS(e){const[t,n]=b.useState(e==="system"?null:e);return b.useEffect(()=>{if(e!=="system"){n(e);return}const r=ly(),o=()=>n(r?.matches?"dark":"light");return o(),r?.addEventListener("change",o),()=>{r?.removeEventListener("change",o)}},[e]),t!==null?t:ly()?.matches?"dark":"light"}const cy=typeof document<"u"?document:null;function Wl(e=null,t={target:cy,actInsideInputWithModifier:!0}){const[n,r]=b.useState(!1),o=b.useRef(!1),a=b.useRef(new Set([])),[c,u]=b.useMemo(()=>{if(e!==null){const f=(Array.isArray(e)?e:[e]).filter(m=>typeof m=="string").map(m=>m.replace("+",`
`).replace(`

`,`
+`).split(`
`)),h=f.reduce((m,x)=>m.concat(...x),[]);return[f,h]}return[[],[]]},[e]);return b.useEffect(()=>{const p=t?.target??cy,f=t?.actInsideInputWithModifier??!0;if(e!==null){const h=y=>{if(o.current=y.ctrlKey||y.metaKey||y.shiftKey||y.altKey,(!o.current||o.current&&!f)&&Vw(y))return!1;const v=dy(y.code,u);if(a.current.add(y[v]),uy(c,a.current,!1)){const C=y.composedPath?.()?.[0]||y.target,k=C?.nodeName==="BUTTON"||C?.nodeName==="A";t.preventDefault!==!1&&(o.current||!k)&&y.preventDefault(),r(!0)}},m=y=>{const w=dy(y.code,u);uy(c,a.current,!0)?(r(!1),a.current.clear()):a.current.delete(y[w]),y.key==="Meta"&&a.current.clear(),o.current=!1},x=()=>{a.current.clear(),r(!1)};return p?.addEventListener("keydown",h),p?.addEventListener("keyup",m),window.addEventListener("blur",x),window.addEventListener("contextmenu",x),()=>{p?.removeEventListener("keydown",h),p?.removeEventListener("keyup",m),window.removeEventListener("blur",x),window.removeEventListener("contextmenu",x)}}},[e,r]),n}function uy(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function dy(e,t){return t.includes(e)?"code":"key"}const _S=()=>{const e=ct();return b.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,o,a],panZoom:c}=e.getState();return c?(await c.setViewport({x:t.x??r,y:t.y??o,zoom:t.zoom??a},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:o,minZoom:a,maxZoom:c,panZoom:u}=e.getState(),p=Sg(t,r,o,a,c,n?.padding??.1);return u?(await u.setViewport(p,{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:o,snapToGrid:a,domNode:c}=e.getState();if(!c)return t;const{x:u,y:p}=c.getBoundingClientRect(),f={x:t.x-u,y:t.y-p},h=n.snapGrid??o,m=n.snapToGrid??a;return uc(f,r,m,h)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:o,y:a}=r.getBoundingClientRect(),c=_d(t,n);return{x:c.x+o,y:c.y+a}}}),[])};function d_(e,t){const n=[],r=new Map,o=[];for(const a of e)if(a.type==="add"){o.push(a);continue}else if(a.type==="remove"||a.type==="replace")r.set(a.id,[a]);else{const c=r.get(a.id);c?c.push(a):r.set(a.id,[a])}for(const a of t){const c=r.get(a.id);if(!c){n.push(a);continue}if(c[0].type==="remove")continue;if(c[0].type==="replace"){n.push({...c[0].item});continue}const u={...a};for(const p of c)bS(p,u);n.push(u)}return o.length&&o.forEach(a=>{a.index!==void 0?n.splice(a.index,0,{...a.item}):n.push({...a.item})}),n}function bS(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function f_(e,t){return d_(e,t)}function p_(e,t){return d_(e,t)}function $s(e,t){return{id:e,type:"select",selected:t}}function Zi(e,t=new Set,n=!1){const r=[];for(const[o,a]of e){const c=t.has(o);!(a.selected===void 0&&!c)&&a.selected!==c&&(n&&(a.selected=c),r.push($s(a.id,c)))}return r}function fy({items:e=[],lookup:t}){const n=[],r=new Map(e.map(o=>[o.id,o]));for(const[o,a]of e.entries()){const c=t.get(a.id),u=c?.internals?.userNode??c;u!==void 0&&u!==a&&n.push({id:a.id,item:a,type:"replace"}),u===void 0&&n.push({item:a,type:"add",index:o})}for(const[o]of t)r.get(o)===void 0&&n.push({id:o,type:"remove"});return n}function py(e){return{id:e.id,type:"remove"}}const hy=e=>W9(e),CS=e=>Rw(e);function h_(e){return b.forwardRef(e)}const kS=typeof window<"u"?b.useLayoutEffect:b.useEffect;function my(e){const[t,n]=b.useState(BigInt(0)),[r]=b.useState(()=>NS(()=>n(o=>o+BigInt(1))));return kS(()=>{const o=r.get();o.length&&(e(o),r.reset())},[t]),r}function NS(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const m_=b.createContext(null);function SS({children:e}){const t=ct(),n=b.useCallback(u=>{const{nodes:p=[],setNodes:f,hasDefaultNodes:h,onNodesChange:m,nodeLookup:x,fitViewQueued:y,onNodesChangeMiddlewareMap:w}=t.getState();let v=p;for(const k of u)v=typeof k=="function"?k(v):k;let C=fy({items:v,lookup:x});for(const k of w.values())C=k(C);h&&f(v),C.length>0?m?.(C):y&&window.requestAnimationFrame(()=>{const{fitViewQueued:k,nodes:E,setNodes:N}=t.getState();k&&N(E)})},[]),r=my(n),o=b.useCallback(u=>{const{edges:p=[],setEdges:f,hasDefaultEdges:h,onEdgesChange:m,edgeLookup:x}=t.getState();let y=p;for(const w of u)y=typeof w=="function"?w(y):w;h?f(y):m&&m(fy({items:y,lookup:x}))},[]),a=my(o),c=b.useMemo(()=>({nodeQueue:r,edgeQueue:a}),[]);return l.jsx(m_.Provider,{value:c,children:e})}function jS(){const e=b.useContext(m_);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const ES=e=>!!e.panZoom;function cs(){const e=_S(),t=ct(),n=jS(),r=He(ES),o=b.useMemo(()=>{const a=m=>t.getState().nodeLookup.get(m),c=m=>{n.nodeQueue.push(m)},u=m=>{n.edgeQueue.push(m)},p=m=>{const{nodeLookup:x,nodeOrigin:y}=t.getState(),w=hy(m)?m:x.get(m.id),v=w.parentId?$w(w.position,w.measured,w.parentId,x,y):w.position,C={...w,position:v,width:w.measured?.width??w.width,height:w.measured?.height??w.height};return pa(C)},f=(m,x,y={replace:!1})=>{c(w=>w.map(v=>{if(v.id===m){const C=typeof x=="function"?x(v):x;return y.replace&&hy(C)?C:{...v,...C}}return v}))},h=(m,x,y={replace:!1})=>{u(w=>w.map(v=>{if(v.id===m){const C=typeof x=="function"?x(v):x;return y.replace&&CS(C)?C:{...v,...C}}return v}))};return{getNodes:()=>t.getState().nodes.map(m=>({...m})),getNode:m=>a(m)?.internals.userNode,getInternalNode:a,getEdges:()=>{const{edges:m=[]}=t.getState();return m.map(x=>({...x}))},getEdge:m=>t.getState().edgeLookup.get(m),setNodes:c,setEdges:u,addNodes:m=>{const x=Array.isArray(m)?m:[m];n.nodeQueue.push(y=>[...y,...x])},addEdges:m=>{const x=Array.isArray(m)?m:[m];n.edgeQueue.push(y=>[...y,...x])},toObject:()=>{const{nodes:m=[],edges:x=[],transform:y}=t.getState(),[w,v,C]=y;return{nodes:m.map(k=>({...k})),edges:x.map(k=>({...k})),viewport:{x:w,y:v,zoom:C}}},deleteElements:async({nodes:m=[],edges:x=[]})=>{const{nodes:y,edges:w,onNodesDelete:v,onEdgesDelete:C,triggerNodeChanges:k,triggerEdgeChanges:E,onDelete:N,onBeforeDelete:j}=t.getState(),{nodes:P,edges:L}=await Z9({nodesToRemove:m,edgesToRemove:x,nodes:y,edges:w,onBeforeDelete:j}),T=L.length>0,D=P.length>0;if(T){const $=L.map(py);C?.(L),E($)}if(D){const $=P.map(py);v?.(P),k($)}return(D||T)&&N?.({nodes:P,edges:L}),{deletedNodes:P,deletedEdges:L}},getIntersectingNodes:(m,x=!0,y)=>{const w=$v(m),v=w?m:p(m),C=y!==void 0;return v?(y||t.getState().nodes).filter(k=>{const E=t.getState().nodeLookup.get(k.id);if(E&&!w&&(k.id===m.id||!E.internals.positionAbsolute))return!1;const N=pa(C?k:E),j=Vl(N,v);return x&&j>0||j>=N.width*N.height||j>=v.width*v.height}):[]},isNodeIntersecting:(m,x,y=!0)=>{const v=$v(m)?m:p(m);if(!v)return!1;const C=Vl(v,x);return y&&C>0||C>=x.width*x.height||C>=v.width*v.height},updateNode:f,updateNodeData:(m,x,y={replace:!1})=>{f(m,w=>{const v=typeof x=="function"?x(w):x;return y.replace?{...w,data:v}:{...w,data:{...w.data,...v}}},y)},updateEdge:h,updateEdgeData:(m,x,y={replace:!1})=>{h(m,w=>{const v=typeof x=="function"?x(w):x;return y.replace?{...w,data:v}:{...w,data:{...w.data,...v}}},y)},getNodesBounds:m=>{const{nodeLookup:x,nodeOrigin:y}=t.getState();return U9(m,{nodeLookup:x,nodeOrigin:y})},getHandleConnections:({type:m,id:x,nodeId:y})=>Array.from(t.getState().connectionLookup.get(`${y}-${m}${x?`-${x}`:""}`)?.values()??[]),getNodeConnections:({type:m,handleId:x,nodeId:y})=>Array.from(t.getState().connectionLookup.get(`${y}${m?x?`-${m}-${x}`:`-${m}`:""}`)?.values()??[]),fitView:async m=>{const x=t.getState().fitViewResolver??J9();return t.setState({fitViewQueued:!0,fitViewOptions:m,fitViewResolver:x}),n.nodeQueue.push(y=>[...y]),x.promise}}},[]);return b.useMemo(()=>({...o,...e,viewportInitialized:r}),[r])}const gy=e=>e.selected,PS=typeof window<"u"?window:void 0;function IS({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=ct(),{deleteElements:r}=cs(),o=Wl(e,{actInsideInputWithModifier:!1}),a=Wl(t,{target:PS});b.useEffect(()=>{if(o){const{edges:c,nodes:u}=n.getState();r({nodes:u.filter(gy),edges:c.filter(gy)}),n.setState({nodesSelectionActive:!1})}},[o]),b.useEffect(()=>{n.setState({multiSelectionActive:a})},[a])}function MS(e){const t=ct();b.useEffect(()=>{const n=()=>{if(!e.current||!(e.current.checkVisibility?.()??!0))return!1;const r=jg(e.current);(r.height===0||r.width===0)&&t.getState().onError?.("004",yr.error004()),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const nf={position:"absolute",width:"100%",height:"100%",top:0,left:0},LS=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function TS({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:o=.5,panOnScrollMode:a=Gs.Free,zoomOnDoubleClick:c=!0,panOnDrag:u=!0,defaultViewport:p,translateExtent:f,minZoom:h,maxZoom:m,zoomActivationKeyCode:x,preventScrolling:y=!0,children:w,noWheelClassName:v,noPanClassName:C,onViewportChange:k,isControlledViewport:E,paneClickDistance:N,selectionOnDrag:j}){const P=ct(),L=b.useRef(null),{userSelectionActive:T,lib:D,connectionInProgress:$}=He(LS,st),Y=Wl(x),G=b.useRef();MS(L);const V=b.useCallback(W=>{k?.({x:W[0],y:W[1],zoom:W[2]}),E||P.setState({transform:W})},[k,E]);return b.useEffect(()=>{if(L.current){G.current=zN({domNode:L.current,minZoom:h,maxZoom:m,translateExtent:f,viewport:p,onDraggingChange:F=>P.setState({paneDragging:F}),onPanZoomStart:(F,H)=>{const{onViewportChangeStart:R,onMoveStart:I}=P.getState();I?.(F,H),R?.(H)},onPanZoom:(F,H)=>{const{onViewportChange:R,onMove:I}=P.getState();I?.(F,H),R?.(H)},onPanZoomEnd:(F,H)=>{const{onViewportChangeEnd:R,onMoveEnd:I}=P.getState();I?.(F,H),R?.(H)}});const{x:W,y:z,zoom:M}=G.current.getViewport();return P.setState({panZoom:G.current,transform:[W,z,M],domNode:L.current.closest(".react-flow")}),()=>{G.current?.destroy()}}},[]),b.useEffect(()=>{G.current?.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:o,panOnScrollMode:a,zoomOnDoubleClick:c,panOnDrag:u,zoomActivationKeyPressed:Y,preventScrolling:y,noPanClassName:C,userSelectionActive:T,noWheelClassName:v,lib:D,onTransformChange:V,connectionInProgress:$,selectionOnDrag:j,paneClickDistance:N})},[e,t,n,r,o,a,c,u,Y,y,C,T,v,D,V,$,j,N]),l.jsx("div",{className:"react-flow__renderer",ref:L,style:nf,children:w})}const RS=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function AS(){const{userSelectionActive:e,userSelectionRect:t}=He(RS,st);return e&&t?l.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Dh=(e,t)=>n=>{n.target===t.current&&e?.(n)},zS=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function DS({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Bl.Full,panOnDrag:r,paneClickDistance:o,selectionOnDrag:a,onSelectionStart:c,onSelectionEnd:u,onPaneClick:p,onPaneContextMenu:f,onPaneScroll:h,onPaneMouseEnter:m,onPaneMouseMove:x,onPaneMouseLeave:y,children:w}){const v=ct(),{userSelectionActive:C,elementsSelectable:k,dragging:E,connectionInProgress:N}=He(zS,st),j=k&&(e||C),P=b.useRef(null),L=b.useRef(),T=b.useRef(new Set),D=b.useRef(new Set),$=b.useRef(!1),Y=R=>{if($.current||N){$.current=!1;return}p?.(R),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1})},G=R=>{if(Array.isArray(r)&&r?.includes(2)){R.preventDefault();return}f?.(R)},V=h?R=>h(R):void 0,W=R=>{$.current&&(R.stopPropagation(),$.current=!1)},z=R=>{const{domNode:I}=v.getState();if(L.current=I?.getBoundingClientRect(),!L.current)return;const U=R.target===P.current;if(!U&&!!R.target.closest(".nokey")||!e||!(a&&U||t)||R.button!==0||!R.isPrimary)return;R.target?.setPointerCapture?.(R.pointerId),$.current=!1;const{x:q,y:X}=gr(R.nativeEvent,L.current);v.setState({userSelectionRect:{width:0,height:0,startX:q,startY:X,x:q,y:X}}),U||(R.stopPropagation(),R.preventDefault())},M=R=>{const{userSelectionRect:I,transform:U,nodeLookup:O,edgeLookup:B,connectionLookup:q,triggerNodeChanges:X,triggerEdgeChanges:ne,defaultEdgeOptions:ie,resetSelectedElements:ee}=v.getState();if(!L.current||!I)return;const{x:J,y:le}=gr(R.nativeEvent,L.current),{startX:de,startY:me}=I;if(!$.current){const Re=t?0:o;if(Math.hypot(J-de,le-me)<=Re)return;ee(),c?.(R)}$.current=!0;const te={startX:de,startY:me,x:J<de?J:de,y:le<me?le:me,width:Math.abs(J-de),height:Math.abs(le-me)},ae=T.current,fe=D.current;T.current=new Set(Ng(O,te,U,n===Bl.Partial,!0).map(Re=>Re.id)),D.current=new Set;const Le=ie?.selectable??!0;for(const Re of T.current){const ce=q.get(Re);if(ce)for(const{edgeId:ye}of ce.values()){const Ee=B.get(ye);Ee&&(Ee.selectable??Le)&&D.current.add(ye)}}if(!Bv(ae,T.current)){const Re=Zi(O,T.current,!0);X(Re)}if(!Bv(fe,D.current)){const Re=Zi(B,D.current);ne(Re)}v.setState({userSelectionRect:te,userSelectionActive:!0,nodesSelectionActive:!1})},F=R=>{R.button===0&&(R.target?.releasePointerCapture?.(R.pointerId),!C&&R.target===P.current&&v.getState().userSelectionRect&&Y?.(R),v.setState({userSelectionActive:!1,userSelectionRect:null}),$.current&&(u?.(R),v.setState({nodesSelectionActive:T.current.size>0})))},H=r===!0||Array.isArray(r)&&r.includes(0);return l.jsxs("div",{className:Et(["react-flow__pane",{draggable:H,dragging:E,selection:e}]),onClick:j?void 0:Dh(Y,P),onContextMenu:Dh(G,P),onWheel:Dh(V,P),onPointerEnter:j?void 0:m,onPointerMove:j?M:x,onPointerUp:j?F:void 0,onPointerDownCapture:j?z:void 0,onClickCapture:j?W:void 0,onPointerLeave:y,ref:P,style:nf,children:[w,l.jsx(AS,{})]})}function Lm({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:a,multiSelectionActive:c,nodeLookup:u,onError:p}=t.getState(),f=u.get(e);if(!f){p?.("012",yr.error012(e));return}t.setState({nodesSelectionActive:!1}),f.selected?(n||f.selected&&c)&&(a({nodes:[f],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):o([e])}function g_({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:a,nodeClickDistance:c}){const u=ct(),[p,f]=b.useState(!1),h=b.useRef();return b.useEffect(()=>{h.current=bN({getStoreItems:()=>u.getState(),onNodeMouseDown:m=>{Lm({id:m,store:u,nodeRef:e})},onDragStart:()=>{f(!0)},onDragStop:()=>{f(!1)}})},[]),b.useEffect(()=>{if(t)h.current?.destroy();else if(e.current)return h.current?.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:a,nodeId:o,nodeClickDistance:c}),()=>{h.current?.destroy()}},[n,r,t,a,e,o]),p}const OS=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function x_(){const e=ct();return b.useCallback(n=>{const{nodeExtent:r,snapToGrid:o,snapGrid:a,nodesDraggable:c,onError:u,updateNodePositions:p,nodeLookup:f,nodeOrigin:h}=e.getState(),m=new Map,x=OS(c),y=o?a[0]:5,w=o?a[1]:5,v=n.direction.x*y*n.factor,C=n.direction.y*w*n.factor;for(const[,k]of f){if(!x(k))continue;let E={x:k.internals.positionAbsolute.x+v,y:k.internals.positionAbsolute.y+C};o&&(E=cc(E,a));const{position:N,positionAbsolute:j}=Aw({nodeId:k.id,nextPosition:E,nodeLookup:f,nodeExtent:r,nodeOrigin:h,onError:u});k.position=N,k.internals.positionAbsolute=j,m.set(k.id,k)}p(m)},[])}const Tg=b.createContext(null),FS=Tg.Provider;Tg.Consumer;const Rg=()=>b.useContext(Tg),$S=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),BS=(e,t,n)=>r=>{const{connectionClickStartHandle:o,connectionMode:a,connection:c}=r,{fromHandle:u,toHandle:p,isValid:f}=c,h=p?.nodeId===e&&p?.id===t&&p?.type===n;return{connectingFrom:u?.nodeId===e&&u?.id===t&&u?.type===n,connectingTo:h,clickConnecting:o?.nodeId===e&&o?.id===t&&o?.type===n,isPossibleEndHandle:a===ua.Strict?u?.type!==n:e!==u?.nodeId||t!==u?.id,connectionInProcess:!!u,clickConnectionInProcess:!!o,valid:h&&f}};function VS({type:e="source",position:t=Ce.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:a=!0,id:c,onConnect:u,children:p,className:f,onMouseDown:h,onTouchStart:m,...x},y){const w=c||null,v=e==="target",C=ct(),k=Rg(),{connectOnClick:E,noPanClassName:N,rfId:j}=He($S,st),{connectingFrom:P,connectingTo:L,clickConnecting:T,isPossibleEndHandle:D,connectionInProcess:$,clickConnectionInProcess:Y,valid:G}=He(BS(k,w,e),st);k||C.getState().onError?.("010",yr.error010());const V=M=>{const{defaultEdgeOptions:F,onConnect:H,hasDefaultEdges:R}=C.getState(),I={...F,...M};if(R){const{edges:U,setEdges:O}=C.getState();O(Gw(I,U))}H?.(I),u?.(I)},W=M=>{if(!k)return;const F=Hw(M.nativeEvent);if(o&&(F&&M.button===0||!F)){const H=C.getState();Mm.onPointerDown(M.nativeEvent,{handleDomNode:M.currentTarget,autoPanOnConnect:H.autoPanOnConnect,connectionMode:H.connectionMode,connectionRadius:H.connectionRadius,domNode:H.domNode,nodeLookup:H.nodeLookup,lib:H.lib,isTarget:v,handleId:w,nodeId:k,flowId:H.rfId,panBy:H.panBy,cancelConnection:H.cancelConnection,onConnectStart:H.onConnectStart,onConnectEnd:H.onConnectEnd,updateConnection:H.updateConnection,onConnect:V,isValidConnection:n||H.isValidConnection,getTransform:()=>C.getState().transform,getFromHandle:()=>C.getState().connection.fromHandle,autoPanSpeed:H.autoPanSpeed,dragThreshold:H.connectionDragThreshold})}F?h?.(M):m?.(M)},z=M=>{const{onClickConnectStart:F,onClickConnectEnd:H,connectionClickStartHandle:R,connectionMode:I,isValidConnection:U,lib:O,rfId:B,nodeLookup:q,connection:X}=C.getState();if(!k||!R&&!o)return;if(!R){F?.(M.nativeEvent,{nodeId:k,handleId:w,handleType:e}),C.setState({connectionClickStartHandle:{nodeId:k,type:e,id:w}});return}const ne=Bw(M.target),ie=n||U,{connection:ee,isValid:J}=Mm.isValid(M.nativeEvent,{handle:{nodeId:k,id:w,type:e},connectionMode:I,fromNodeId:R.nodeId,fromHandleId:R.id||null,fromType:R.type,isValidConnection:ie,flowId:B,doc:ne,lib:O,nodeLookup:q});J&&ee&&V(ee);const le=structuredClone(X);delete le.inProgress,le.toPosition=le.toHandle?le.toHandle.position:null,H?.(M,le),C.setState({connectionClickStartHandle:null})};return l.jsx("div",{"data-handleid":w,"data-nodeid":k,"data-handlepos":t,"data-id":`${j}-${k}-${w}-${e}`,className:Et(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",N,f,{source:!v,target:v,connectable:r,connectablestart:o,connectableend:a,clickconnecting:T,connectingfrom:P,connectingto:L,valid:G,connectionindicator:r&&(!$||D)&&($||Y?a:o)}]),onMouseDown:W,onTouchStart:W,onClick:E?z:void 0,ref:y,...x,children:p})}const Kt=b.memo(h_(VS));function HS({data:e,isConnectable:t,sourcePosition:n=Ce.Bottom}){return l.jsxs(l.Fragment,{children:[e?.label,l.jsx(Kt,{type:"source",position:n,isConnectable:t})]})}function WS({data:e,isConnectable:t,targetPosition:n=Ce.Top,sourcePosition:r=Ce.Bottom}){return l.jsxs(l.Fragment,{children:[l.jsx(Kt,{type:"target",position:n,isConnectable:t}),e?.label,l.jsx(Kt,{type:"source",position:r,isConnectable:t})]})}function US(){return null}function GS({data:e,isConnectable:t,targetPosition:n=Ce.Top}){return l.jsxs(l.Fragment,{children:[l.jsx(Kt,{type:"target",position:n,isConnectable:t}),e?.label]})}const bd={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},xy={input:HS,default:WS,output:GS,group:US};function YS(e){return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??e.style?.width,height:e.height??e.initialHeight??e.style?.height}:{width:e.width??e.style?.width,height:e.height??e.style?.height}}const KS=e=>{const{width:t,height:n,x:r,y:o}=lc(e.nodeLookup,{filter:a=>!!a.selected});return{width:mr(t)?t:null,height:mr(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${o}px)`}};function ZS({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=ct(),{width:o,height:a,transformString:c,userSelectionActive:u}=He(KS,st),p=x_(),f=b.useRef(null);if(b.useEffect(()=>{n||f.current?.focus({preventScroll:!0})},[n]),g_({nodeRef:f}),u||!o||!a)return null;const h=e?x=>{const y=r.getState().nodes.filter(w=>w.selected);e(x,y)}:void 0,m=x=>{Object.prototype.hasOwnProperty.call(bd,x.key)&&(x.preventDefault(),p({direction:bd[x.key],factor:x.shiftKey?4:1}))};return l.jsx("div",{className:Et(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c},children:l.jsx("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:n?void 0:-1,onKeyDown:n?void 0:m,style:{width:o,height:a}})})}const vy=typeof window<"u"?window:void 0,XS=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function v_({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:a,onPaneScroll:c,paneClickDistance:u,deleteKeyCode:p,selectionKeyCode:f,selectionOnDrag:h,selectionMode:m,onSelectionStart:x,onSelectionEnd:y,multiSelectionKeyCode:w,panActivationKeyCode:v,zoomActivationKeyCode:C,elementsSelectable:k,zoomOnScroll:E,zoomOnPinch:N,panOnScroll:j,panOnScrollSpeed:P,panOnScrollMode:L,zoomOnDoubleClick:T,panOnDrag:D,defaultViewport:$,translateExtent:Y,minZoom:G,maxZoom:V,preventScrolling:W,onSelectionContextMenu:z,noWheelClassName:M,noPanClassName:F,disableKeyboardA11y:H,onViewportChange:R,isControlledViewport:I}){const{nodesSelectionActive:U,userSelectionActive:O}=He(XS,st),B=Wl(f,{target:vy}),q=Wl(v,{target:vy}),X=q||D,ne=q||j,ie=h&&X!==!0,ee=B||O||ie;return IS({deleteKeyCode:p,multiSelectionKeyCode:w}),l.jsx(TS,{onPaneContextMenu:a,elementsSelectable:k,zoomOnScroll:E,zoomOnPinch:N,panOnScroll:ne,panOnScrollSpeed:P,panOnScrollMode:L,zoomOnDoubleClick:T,panOnDrag:!B&&X,defaultViewport:$,translateExtent:Y,minZoom:G,maxZoom:V,zoomActivationKeyCode:C,preventScrolling:W,noWheelClassName:M,noPanClassName:F,onViewportChange:R,isControlledViewport:I,paneClickDistance:u,selectionOnDrag:ie,children:l.jsxs(DS,{onSelectionStart:x,onSelectionEnd:y,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:a,onPaneScroll:c,panOnDrag:X,isSelecting:!!ee,selectionMode:m,selectionKeyPressed:B,paneClickDistance:u,selectionOnDrag:ie,children:[e,U&&l.jsx(ZS,{onSelectionContextMenu:z,noPanClassName:F,disableKeyboardA11y:H})]})})}v_.displayName="FlowRenderer";const qS=b.memo(v_),QS=e=>t=>e?Ng(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function JS(e){return He(b.useCallback(QS(e),[e]),st)}const ej=e=>e.updateNodeInternals;function tj(){const e=He(ej),[t]=b.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(o=>{const a=o.target.getAttribute("data-id");r.set(a,{id:a,nodeElement:o.target,force:!0})}),e(r)}));return b.useEffect(()=>()=>{t?.disconnect()},[t]),t}function nj({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const o=ct(),a=b.useRef(null),c=b.useRef(null),u=b.useRef(e.sourcePosition),p=b.useRef(e.targetPosition),f=b.useRef(t),h=n&&!!e.internals.handleBounds;return b.useEffect(()=>{a.current&&!e.hidden&&(!h||c.current!==a.current)&&(c.current&&r?.unobserve(c.current),r?.observe(a.current),c.current=a.current)},[h,e.hidden]),b.useEffect(()=>()=>{c.current&&(r?.unobserve(c.current),c.current=null)},[]),b.useEffect(()=>{if(a.current){const m=f.current!==t,x=u.current!==e.sourcePosition,y=p.current!==e.targetPosition;(m||x||y)&&(f.current=t,u.current=e.sourcePosition,p.current=e.targetPosition,o.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:a.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),a}function rj({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:o,onContextMenu:a,onDoubleClick:c,nodesDraggable:u,elementsSelectable:p,nodesConnectable:f,nodesFocusable:h,resizeObserver:m,noDragClassName:x,noPanClassName:y,disableKeyboardA11y:w,rfId:v,nodeTypes:C,nodeClickDistance:k,onError:E}){const{node:N,internals:j,isParent:P}=He(J=>{const le=J.nodeLookup.get(e),de=J.parentLookup.has(e);return{node:le,internals:le.internals,isParent:de}},st);let L=N.type||"default",T=C?.[L]||xy[L];T===void 0&&(E?.("003",yr.error003(L)),L="default",T=C?.default||xy.default);const D=!!(N.draggable||u&&typeof N.draggable>"u"),$=!!(N.selectable||p&&typeof N.selectable>"u"),Y=!!(N.connectable||f&&typeof N.connectable>"u"),G=!!(N.focusable||h&&typeof N.focusable>"u"),V=ct(),W=Fw(N),z=nj({node:N,nodeType:L,hasDimensions:W,resizeObserver:m}),M=g_({nodeRef:z,disabled:N.hidden||!D,noDragClassName:x,handleSelector:N.dragHandle,nodeId:e,isSelectable:$,nodeClickDistance:k}),F=x_();if(N.hidden)return null;const H=jo(N),R=YS(N),I=$||D||t||n||r||o,U=n?J=>n(J,{...j.userNode}):void 0,O=r?J=>r(J,{...j.userNode}):void 0,B=o?J=>o(J,{...j.userNode}):void 0,q=a?J=>a(J,{...j.userNode}):void 0,X=c?J=>c(J,{...j.userNode}):void 0,ne=J=>{const{selectNodesOnDrag:le,nodeDragThreshold:de}=V.getState();$&&(!le||!D||de>0)&&Lm({id:e,store:V,nodeRef:z}),t&&t(J,{...j.userNode})},ie=J=>{if(!(Vw(J.nativeEvent)||w)){if(Iw.includes(J.key)&&$){const le=J.key==="Escape";Lm({id:e,store:V,unselect:le,nodeRef:z})}else if(D&&N.selected&&Object.prototype.hasOwnProperty.call(bd,J.key)){J.preventDefault();const{ariaLabelConfig:le}=V.getState();V.setState({ariaLiveMessage:le["node.a11yDescription.ariaLiveMessage"]({direction:J.key.replace("Arrow","").toLowerCase(),x:~~j.positionAbsolute.x,y:~~j.positionAbsolute.y})}),F({direction:bd[J.key],factor:J.shiftKey?4:1})}}},ee=()=>{if(w||!z.current?.matches(":focus-visible"))return;const{transform:J,width:le,height:de,autoPanOnNodeFocus:me,setCenter:te}=V.getState();if(!me)return;Ng(new Map([[e,N]]),{x:0,y:0,width:le,height:de},J,!0).length>0||te(N.position.x+H.width/2,N.position.y+H.height/2,{zoom:J[2]})};return l.jsx("div",{className:Et(["react-flow__node",`react-flow__node-${L}`,{[y]:D},N.className,{selected:N.selected,selectable:$,parent:P,draggable:D,dragging:M}]),ref:z,style:{zIndex:j.z,transform:`translate(${j.positionAbsolute.x}px,${j.positionAbsolute.y}px)`,pointerEvents:I?"all":"none",visibility:W?"visible":"hidden",...N.style,...R},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:U,onMouseMove:O,onMouseLeave:B,onContextMenu:q,onClick:ne,onDoubleClick:X,onKeyDown:G?ie:void 0,tabIndex:G?0:void 0,onFocus:G?ee:void 0,role:N.ariaRole??(G?"group":void 0),"aria-roledescription":"node","aria-describedby":w?void 0:`${l_}-${v}`,"aria-label":N.ariaLabel,...N.domAttributes,children:l.jsx(FS,{value:e,children:l.jsx(T,{id:e,data:N.data,type:L,positionAbsoluteX:j.positionAbsolute.x,positionAbsoluteY:j.positionAbsolute.y,selected:N.selected??!1,selectable:$,draggable:D,deletable:N.deletable??!0,isConnectable:Y,sourcePosition:N.sourcePosition,targetPosition:N.targetPosition,dragging:M,dragHandle:N.dragHandle,zIndex:j.z,parentId:N.parentId,...H})})})}var oj=b.memo(rj);const sj=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function y_(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,onError:a}=He(sj,st),c=JS(e.onlyRenderVisibleElements),u=tj();return l.jsx("div",{className:"react-flow__nodes",style:nf,children:c.map(p=>l.jsx(oj,{id:p,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:u,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,nodeClickDistance:e.nodeClickDistance,onError:a},p))})}y_.displayName="NodeRenderer";const ij=b.memo(y_);function aj(e){return He(b.useCallback(n=>{if(!e)return n.edges.map(o=>o.id);const r=[];if(n.width&&n.height)for(const o of n.edges){const a=n.nodeLookup.get(o.source),c=n.nodeLookup.get(o.target);a&&c&&rN({sourceNode:a,targetNode:c,width:n.width,height:n.height,transform:n.transform})&&r.push(o.id)}return r},[e]),st)}const lj=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return l.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},cj=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return l.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},yy={[da.Arrow]:lj,[da.ArrowClosed]:cj};function uj(e){const t=ct();return b.useMemo(()=>Object.prototype.hasOwnProperty.call(yy,e)?yy[e]:(t.getState().onError?.("009",yr.error009(e)),null),[e])}const dj=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:a="strokeWidth",strokeWidth:c,orient:u="auto-start-reverse"})=>{const p=uj(t);return p?l.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:u,refX:"0",refY:"0",children:l.jsx(p,{color:n,strokeWidth:c})}):null},w_=({defaultColor:e,rfId:t})=>{const n=He(a=>a.edges),r=He(a=>a.defaultEdgeOptions),o=b.useMemo(()=>uN(n,{id:t,defaultColor:e,defaultMarkerStart:r?.markerStart,defaultMarkerEnd:r?.markerEnd}),[n,r,t,e]);return o.length?l.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:l.jsx("defs",{children:o.map(a=>l.jsx(dj,{id:a.id,type:a.type,color:a.color,width:a.width,height:a.height,markerUnits:a.markerUnits,strokeWidth:a.strokeWidth,orient:a.orient},a.id))})}):null};w_.displayName="MarkerDefinitions";var fj=b.memo(w_);function __({x:e,y:t,label:n,labelStyle:r,labelShowBg:o=!0,labelBgStyle:a,labelBgPadding:c=[2,4],labelBgBorderRadius:u=2,children:p,className:f,...h}){const[m,x]=b.useState({x:1,y:0,width:0,height:0}),y=Et(["react-flow__edge-textwrapper",f]),w=b.useRef(null);return b.useEffect(()=>{if(w.current){const v=w.current.getBBox();x({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),n?l.jsxs("g",{transform:`translate(${e-m.width/2} ${t-m.height/2})`,className:y,visibility:m.width?"visible":"hidden",...h,children:[o&&l.jsx("rect",{width:m.width+2*c[0],x:-c[0],y:-c[1],height:m.height+2*c[1],className:"react-flow__edge-textbg",style:a,rx:u,ry:u}),l.jsx("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:w,style:r,children:n}),p]}):null}__.displayName="EdgeText";const pj=b.memo(__);function Na({path:e,labelX:t,labelY:n,label:r,labelStyle:o,labelShowBg:a,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:p,interactionWidth:f=20,...h}){return l.jsxs(l.Fragment,{children:[l.jsx("path",{...h,d:e,fill:"none",className:Et(["react-flow__edge-path",h.className])}),f?l.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:f,className:"react-flow__edge-interaction"}):null,r&&mr(t)&&mr(n)?l.jsx(pj,{x:t,y:n,label:r,labelStyle:o,labelShowBg:a,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:p}):null]})}function wy({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===Ce.Left||e===Ce.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function b_({sourceX:e,sourceY:t,sourcePosition:n=Ce.Bottom,targetX:r,targetY:o,targetPosition:a=Ce.Top}){const[c,u]=wy({pos:n,x1:e,y1:t,x2:r,y2:o}),[p,f]=wy({pos:a,x1:r,y1:o,x2:e,y2:t}),[h,m,x,y]=Ww({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:c,sourceControlY:u,targetControlX:p,targetControlY:f});return[`M${e},${t} C${c},${u} ${p},${f} ${r},${o}`,h,m,x,y]}function C_(e){return b.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:a,sourcePosition:c,targetPosition:u,label:p,labelStyle:f,labelShowBg:h,labelBgStyle:m,labelBgPadding:x,labelBgBorderRadius:y,style:w,markerEnd:v,markerStart:C,interactionWidth:k})=>{const[E,N,j]=b_({sourceX:n,sourceY:r,sourcePosition:c,targetX:o,targetY:a,targetPosition:u}),P=e.isInternal?void 0:t;return l.jsx(Na,{id:P,path:E,labelX:N,labelY:j,label:p,labelStyle:f,labelShowBg:h,labelBgStyle:m,labelBgPadding:x,labelBgBorderRadius:y,style:w,markerEnd:v,markerStart:C,interactionWidth:k})})}const hj=C_({isInternal:!1}),k_=C_({isInternal:!0});hj.displayName="SimpleBezierEdge";k_.displayName="SimpleBezierEdgeInternal";function N_(e){return b.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:a,label:c,labelStyle:u,labelShowBg:p,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:x,sourcePosition:y=Ce.Bottom,targetPosition:w=Ce.Top,markerEnd:v,markerStart:C,pathOptions:k,interactionWidth:E})=>{const[N,j,P]=Em({sourceX:n,sourceY:r,sourcePosition:y,targetX:o,targetY:a,targetPosition:w,borderRadius:k?.borderRadius,offset:k?.offset,stepPosition:k?.stepPosition}),L=e.isInternal?void 0:t;return l.jsx(Na,{id:L,path:N,labelX:j,labelY:P,label:c,labelStyle:u,labelShowBg:p,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:x,markerEnd:v,markerStart:C,interactionWidth:E})})}const S_=N_({isInternal:!1}),j_=N_({isInternal:!0});S_.displayName="SmoothStepEdge";j_.displayName="SmoothStepEdgeInternal";function E_(e){return b.memo(({id:t,...n})=>{const r=e.isInternal?void 0:t;return l.jsx(S_,{...n,id:r,pathOptions:b.useMemo(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}const mj=E_({isInternal:!1}),P_=E_({isInternal:!0});mj.displayName="StepEdge";P_.displayName="StepEdgeInternal";function I_(e){return b.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:a,label:c,labelStyle:u,labelShowBg:p,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:x,markerEnd:y,markerStart:w,interactionWidth:v})=>{const[C,k,E]=Yw({sourceX:n,sourceY:r,targetX:o,targetY:a}),N=e.isInternal?void 0:t;return l.jsx(Na,{id:N,path:C,labelX:k,labelY:E,label:c,labelStyle:u,labelShowBg:p,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:x,markerEnd:y,markerStart:w,interactionWidth:v})})}const gj=I_({isInternal:!1}),M_=I_({isInternal:!0});gj.displayName="StraightEdge";M_.displayName="StraightEdgeInternal";function L_(e){return b.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:a,sourcePosition:c=Ce.Bottom,targetPosition:u=Ce.Top,label:p,labelStyle:f,labelShowBg:h,labelBgStyle:m,labelBgPadding:x,labelBgBorderRadius:y,style:w,markerEnd:v,markerStart:C,pathOptions:k,interactionWidth:E})=>{const[N,j,P]=Qd({sourceX:n,sourceY:r,sourcePosition:c,targetX:o,targetY:a,targetPosition:u,curvature:k?.curvature}),L=e.isInternal?void 0:t;return l.jsx(Na,{id:L,path:N,labelX:j,labelY:P,label:p,labelStyle:f,labelShowBg:h,labelBgStyle:m,labelBgPadding:x,labelBgBorderRadius:y,style:w,markerEnd:v,markerStart:C,interactionWidth:E})})}const xj=L_({isInternal:!1}),T_=L_({isInternal:!0});xj.displayName="BezierEdge";T_.displayName="BezierEdgeInternal";const _y={default:T_,straight:M_,step:P_,smoothstep:j_,simplebezier:k_},by={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},vj=(e,t,n)=>n===Ce.Left?e-t:n===Ce.Right?e+t:e,yj=(e,t,n)=>n===Ce.Top?e-t:n===Ce.Bottom?e+t:e,Cy="react-flow__edgeupdater";function ky({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:a,onMouseOut:c,type:u}){return l.jsx("circle",{onMouseDown:o,onMouseEnter:a,onMouseOut:c,className:Et([Cy,`${Cy}-${u}`]),cx:vj(t,r,e),cy:yj(n,r,e),r,stroke:"transparent",fill:"transparent"})}function wj({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:o,targetX:a,targetY:c,sourcePosition:u,targetPosition:p,onReconnect:f,onReconnectStart:h,onReconnectEnd:m,setReconnecting:x,setUpdateHover:y}){const w=ct(),v=(j,P)=>{if(j.button!==0)return;const{autoPanOnConnect:L,domNode:T,isValidConnection:D,connectionMode:$,connectionRadius:Y,lib:G,onConnectStart:V,onConnectEnd:W,cancelConnection:z,nodeLookup:M,rfId:F,panBy:H,updateConnection:R}=w.getState(),I=P.type==="target",U=(q,X)=>{x(!1),m?.(q,n,P.type,X)},O=q=>f?.(n,q),B=(q,X)=>{x(!0),h?.(j,n,P.type),V?.(q,X)};Mm.onPointerDown(j.nativeEvent,{autoPanOnConnect:L,connectionMode:$,connectionRadius:Y,domNode:T,handleId:P.id,nodeId:P.nodeId,nodeLookup:M,isTarget:I,edgeUpdaterType:P.type,lib:G,flowId:F,cancelConnection:z,panBy:H,isValidConnection:D,onConnect:O,onConnectStart:B,onConnectEnd:W,onReconnectEnd:U,updateConnection:R,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,dragThreshold:w.getState().connectionDragThreshold,handleDomNode:j.currentTarget})},C=j=>v(j,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),k=j=>v(j,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),E=()=>y(!0),N=()=>y(!1);return l.jsxs(l.Fragment,{children:[(e===!0||e==="source")&&l.jsx(ky,{position:u,centerX:r,centerY:o,radius:t,onMouseDown:C,onMouseEnter:E,onMouseOut:N,type:"source"}),(e===!0||e==="target")&&l.jsx(ky,{position:p,centerX:a,centerY:c,radius:t,onMouseDown:k,onMouseEnter:E,onMouseOut:N,type:"target"})]})}function _j({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:o,onDoubleClick:a,onContextMenu:c,onMouseEnter:u,onMouseMove:p,onMouseLeave:f,reconnectRadius:h,onReconnect:m,onReconnectStart:x,onReconnectEnd:y,rfId:w,edgeTypes:v,noPanClassName:C,onError:k,disableKeyboardA11y:E}){let N=He(te=>te.edgeLookup.get(e));const j=He(te=>te.defaultEdgeOptions);N=j?{...j,...N}:N;let P=N.type||"default",L=v?.[P]||_y[P];L===void 0&&(k?.("011",yr.error011(P)),P="default",L=v?.default||_y.default);const T=!!(N.focusable||t&&typeof N.focusable>"u"),D=typeof m<"u"&&(N.reconnectable||n&&typeof N.reconnectable>"u"),$=!!(N.selectable||r&&typeof N.selectable>"u"),Y=b.useRef(null),[G,V]=b.useState(!1),[W,z]=b.useState(!1),M=ct(),{zIndex:F,sourceX:H,sourceY:R,targetX:I,targetY:U,sourcePosition:O,targetPosition:B}=He(b.useCallback(te=>{const ae=te.nodeLookup.get(N.source),fe=te.nodeLookup.get(N.target);if(!ae||!fe)return{zIndex:N.zIndex,...by};const Le=cN({id:e,sourceNode:ae,targetNode:fe,sourceHandle:N.sourceHandle||null,targetHandle:N.targetHandle||null,connectionMode:te.connectionMode,onError:k});return{zIndex:nN({selected:N.selected,zIndex:N.zIndex,sourceNode:ae,targetNode:fe,elevateOnSelect:te.elevateEdgesOnSelect,zIndexMode:te.zIndexMode}),...Le||by}},[N.source,N.target,N.sourceHandle,N.targetHandle,N.selected,N.zIndex]),st),q=b.useMemo(()=>N.markerStart?`url('#${Pm(N.markerStart,w)}')`:void 0,[N.markerStart,w]),X=b.useMemo(()=>N.markerEnd?`url('#${Pm(N.markerEnd,w)}')`:void 0,[N.markerEnd,w]);if(N.hidden||H===null||R===null||I===null||U===null)return null;const ne=te=>{const{addSelectedEdges:ae,unselectNodesAndEdges:fe,multiSelectionActive:Le}=M.getState();$&&(M.setState({nodesSelectionActive:!1}),N.selected&&Le?(fe({nodes:[],edges:[N]}),Y.current?.blur()):ae([e])),o&&o(te,N)},ie=a?te=>{a(te,{...N})}:void 0,ee=c?te=>{c(te,{...N})}:void 0,J=u?te=>{u(te,{...N})}:void 0,le=p?te=>{p(te,{...N})}:void 0,de=f?te=>{f(te,{...N})}:void 0,me=te=>{if(!E&&Iw.includes(te.key)&&$){const{unselectNodesAndEdges:ae,addSelectedEdges:fe}=M.getState();te.key==="Escape"?(Y.current?.blur(),ae({edges:[N]})):fe([e])}};return l.jsx("svg",{style:{zIndex:F},children:l.jsxs("g",{className:Et(["react-flow__edge",`react-flow__edge-${P}`,N.className,C,{selected:N.selected,animated:N.animated,inactive:!$&&!o,updating:G,selectable:$}]),onClick:ne,onDoubleClick:ie,onContextMenu:ee,onMouseEnter:J,onMouseMove:le,onMouseLeave:de,onKeyDown:T?me:void 0,tabIndex:T?0:void 0,role:N.ariaRole??(T?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":N.ariaLabel===null?void 0:N.ariaLabel||`Edge from ${N.source} to ${N.target}`,"aria-describedby":T?`${c_}-${w}`:void 0,ref:Y,...N.domAttributes,children:[!W&&l.jsx(L,{id:e,source:N.source,target:N.target,type:N.type,selected:N.selected,animated:N.animated,selectable:$,deletable:N.deletable??!0,label:N.label,labelStyle:N.labelStyle,labelShowBg:N.labelShowBg,labelBgStyle:N.labelBgStyle,labelBgPadding:N.labelBgPadding,labelBgBorderRadius:N.labelBgBorderRadius,sourceX:H,sourceY:R,targetX:I,targetY:U,sourcePosition:O,targetPosition:B,data:N.data,style:N.style,sourceHandleId:N.sourceHandle,targetHandleId:N.targetHandle,markerStart:q,markerEnd:X,pathOptions:"pathOptions"in N?N.pathOptions:void 0,interactionWidth:N.interactionWidth}),D&&l.jsx(wj,{edge:N,isReconnectable:D,reconnectRadius:h,onReconnect:m,onReconnectStart:x,onReconnectEnd:y,sourceX:H,sourceY:R,targetX:I,targetY:U,sourcePosition:O,targetPosition:B,setUpdateHover:V,setReconnecting:z})]})})}var bj=b.memo(_j);const Cj=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function R_({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:o,onReconnect:a,onEdgeContextMenu:c,onEdgeMouseEnter:u,onEdgeMouseMove:p,onEdgeMouseLeave:f,onEdgeClick:h,reconnectRadius:m,onEdgeDoubleClick:x,onReconnectStart:y,onReconnectEnd:w,disableKeyboardA11y:v}){const{edgesFocusable:C,edgesReconnectable:k,elementsSelectable:E,onError:N}=He(Cj,st),j=aj(t);return l.jsxs("div",{className:"react-flow__edges",children:[l.jsx(fj,{defaultColor:e,rfId:n}),j.map(P=>l.jsx(bj,{id:P,edgesFocusable:C,edgesReconnectable:k,elementsSelectable:E,noPanClassName:o,onReconnect:a,onContextMenu:c,onMouseEnter:u,onMouseMove:p,onMouseLeave:f,onClick:h,reconnectRadius:m,onDoubleClick:x,onReconnectStart:y,onReconnectEnd:w,rfId:n,onError:N,edgeTypes:r,disableKeyboardA11y:v},P))]})}R_.displayName="EdgeRenderer";const kj=b.memo(R_),Nj=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function Sj({children:e}){const t=He(Nj);return l.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function jj(e){const t=cs(),n=b.useRef(!1);b.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const Ej=e=>e.panZoom?.syncViewport;function Pj(e){const t=He(Ej),n=ct();return b.useEffect(()=>{e&&(t?.(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function Ij(e){return e.connection.inProgress?{...e.connection,to:uc(e.connection.to,e.transform)}:{...e.connection}}function Mj(e){return Ij}function Lj(e){const t=Mj();return He(t,st)}const Tj=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function Rj({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:o,width:a,height:c,isValid:u,inProgress:p}=He(Tj,st);return!(a&&o&&p)?null:l.jsx("svg",{style:e,width:a,height:c,className:"react-flow__connectionline react-flow__container",children:l.jsx("g",{className:Et(["react-flow__connection",Tw(u)]),children:l.jsx(A_,{style:t,type:n,CustomComponent:r,isValid:u})})})}const A_=({style:e,type:t=ns.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:o,from:a,fromNode:c,fromHandle:u,fromPosition:p,to:f,toNode:h,toHandle:m,toPosition:x,pointer:y}=Lj();if(!o)return;if(n)return l.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:c,fromHandle:u,fromX:a.x,fromY:a.y,toX:f.x,toY:f.y,fromPosition:p,toPosition:x,connectionStatus:Tw(r),toNode:h,toHandle:m,pointer:y});let w="";const v={sourceX:a.x,sourceY:a.y,sourcePosition:p,targetX:f.x,targetY:f.y,targetPosition:x};switch(t){case ns.Bezier:[w]=Qd(v);break;case ns.SimpleBezier:[w]=b_(v);break;case ns.Step:[w]=Em({...v,borderRadius:0});break;case ns.SmoothStep:[w]=Em(v);break;default:[w]=Yw(v)}return l.jsx("path",{d:w,fill:"none",className:"react-flow__connection-path",style:e})};A_.displayName="ConnectionLine";const Aj={};function Ny(e=Aj){b.useRef(e),ct(),b.useEffect(()=>{},[e])}function zj(){ct(),b.useRef(!1),b.useEffect(()=>{},[])}function z_({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:o,onNodeDoubleClick:a,onEdgeDoubleClick:c,onNodeMouseEnter:u,onNodeMouseMove:p,onNodeMouseLeave:f,onNodeContextMenu:h,onSelectionContextMenu:m,onSelectionStart:x,onSelectionEnd:y,connectionLineType:w,connectionLineStyle:v,connectionLineComponent:C,connectionLineContainerStyle:k,selectionKeyCode:E,selectionOnDrag:N,selectionMode:j,multiSelectionKeyCode:P,panActivationKeyCode:L,zoomActivationKeyCode:T,deleteKeyCode:D,onlyRenderVisibleElements:$,elementsSelectable:Y,defaultViewport:G,translateExtent:V,minZoom:W,maxZoom:z,preventScrolling:M,defaultMarkerColor:F,zoomOnScroll:H,zoomOnPinch:R,panOnScroll:I,panOnScrollSpeed:U,panOnScrollMode:O,zoomOnDoubleClick:B,panOnDrag:q,onPaneClick:X,onPaneMouseEnter:ne,onPaneMouseMove:ie,onPaneMouseLeave:ee,onPaneScroll:J,onPaneContextMenu:le,paneClickDistance:de,nodeClickDistance:me,onEdgeContextMenu:te,onEdgeMouseEnter:ae,onEdgeMouseMove:fe,onEdgeMouseLeave:Le,reconnectRadius:Re,onReconnect:ce,onReconnectStart:ye,onReconnectEnd:Ee,noDragClassName:qe,noWheelClassName:Ue,noPanClassName:_e,disableKeyboardA11y:we,nodeExtent:zt,rfId:$e,viewport:Qe,onViewportChange:Ht}){return Ny(e),Ny(t),zj(),jj(n),Pj(Qe),l.jsx(qS,{onPaneClick:X,onPaneMouseEnter:ne,onPaneMouseMove:ie,onPaneMouseLeave:ee,onPaneContextMenu:le,onPaneScroll:J,paneClickDistance:de,deleteKeyCode:D,selectionKeyCode:E,selectionOnDrag:N,selectionMode:j,onSelectionStart:x,onSelectionEnd:y,multiSelectionKeyCode:P,panActivationKeyCode:L,zoomActivationKeyCode:T,elementsSelectable:Y,zoomOnScroll:H,zoomOnPinch:R,zoomOnDoubleClick:B,panOnScroll:I,panOnScrollSpeed:U,panOnScrollMode:O,panOnDrag:q,defaultViewport:G,translateExtent:V,minZoom:W,maxZoom:z,onSelectionContextMenu:m,preventScrolling:M,noDragClassName:qe,noWheelClassName:Ue,noPanClassName:_e,disableKeyboardA11y:we,onViewportChange:Ht,isControlledViewport:!!Qe,children:l.jsxs(Sj,{children:[l.jsx(kj,{edgeTypes:t,onEdgeClick:o,onEdgeDoubleClick:c,onReconnect:ce,onReconnectStart:ye,onReconnectEnd:Ee,onlyRenderVisibleElements:$,onEdgeContextMenu:te,onEdgeMouseEnter:ae,onEdgeMouseMove:fe,onEdgeMouseLeave:Le,reconnectRadius:Re,defaultMarkerColor:F,noPanClassName:_e,disableKeyboardA11y:we,rfId:$e}),l.jsx(Rj,{style:v,type:w,component:C,containerStyle:k}),l.jsx("div",{className:"react-flow__edgelabel-renderer"}),l.jsx(ij,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:a,onNodeMouseEnter:u,onNodeMouseMove:p,onNodeMouseLeave:f,onNodeContextMenu:h,nodeClickDistance:me,onlyRenderVisibleElements:$,noPanClassName:_e,noDragClassName:qe,disableKeyboardA11y:we,nodeExtent:zt,rfId:$e}),l.jsx("div",{className:"react-flow__viewport-portal"})]})})}z_.displayName="GraphView";const Dj=b.memo(z_),Sy=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:a,fitView:c,fitViewOptions:u,minZoom:p=.5,maxZoom:f=2,nodeOrigin:h,nodeExtent:m,zIndexMode:x="basic"}={})=>{const y=new Map,w=new Map,v=new Map,C=new Map,k=r??t??[],E=n??e??[],N=h??[0,0],j=m??$l;Xw(v,C,k);const P=Im(E,y,w,{nodeOrigin:N,nodeExtent:j,zIndexMode:x});let L=[0,0,1];if(c&&o&&a){const T=lc(y,{filter:G=>!!((G.width||G.initialWidth)&&(G.height||G.initialHeight))}),{x:D,y:$,zoom:Y}=Sg(T,o,a,p,f,u?.padding??.1);L=[D,$,Y]}return{rfId:"1",width:o??0,height:a??0,transform:L,nodes:E,nodesInitialized:P,nodeLookup:y,parentLookup:w,edges:k,edgeLookup:C,connectionLookup:v,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:p,maxZoom:f,translateExtent:$l,nodeExtent:j,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:ua.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:N,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:c??!1,fitViewOptions:u,fitViewResolver:null,connection:{...Lw},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:X9,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:Mw,zIndexMode:x,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},Oj=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:a,fitView:c,fitViewOptions:u,minZoom:p,maxZoom:f,nodeOrigin:h,nodeExtent:m,zIndexMode:x})=>nS((y,w)=>{async function v(){const{nodeLookup:C,panZoom:k,fitViewOptions:E,fitViewResolver:N,width:j,height:P,minZoom:L,maxZoom:T}=w();k&&(await K9({nodes:C,width:j,height:P,panZoom:k,minZoom:L,maxZoom:T},E),N?.resolve(!0),y({fitViewResolver:null}))}return{...Sy({nodes:e,edges:t,width:o,height:a,fitView:c,fitViewOptions:u,minZoom:p,maxZoom:f,nodeOrigin:h,nodeExtent:m,defaultNodes:n,defaultEdges:r,zIndexMode:x}),setNodes:C=>{const{nodeLookup:k,parentLookup:E,nodeOrigin:N,elevateNodesOnSelect:j,fitViewQueued:P,zIndexMode:L}=w(),T=Im(C,k,E,{nodeOrigin:N,nodeExtent:m,elevateNodesOnSelect:j,checkEquality:!0,zIndexMode:L});P&&T?(v(),y({nodes:C,nodesInitialized:T,fitViewQueued:!1,fitViewOptions:void 0})):y({nodes:C,nodesInitialized:T})},setEdges:C=>{const{connectionLookup:k,edgeLookup:E}=w();Xw(k,E,C),y({edges:C})},setDefaultNodesAndEdges:(C,k)=>{if(C){const{setNodes:E}=w();E(C),y({hasDefaultNodes:!0})}if(k){const{setEdges:E}=w();E(k),y({hasDefaultEdges:!0})}},updateNodeInternals:C=>{const{triggerNodeChanges:k,nodeLookup:E,parentLookup:N,domNode:j,nodeOrigin:P,nodeExtent:L,debug:T,fitViewQueued:D,zIndexMode:$}=w(),{changes:Y,updatedInternals:G}=xN(C,E,N,j,P,L,$);G&&(pN(E,N,{nodeOrigin:P,nodeExtent:L,zIndexMode:$}),D?(v(),y({fitViewQueued:!1,fitViewOptions:void 0})):y({}),Y?.length>0&&(T&&console.log("React Flow: trigger node changes",Y),k?.(Y)))},updateNodePositions:(C,k=!1)=>{const E=[];let N=[];const{nodeLookup:j,triggerNodeChanges:P,connection:L,updateConnection:T,onNodesChangeMiddlewareMap:D}=w();for(const[$,Y]of C){const G=j.get($),V=!!(G?.expandParent&&G?.parentId&&Y?.position),W={id:$,type:"position",position:V?{x:Math.max(0,Y.position.x),y:Math.max(0,Y.position.y)}:Y.position,dragging:k};if(G&&L.inProgress&&L.fromNode.id===G.id){const z=ti(G,L.fromHandle,Ce.Left,!0);T({...L,from:z})}V&&G.parentId&&E.push({id:$,parentId:G.parentId,rect:{...Y.internals.positionAbsolute,width:Y.measured.width??0,height:Y.measured.height??0}}),N.push(W)}if(E.length>0){const{parentLookup:$,nodeOrigin:Y}=w(),G=Lg(E,j,$,Y);N.push(...G)}for(const $ of D.values())N=$(N);P(N)},triggerNodeChanges:C=>{const{onNodesChange:k,setNodes:E,nodes:N,hasDefaultNodes:j,debug:P}=w();if(C?.length){if(j){const L=f_(C,N);E(L)}P&&console.log("React Flow: trigger node changes",C),k?.(C)}},triggerEdgeChanges:C=>{const{onEdgesChange:k,setEdges:E,edges:N,hasDefaultEdges:j,debug:P}=w();if(C?.length){if(j){const L=p_(C,N);E(L)}P&&console.log("React Flow: trigger edge changes",C),k?.(C)}},addSelectedNodes:C=>{const{multiSelectionActive:k,edgeLookup:E,nodeLookup:N,triggerNodeChanges:j,triggerEdgeChanges:P}=w();if(k){const L=C.map(T=>$s(T,!0));j(L);return}j(Zi(N,new Set([...C]),!0)),P(Zi(E))},addSelectedEdges:C=>{const{multiSelectionActive:k,edgeLookup:E,nodeLookup:N,triggerNodeChanges:j,triggerEdgeChanges:P}=w();if(k){const L=C.map(T=>$s(T,!0));P(L);return}P(Zi(E,new Set([...C]))),j(Zi(N,new Set,!0))},unselectNodesAndEdges:({nodes:C,edges:k}={})=>{const{edges:E,nodes:N,nodeLookup:j,triggerNodeChanges:P,triggerEdgeChanges:L}=w(),T=C||N,D=k||E,$=T.map(G=>{const V=j.get(G.id);return V&&(V.selected=!1),$s(G.id,!1)}),Y=D.map(G=>$s(G.id,!1));P($),L(Y)},setMinZoom:C=>{const{panZoom:k,maxZoom:E}=w();k?.setScaleExtent([C,E]),y({minZoom:C})},setMaxZoom:C=>{const{panZoom:k,minZoom:E}=w();k?.setScaleExtent([E,C]),y({maxZoom:C})},setTranslateExtent:C=>{w().panZoom?.setTranslateExtent(C),y({translateExtent:C})},resetSelectedElements:()=>{const{edges:C,nodes:k,triggerNodeChanges:E,triggerEdgeChanges:N,elementsSelectable:j}=w();if(!j)return;const P=k.reduce((T,D)=>D.selected?[...T,$s(D.id,!1)]:T,[]),L=C.reduce((T,D)=>D.selected?[...T,$s(D.id,!1)]:T,[]);E(P),N(L)},setNodeExtent:C=>{const{nodes:k,nodeLookup:E,parentLookup:N,nodeOrigin:j,elevateNodesOnSelect:P,nodeExtent:L,zIndexMode:T}=w();C[0][0]===L[0][0]&&C[0][1]===L[0][1]&&C[1][0]===L[1][0]&&C[1][1]===L[1][1]||(Im(k,E,N,{nodeOrigin:j,nodeExtent:C,elevateNodesOnSelect:P,checkEquality:!1,zIndexMode:T}),y({nodeExtent:C}))},panBy:C=>{const{transform:k,width:E,height:N,panZoom:j,translateExtent:P}=w();return vN({delta:C,panZoom:j,transform:k,translateExtent:P,width:E,height:N})},setCenter:async(C,k,E)=>{const{width:N,height:j,maxZoom:P,panZoom:L}=w();if(!L)return Promise.resolve(!1);const T=typeof E?.zoom<"u"?E.zoom:P;return await L.setViewport({x:N/2-C*T,y:j/2-k*T,zoom:T},{duration:E?.duration,ease:E?.ease,interpolate:E?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{y({connection:{...Lw}})},updateConnection:C=>{y({connection:C})},reset:()=>y({...Sy()})}},Object.is);function D_({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:o,initialHeight:a,initialMinZoom:c,initialMaxZoom:u,initialFitViewOptions:p,fitView:f,nodeOrigin:h,nodeExtent:m,zIndexMode:x,children:y}){const[w]=b.useState(()=>Oj({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:a,fitView:f,minZoom:c,maxZoom:u,fitViewOptions:p,nodeOrigin:h,nodeExtent:m,zIndexMode:x}));return l.jsx(rS,{value:w,children:l.jsx(SS,{children:y})})}function Fj({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:o,width:a,height:c,fitView:u,fitViewOptions:p,minZoom:f,maxZoom:h,nodeOrigin:m,nodeExtent:x,zIndexMode:y}){return b.useContext(ef)?l.jsx(l.Fragment,{children:e}):l.jsx(D_,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:o,initialWidth:a,initialHeight:c,fitView:u,initialFitViewOptions:p,initialMinZoom:f,initialMaxZoom:h,nodeOrigin:m,nodeExtent:x,zIndexMode:y,children:e})}const $j={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function Bj({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:a,edgeTypes:c,onNodeClick:u,onEdgeClick:p,onInit:f,onMove:h,onMoveStart:m,onMoveEnd:x,onConnect:y,onConnectStart:w,onConnectEnd:v,onClickConnectStart:C,onClickConnectEnd:k,onNodeMouseEnter:E,onNodeMouseMove:N,onNodeMouseLeave:j,onNodeContextMenu:P,onNodeDoubleClick:L,onNodeDragStart:T,onNodeDrag:D,onNodeDragStop:$,onNodesDelete:Y,onEdgesDelete:G,onDelete:V,onSelectionChange:W,onSelectionDragStart:z,onSelectionDrag:M,onSelectionDragStop:F,onSelectionContextMenu:H,onSelectionStart:R,onSelectionEnd:I,onBeforeDelete:U,connectionMode:O,connectionLineType:B=ns.Bezier,connectionLineStyle:q,connectionLineComponent:X,connectionLineContainerStyle:ne,deleteKeyCode:ie="Backspace",selectionKeyCode:ee="Shift",selectionOnDrag:J=!1,selectionMode:le=Bl.Full,panActivationKeyCode:de="Space",multiSelectionKeyCode:me=Hl()?"Meta":"Control",zoomActivationKeyCode:te=Hl()?"Meta":"Control",snapToGrid:ae,snapGrid:fe,onlyRenderVisibleElements:Le=!1,selectNodesOnDrag:Re,nodesDraggable:ce,autoPanOnNodeFocus:ye,nodesConnectable:Ee,nodesFocusable:qe,nodeOrigin:Ue=u_,edgesFocusable:_e,edgesReconnectable:we,elementsSelectable:zt=!0,defaultViewport:$e=gS,minZoom:Qe=.5,maxZoom:Ht=2,translateExtent:Pt=$l,preventScrolling:Dt=!0,nodeExtent:it,defaultMarkerColor:It="#b1b1b7",zoomOnScroll:on=!0,zoomOnPinch:or=!0,panOnScroll:kr=!1,panOnScrollSpeed:Nr=.5,panOnScrollMode:dn=Gs.Free,zoomOnDoubleClick:Sr=!0,panOnDrag:eo=!0,onPaneClick:fn,onPaneMouseEnter:ys,onPaneMouseMove:jr,onPaneMouseLeave:sr,onPaneScroll:ws,onPaneContextMenu:Fe,paneClickDistance:ut=1,nodeClickDistance:_t=0,children:Ot,onReconnect:Er,onReconnectStart:xt,onReconnectEnd:kt,onEdgeContextMenu:Pr,onEdgeDoubleClick:Mt,onEdgeMouseEnter:sn,onEdgeMouseMove:Ir,onEdgeMouseLeave:pn,reconnectRadius:_s=10,onNodesChange:Ma,onEdgesChange:Lf,noDragClassName:Tf="nodrag",noWheelClassName:Rf="nowheel",noPanClassName:Mr="nopan",fitView:La,fitViewOptions:Ta,connectOnClick:Af,attributionPosition:xc,proOptions:vc,defaultEdgeOptions:yc,elevateNodesOnSelect:wc=!0,elevateEdgesOnSelect:zf=!1,disableKeyboardA11y:_c=!1,autoPanOnConnect:dt,autoPanOnNodeDrag:Df,autoPanSpeed:Ra,connectionRadius:bc,isValidConnection:pi,onError:Of,style:Cc,id:bs,nodeDragThreshold:Gn,connectionDragThreshold:Ff,viewport:En,onViewportChange:$f,width:Bf,height:Vf,colorMode:hi="light",debug:mi,onScroll:Mo,ariaLabelConfig:gi,zIndexMode:kc="basic",...Hf},Aa){const xi=bs||"1",za=wS(hi),Cs=b.useCallback(Nc=>{Nc.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Mo?.(Nc)},[Mo]);return l.jsx("div",{"data-testid":"rf__wrapper",...Hf,onScroll:Cs,style:{...Cc,...$j},ref:Aa,className:Et(["react-flow",o,za]),id:bs,role:"application",children:l.jsxs(Fj,{nodes:e,edges:t,width:Bf,height:Vf,fitView:La,fitViewOptions:Ta,minZoom:Qe,maxZoom:Ht,nodeOrigin:Ue,nodeExtent:it,zIndexMode:kc,children:[l.jsx(Dj,{onInit:f,onNodeClick:u,onEdgeClick:p,onNodeMouseEnter:E,onNodeMouseMove:N,onNodeMouseLeave:j,onNodeContextMenu:P,onNodeDoubleClick:L,nodeTypes:a,edgeTypes:c,connectionLineType:B,connectionLineStyle:q,connectionLineComponent:X,connectionLineContainerStyle:ne,selectionKeyCode:ee,selectionOnDrag:J,selectionMode:le,deleteKeyCode:ie,multiSelectionKeyCode:me,panActivationKeyCode:de,zoomActivationKeyCode:te,onlyRenderVisibleElements:Le,defaultViewport:$e,translateExtent:Pt,minZoom:Qe,maxZoom:Ht,preventScrolling:Dt,zoomOnScroll:on,zoomOnPinch:or,zoomOnDoubleClick:Sr,panOnScroll:kr,panOnScrollSpeed:Nr,panOnScrollMode:dn,panOnDrag:eo,onPaneClick:fn,onPaneMouseEnter:ys,onPaneMouseMove:jr,onPaneMouseLeave:sr,onPaneScroll:ws,onPaneContextMenu:Fe,paneClickDistance:ut,nodeClickDistance:_t,onSelectionContextMenu:H,onSelectionStart:R,onSelectionEnd:I,onReconnect:Er,onReconnectStart:xt,onReconnectEnd:kt,onEdgeContextMenu:Pr,onEdgeDoubleClick:Mt,onEdgeMouseEnter:sn,onEdgeMouseMove:Ir,onEdgeMouseLeave:pn,reconnectRadius:_s,defaultMarkerColor:It,noDragClassName:Tf,noWheelClassName:Rf,noPanClassName:Mr,rfId:xi,disableKeyboardA11y:_c,nodeExtent:it,viewport:En,onViewportChange:$f}),l.jsx(yS,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:y,onConnectStart:w,onConnectEnd:v,onClickConnectStart:C,onClickConnectEnd:k,nodesDraggable:ce,autoPanOnNodeFocus:ye,nodesConnectable:Ee,nodesFocusable:qe,edgesFocusable:_e,edgesReconnectable:we,elementsSelectable:zt,elevateNodesOnSelect:wc,elevateEdgesOnSelect:zf,minZoom:Qe,maxZoom:Ht,nodeExtent:it,onNodesChange:Ma,onEdgesChange:Lf,snapToGrid:ae,snapGrid:fe,connectionMode:O,translateExtent:Pt,connectOnClick:Af,defaultEdgeOptions:yc,fitView:La,fitViewOptions:Ta,onNodesDelete:Y,onEdgesDelete:G,onDelete:V,onNodeDragStart:T,onNodeDrag:D,onNodeDragStop:$,onSelectionDrag:M,onSelectionDragStart:z,onSelectionDragStop:F,onMove:h,onMoveStart:m,onMoveEnd:x,noPanClassName:Mr,nodeOrigin:Ue,rfId:xi,autoPanOnConnect:dt,autoPanOnNodeDrag:Df,autoPanSpeed:Ra,onError:Of,connectionRadius:bc,isValidConnection:pi,selectNodesOnDrag:Re,nodeDragThreshold:Gn,connectionDragThreshold:Ff,onBeforeDelete:U,debug:mi,ariaLabelConfig:gi,zIndexMode:kc}),l.jsx(mS,{onSelectionChange:W}),Ot,l.jsx(uS,{proOptions:vc,position:xc}),l.jsx(cS,{rfId:xi,disableKeyboardA11y:_c})]})})}var Vj=h_(Bj);const Hj=e=>e.domNode?.querySelector(".react-flow__edgelabel-renderer");function jy({children:e}){const t=He(Hj);return t?wo.createPortal(e,t):null}const Wj=e=>({x:e.transform[0],y:e.transform[1],zoom:e.transform[2]});function Uj(){return He(Wj,st)}const Gj=yr.error014();function O_({id:e,handleType:t,handleId:n,onConnect:r,onDisconnect:o}={}){const a=Rg(),c=e??a;if(!c)throw new Error(Gj);const u=b.useRef(null),p=He(f=>f.connectionLookup.get(`${c}${t?n?`-${t}-${n}`:`-${t}`:""}`),H9);return b.useEffect(()=>{if(u.current&&u.current!==p){const f=p??new Map;Ov(u.current,f,o),Ov(f,u.current,r)}u.current=p??new Map},[p,r,o]),b.useMemo(()=>Array.from(p?.values()??[]),[p])}function Yj(e){return He(b.useCallback(n=>{const r=[],o=Array.isArray(e),a=o?e:[e];for(const c of a){const u=n.nodeLookup.get(c);u&&r.push({id:u.id,type:u.type,data:u.data})}return o?r:r[0]??null},[e]),yN)}function Kj({dimensions:e,lineWidth:t,variant:n,className:r}){return l.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Et(["react-flow__background-pattern",n,r])})}function Zj({radius:e,className:t}){return l.jsx("circle",{cx:e,cy:e,r:e,className:Et(["react-flow__background-pattern","dots",t])})}var _o;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(_o||(_o={}));const Xj={[_o.Dots]:1,[_o.Lines]:1,[_o.Cross]:6},qj=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function F_({id:e,variant:t=_o.Dots,gap:n=20,size:r,lineWidth:o=1,offset:a=0,color:c,bgColor:u,style:p,className:f,patternClassName:h}){const m=b.useRef(null),{transform:x,patternId:y}=He(qj,st),w=r||Xj[t],v=t===_o.Dots,C=t===_o.Cross,k=Array.isArray(n)?n:[n,n],E=[k[0]*x[2]||1,k[1]*x[2]||1],N=w*x[2],j=Array.isArray(a)?a:[a,a],P=C?[N,N]:E,L=[j[0]*x[2]||1+P[0]/2,j[1]*x[2]||1+P[1]/2],T=`${y}${e||""}`;return l.jsxs("svg",{className:Et(["react-flow__background",f]),style:{...p,...nf,"--xy-background-color-props":u,"--xy-background-pattern-color-props":c},ref:m,"data-testid":"rf__background",children:[l.jsx("pattern",{id:T,x:x[0]%E[0],y:x[1]%E[1],width:E[0],height:E[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${L[0]},-${L[1]})`,children:v?l.jsx(Zj,{radius:N/2,className:h}):l.jsx(Kj,{dimensions:P,lineWidth:o,variant:t,className:h})}),l.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${T})`})]})}F_.displayName="Background";const Qj=b.memo(F_);function Jj(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:l.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function eE(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:l.jsx("path",{d:"M0 0h32v4.2H0z"})})}function tE(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:l.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function nE(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:l.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function rE(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:l.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Au({children:e,className:t,...n}){return l.jsx("button",{type:"button",className:Et(["react-flow__controls-button",t]),...n,children:e})}const oE=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function $_({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:a,onZoomOut:c,onFitView:u,onInteractiveChange:p,className:f,children:h,position:m="bottom-left",orientation:x="vertical","aria-label":y}){const w=ct(),{isInteractive:v,minZoomReached:C,maxZoomReached:k,ariaLabelConfig:E}=He(oE,st),{zoomIn:N,zoomOut:j,fitView:P}=cs(),L=()=>{N(),a?.()},T=()=>{j(),c?.()},D=()=>{P(o),u?.()},$=()=>{w.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),p?.(!v)},Y=x==="horizontal"?"horizontal":"vertical";return l.jsxs(tf,{className:Et(["react-flow__controls",Y,f]),position:m,style:e,"data-testid":"rf__controls","aria-label":y??E["controls.ariaLabel"],children:[t&&l.jsxs(l.Fragment,{children:[l.jsx(Au,{onClick:L,className:"react-flow__controls-zoomin",title:E["controls.zoomIn.ariaLabel"],"aria-label":E["controls.zoomIn.ariaLabel"],disabled:k,children:l.jsx(Jj,{})}),l.jsx(Au,{onClick:T,className:"react-flow__controls-zoomout",title:E["controls.zoomOut.ariaLabel"],"aria-label":E["controls.zoomOut.ariaLabel"],disabled:C,children:l.jsx(eE,{})})]}),n&&l.jsx(Au,{className:"react-flow__controls-fitview",onClick:D,title:E["controls.fitView.ariaLabel"],"aria-label":E["controls.fitView.ariaLabel"],children:l.jsx(tE,{})}),r&&l.jsx(Au,{className:"react-flow__controls-interactive",onClick:$,title:E["controls.interactive.ariaLabel"],"aria-label":E["controls.interactive.ariaLabel"],children:v?l.jsx(rE,{}):l.jsx(nE,{})}),h]})}$_.displayName="Controls";b.memo($_);function sE({id:e,x:t,y:n,width:r,height:o,style:a,color:c,strokeColor:u,strokeWidth:p,className:f,borderRadius:h,shapeRendering:m,selected:x,onClick:y}){const{background:w,backgroundColor:v}=a||{},C=c||w||v;return l.jsx("rect",{className:Et(["react-flow__minimap-node",{selected:x},f]),x:t,y:n,rx:h,ry:h,width:r,height:o,style:{fill:C,stroke:u,strokeWidth:p},shapeRendering:m,onClick:y?k=>y(k,e):void 0})}const iE=b.memo(sE),aE=e=>e.nodes.map(t=>t.id),Oh=e=>e instanceof Function?e:()=>e;function lE({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o,nodeComponent:a=iE,onClick:c}){const u=He(aE,st),p=Oh(t),f=Oh(e),h=Oh(n),m=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return l.jsx(l.Fragment,{children:u.map(x=>l.jsx(uE,{id:x,nodeColorFunc:p,nodeStrokeColorFunc:f,nodeClassNameFunc:h,nodeBorderRadius:r,nodeStrokeWidth:o,NodeComponent:a,onClick:c,shapeRendering:m},x))})}function cE({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:o,nodeStrokeWidth:a,shapeRendering:c,NodeComponent:u,onClick:p}){const{node:f,x:h,y:m,width:x,height:y}=He(w=>{const{internals:v}=w.nodeLookup.get(e),C=v.userNode,{x:k,y:E}=v.positionAbsolute,{width:N,height:j}=jo(C);return{node:C,x:k,y:E,width:N,height:j}},st);return!f||f.hidden||!Fw(f)?null:l.jsx(u,{x:h,y:m,width:x,height:y,style:f.style,selected:!!f.selected,className:r(f),color:t(f),borderRadius:o,strokeColor:n(f),strokeWidth:a,shapeRendering:c,onClick:p,id:f.id})}const uE=b.memo(cE);var dE=b.memo(lE);const fE=200,pE=150,hE=e=>!e.hidden,mE=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?Ow(lc(e.nodeLookup,{filter:hE}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},gE="react-flow__minimap-desc";function B_({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:o="",nodeBorderRadius:a=5,nodeStrokeWidth:c,nodeComponent:u,bgColor:p,maskColor:f,maskStrokeColor:h,maskStrokeWidth:m,position:x="bottom-right",onClick:y,onNodeClick:w,pannable:v=!1,zoomable:C=!1,ariaLabel:k,inversePan:E,zoomStep:N=1,offsetScale:j=5}){const P=ct(),L=b.useRef(null),{boundingRect:T,viewBB:D,rfId:$,panZoom:Y,translateExtent:G,flowWidth:V,flowHeight:W,ariaLabelConfig:z}=He(mE,st),M=e?.width??fE,F=e?.height??pE,H=T.width/M,R=T.height/F,I=Math.max(H,R),U=I*M,O=I*F,B=j*I,q=T.x-(U-T.width)/2-B,X=T.y-(O-T.height)/2-B,ne=U+B*2,ie=O+B*2,ee=`${gE}-${$}`,J=b.useRef(0),le=b.useRef();J.current=I,b.useEffect(()=>{if(L.current&&Y)return le.current=EN({domNode:L.current,panZoom:Y,getTransform:()=>P.getState().transform,getViewScale:()=>J.current}),()=>{le.current?.destroy()}},[Y]),b.useEffect(()=>{le.current?.update({translateExtent:G,width:V,height:W,inversePan:E,pannable:v,zoomStep:N,zoomable:C})},[v,C,E,N,G,V,W]);const de=y?ae=>{const[fe,Le]=le.current?.pointer(ae)||[0,0];y(ae,{x:fe,y:Le})}:void 0,me=w?b.useCallback((ae,fe)=>{const Le=P.getState().nodeLookup.get(fe).internals.userNode;w(ae,Le)},[]):void 0,te=k??z["minimap.ariaLabel"];return l.jsx(tf,{position:x,style:{...e,"--xy-minimap-background-color-props":typeof p=="string"?p:void 0,"--xy-minimap-mask-background-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-stroke-width-props":typeof m=="number"?m*I:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof c=="number"?c:void 0},className:Et(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:l.jsxs("svg",{width:M,height:F,viewBox:`${q} ${X} ${ne} ${ie}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ee,ref:L,onClick:de,children:[te&&l.jsx("title",{id:ee,children:te}),l.jsx(dE,{onClick:me,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:a,nodeClassName:o,nodeStrokeWidth:c,nodeComponent:u}),l.jsx("path",{className:"react-flow__minimap-mask",d:`M${q-B},${X-B}h${ne+B*2}v${ie+B*2}h${-ne-B*2}z
        M${D.x},${D.y}h${D.width}v${D.height}h${-D.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}B_.displayName="MiniMap";const xE=b.memo(B_),vE=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,yE={[ni.Line]:"right",[ni.Handle]:"bottom-right"};function wE({nodeId:e,position:t,variant:n=ni.Handle,className:r,style:o=void 0,children:a,color:c,minWidth:u=10,minHeight:p=10,maxWidth:f=Number.MAX_VALUE,maxHeight:h=Number.MAX_VALUE,keepAspectRatio:m=!1,resizeDirection:x,autoScale:y=!0,shouldResize:w,onResizeStart:v,onResize:C,onResizeEnd:k}){const E=Rg(),N=typeof e=="string"?e:E,j=ct(),P=b.useRef(null),L=n===ni.Handle,T=He(b.useCallback(vE(L&&y),[L,y]),st),D=b.useRef(null),$=t??yE[n];b.useEffect(()=>{if(!(!P.current||!N))return D.current||(D.current=WN({domNode:P.current,nodeId:N,getStoreItems:()=>{const{nodeLookup:G,transform:V,snapGrid:W,snapToGrid:z,nodeOrigin:M,domNode:F}=j.getState();return{nodeLookup:G,transform:V,snapGrid:W,snapToGrid:z,nodeOrigin:M,paneDomNode:F}},onChange:(G,V)=>{const{triggerNodeChanges:W,nodeLookup:z,parentLookup:M,nodeOrigin:F}=j.getState(),H=[],R={x:G.x,y:G.y},I=z.get(N);if(I&&I.expandParent&&I.parentId){const U=I.origin??F,O=G.width??I.measured.width??0,B=G.height??I.measured.height??0,q={id:I.id,parentId:I.parentId,rect:{width:O,height:B,...$w({x:G.x??I.position.x,y:G.y??I.position.y},{width:O,height:B},I.parentId,z,U)}},X=Lg([q],z,M,F);H.push(...X),R.x=G.x?Math.max(U[0]*O,G.x):void 0,R.y=G.y?Math.max(U[1]*B,G.y):void 0}if(R.x!==void 0&&R.y!==void 0){const U={id:N,type:"position",position:{...R}};H.push(U)}if(G.width!==void 0&&G.height!==void 0){const O={id:N,type:"dimensions",resizing:!0,setAttributes:x?x==="horizontal"?"width":"height":!0,dimensions:{width:G.width,height:G.height}};H.push(O)}for(const U of V){const O={...U,type:"position"};H.push(O)}W(H)},onEnd:({width:G,height:V})=>{const W={id:N,type:"dimensions",resizing:!1,dimensions:{width:G,height:V}};j.getState().triggerNodeChanges([W])}})),D.current.update({controlPosition:$,boundaries:{minWidth:u,minHeight:p,maxWidth:f,maxHeight:h},keepAspectRatio:m,resizeDirection:x,onResizeStart:v,onResize:C,onResizeEnd:k,shouldResize:w}),()=>{D.current?.destroy()}},[$,u,p,f,h,m,v,C,k,w]);const Y=$.split("-");return l.jsx("div",{className:Et(["react-flow__resize-control","nodrag",...Y,n,r]),ref:P,style:{...o,scale:T,...c&&{[L?"backgroundColor":"borderColor"]:c}},children:a})}const Ey=b.memo(wE);function us({nodeId:e,isVisible:t=!0,handleClassName:n,handleStyle:r,lineClassName:o,lineStyle:a,color:c,minWidth:u=10,minHeight:p=10,maxWidth:f=Number.MAX_VALUE,maxHeight:h=Number.MAX_VALUE,keepAspectRatio:m=!1,autoScale:x=!0,shouldResize:y,onResizeStart:w,onResize:v,onResizeEnd:C}){return t?l.jsxs(l.Fragment,{children:[ON.map(k=>l.jsx(Ey,{className:o,style:a,nodeId:e,position:k,variant:ni.Line,color:c,minWidth:u,minHeight:p,maxWidth:f,maxHeight:h,onResizeStart:w,keepAspectRatio:m,autoScale:x,shouldResize:y,onResize:v,onResizeEnd:C},k)),DN.map(k=>l.jsx(Ey,{className:n,style:r,nodeId:e,position:k,color:c,minWidth:u,minHeight:p,maxWidth:f,maxHeight:h,onResizeStart:w,keepAspectRatio:m,autoScale:x,shouldResize:y,onResize:v,onResizeEnd:C},k))]}):null}const Py={TRAE_API_BASE:"https://trae-api-cn.mchost.guru",ARK_API_BASE:"https://ark.cn-beijing.volces.com"},_E={TRAE_TEXT_TO_IMAGE:`${Py.TRAE_API_BASE}/api/ide/v1/text_to_image`,ARK_IMAGE_GENERATIONS:`${Py.ARK_API_BASE}/api/v3/images/generations`,GOOGLE_FONTS:"https://fonts.googleapis.com/css2?family=SF+Pro+Display:wght@400;500;600;700&display=swap",SUPABASE_FUNCTIONS:e=>`https://${e}.supabase.co/functions/v1/make-server-43920120/workflows`},At={WORKFLOW_DATA:"creative-workflow-data",ASSETS:"creative_workflow_assets",LANGUAGE:"language",THEME:"theme",CURRENT_VIEW:"currentView",ASSETS_CATEGORY:"assets-category",ASSETS_FILTER:"assets-filter",ASSETS_GRID_SIZE:"assets-grid-size",INSPIRATION_GRID_SIZE:"inspiration-grid-size",GEMINI_API_KEY:"gemini_api_key",ARK_API_KEY:"ark_api_key",LOCAL_SERVER_URL:"local_server_url"},Zt={SUPPORTED_MODELS:[{id:"gemini-2.5-flash-image",label:"Gemini 2.5 Flash ()",type:"cloud"},{id:"gemini-3-pro-image-preview",label:"Gemini 3.0 Pro ()",type:"cloud"},{id:"imagen-4.0-generate-001",label:"Imagen 4 ()",type:"cloud"},{id:"doubao-seedream-4-5-251128",label:"Doubao Seedream 4.5 ()",type:"cloud"},{id:"z-image-turbo",label:"Z-Image Turbo ()",type:"local"},{id:"z-image",label:"Z-Image ()",type:"local"},{id:"z-image-edit",label:"Z-Image Edit ()",type:"local"}],TEST_MODEL:"gemini-2.5-flash",DEFAULT_MODEL:"gemini-2.5-flash-image",DEFAULT_ARK_MODEL:"doubao-seedream-4-5-251128",ANALYSIS_MODEL:"gemini-3-flash-preview",OPTIMIZATION_MODEL:"gemini-3-flash-preview",LOCAL_MODEL_ENDPOINT:"http://localhost:8188"},V_={TIMEOUT:6e4,DEBOUNCE_DELAY:1e3},Cd={SAVE_DEBOUNCE:2e3,MAX_COUNT:10,DEFAULT_NAME:"",DEFAULT_ID:"default",STORAGE_KEY:At.WORKFLOW_DATA},zu={MAX_COUNT:30,MAX_LOCALSTORAGE_SIZE:4*1024*1024,CLEANUP_THRESHOLD:.8},H_="/assets/2d7160601086bc4a3294287ad45cd52a2430ea18-vkiHBc54.png",W_="/assets/fc6bc9a065ba741c116a3c69872b5372e54c51ac-BT4M9DL1.png",U_="/assets/65c0d73b733245479f5c5a2cdd6ff1ab4bd17846-DBiqCZaL.png",G_="/assets/9af5ac1f50087a6f8a64eb8de01852907537f857-BL14pZbV.png",bE="/assets/05bd0e17ef904ff5fe2eb9ea076cc4e0db7973b9-Dam8RNxQ.png",Y_=b.createContext(void 0),CE=[{id:"1",type:"imageInput",position:{x:66,y:764},data:{label:"Image input",image:H_}},{id:"2",type:"imageInput",position:{x:399,y:104},data:{label:"Image input",image:W_}},{id:"3",type:"imageInput",position:{x:399,y:614},data:{label:"Image input",image:U_}},{id:"4",type:"imageInput",position:{x:399,y:909},data:{label:"Image input",image:G_}},{id:"5",type:"imageEditor",position:{x:777,y:525},data:{label:"Image Editor",preset:"Nano Banana",mode:"",steps:4}},{id:"6",type:"preview",position:{x:1289,y:241},data:{label:"Preview",image:bE}},{id:"text-empty",type:"textInput",position:{x:66,y:1100},data:{text:""}},{id:"text-filled",type:"textInput",position:{x:399,y:1100},data:{text:"The image shows a person sitting on a chair with their hands clasped together. The individual is dressed in a black suit, and their hair is long and dark. The background consists of a white curtain, which creates a soft, diffused light effect. The person appears to be in a contemplative or relaxed pose, with their head slightly bowed. The image has a minimalist and professional aesthetic, with a focus on the subject and the subtle lighting."}}],kE=[{id:"e1-5",source:"1",target:"5",targetHandle:"img1",type:"deletable",animated:!0},{id:"e2-5",source:"2",target:"5",targetHandle:"img2",type:"deletable",animated:!0},{id:"e3-5",source:"3",target:"5",targetHandle:"img3",type:"deletable",animated:!0},{id:"e4-5",source:"4",target:"5",targetHandle:"img4",type:"deletable",animated:!0},{id:"e-text-5",source:"text-filled",target:"5",targetHandle:"prompt-input",type:"deletable",animated:!0},{id:"e5-6",source:"5",target:"6",type:"deletable",animated:!0}],K_={id:Cd.DEFAULT_ID,name:Cd.DEFAULT_NAME,nodes:CE,edges:kE,selectedNodeId:null,images:{},processedImages:{},isProcessing:!1,prompt:"",selectedModel:Zt.DEFAULT_MODEL,selectedQuantity:2,selectedAspectRatio:"1:1",selectedQuality:"2K",guidanceScale:7,seed:0,facialSelections:{gender:"Woman",age:"Young Adult",body_weight:"None",face_shape:"None",skin_details:"None",skin_texture:"None",hairstyle:"None",hair_color:"None"},enableStates:{facialFeatures:!0,poseReference:!1,clothing:!0,cameraControl:!0,imageStyle:!1,visualDeconstruction:!0},viewport:{x:0,y:0,zoom:1},nodeStates:{}},Iy={prompt:"",isProcessing:!1,isLoadingModel:!1,loadingProgress:0,generationProgress:0,currentStep:""},NE=()=>{if(typeof window>"u")return null;try{const e=localStorage.getItem(At.WORKFLOW_DATA);if(e){const t=JSON.parse(e);return{workflows:(t.workflows||[K_]).map(o=>({...o,nodeStates:o.nodeStates||{},selectedModel:o.selectedModel||Zt.DEFAULT_MODEL,selectedQuantity:o.selectedQuantity||2,selectedAspectRatio:o.selectedAspectRatio||"1:1",selectedQuality:o.selectedQuality||"2K",guidanceScale:o.guidanceScale||7,seed:o.seed||0,facialSelections:o.facialSelections||{gender:"Woman",age:"Young Adult",body_weight:"None",face_shape:"None",skin_details:"None",skin_texture:"None",hairstyle:"None",hair_color:"None"},enableStates:o.enableStates||{facialFeatures:!0,poseReference:!1,clothing:!0,cameraControl:!0,imageStyle:!1,visualDeconstruction:!0}})),activeWorkflowId:t.activeWorkflowId||Cd.DEFAULT_ID}}}catch(e){console.error("Error loading from localStorage:",e)}return null},SE=e=>{if(!(typeof window>"u"))try{localStorage.setItem(At.WORKFLOW_DATA,JSON.stringify(e))}catch(t){console.error("Error saving to localStorage:",t)}};function jE({children:e}){const t=NE(),[n,r]=b.useState(t?.workflows||[K_]),[o,a]=b.useState(t?.activeWorkflowId||Cd.DEFAULT_ID),[c,u]=b.useState(!1);b.useEffect(()=>{if(c){const I=setTimeout(()=>{SE({workflows:n,activeWorkflowId:o})},V_.DEBOUNCE_DELAY);return()=>clearTimeout(I)}},[n,o,c]),b.useEffect(()=>{(async()=>{{u(!0);return}})()},[]),b.useEffect(()=>{},[n,o,c]);const p=n.find(I=>I.id===o)||n[0],f=b.useCallback(I=>{r(U=>U.map(O=>O.id===o?{...O,...typeof I=="function"?I(O):I}:O))},[o]),h=b.useCallback((I,U)=>{r(O=>O.map(B=>B.id===I?{...B,...U}:B))},[]),m=b.useCallback(()=>{const I=`workflow-${Date.now()}`,U={id:I,name:` ${n.length+1}`,nodes:[],edges:[],selectedNodeId:null,images:{},processedImages:{},isProcessing:!1,prompt:"",selectedModel:Zt.DEFAULT_MODEL,selectedQuantity:2,selectedAspectRatio:"1:1",selectedQuality:"2K",guidanceScale:7,seed:0,facialSelections:{gender:"Woman",age:"Young Adult",body_weight:"None",face_shape:"None",skin_details:"None",skin_texture:"None",hairstyle:"None",hair_color:"None"},enableStates:{facialFeatures:!0,poseReference:!1,clothing:!0,cameraControl:!0,imageStyle:!1,visualDeconstruction:!0},viewport:{x:0,y:0,zoom:1},nodeStates:{}};r(O=>[...O,U]),a(I)},[n.length]),x=b.useCallback((I,U)=>{const O=`workflow-${Date.now()}`,B={id:O,name:` ${n.length+1}`,nodes:I,edges:U,selectedNodeId:null,images:{},processedImages:{},isProcessing:!1,prompt:"",selectedModel:Zt.DEFAULT_MODEL,selectedQuantity:2,selectedAspectRatio:"1:1",selectedQuality:"2K",guidanceScale:7,seed:0,facialSelections:{gender:"Woman",age:"Young Adult",body_weight:"None",face_shape:"None",skin_details:"None",skin_texture:"None",hairstyle:"None",hair_color:"None"},enableStates:{facialFeatures:!0,poseReference:!1,clothing:!0,cameraControl:!0,imageStyle:!1,visualDeconstruction:!0},viewport:{x:0,y:0,zoom:1},nodeStates:{}};r(q=>[...q,B]),a(O)},[n.length]),y=b.useCallback(I=>{n.length<=1||(r(U=>U.filter(B=>B.id!==I)),o===I&&a(n.find(U=>U.id!==I)?.id||n[0].id))},[o,n]),w=b.useCallback((I,U)=>{f({images:{...p.images,[I]:U}})},[p.images,f]),v=b.useCallback((I,U)=>{f({processedImages:{...p.processedImages,[I]:U}})},[p.processedImages,f]),C=b.useCallback(I=>{f({isProcessing:I})},[f]),k=b.useCallback(I=>{f({selectedNodeId:I})},[f]),E=b.useCallback(I=>{f(typeof I=="function"?U=>({nodes:I(U.nodes)}):{nodes:I})},[f]),N=b.useCallback(I=>{f({prompt:I})},[f]),j=b.useCallback(I=>{f({viewport:I})},[f]),P=b.useCallback(I=>{f({nodes:[...p.nodes,I]})},[p.nodes,f]),L=b.useCallback(I=>{const U=p.nodes.filter(B=>B.id!==I),O=p.edges.filter(B=>B.source!==I&&B.target!==I);f({nodes:U,edges:O,selectedNodeId:p.selectedNodeId===I?null:p.selectedNodeId})},[p.nodes,p.edges,p.selectedNodeId,f]),T=b.useCallback(I=>{f(typeof I=="function"?U=>({edges:I(U.edges)}):{edges:I})},[f]),D=b.useCallback(I=>{f({selectedModel:I})},[f]),$=b.useCallback(I=>{f({selectedQuantity:I})},[f]),Y=b.useCallback(I=>{f({selectedAspectRatio:I})},[f]),G=b.useCallback(I=>{f({selectedQuality:I})},[f]),V=b.useCallback(I=>{f({guidanceScale:I})},[f]),W=b.useCallback(I=>{f({seed:I})},[f]),z=b.useCallback(I=>{f({facialSelections:I})},[f]),M=b.useCallback(I=>{f({enableStates:I})},[f]),F=b.useCallback((I,U)=>{const O=p.nodes.find(J=>J.id===I);if(!O)return;const B=`node-${Date.now()}`,q=O.position.x||0,X=O.position.y||0;let ne={};U==="imageInput"?ne={label:"Image input"}:U==="imageEditor"?ne={label:"Image Editor",preset:"imagen-3",mode:"",steps:4}:U==="preview"&&(ne={label:"Preview"});const ie={id:B,type:U,position:{x:q+400,y:X},data:ne},ee={id:`e${I}-${B}`,source:I,target:B,animated:!0,type:"deletable"};U==="imageEditor"&&(ee.targetHandle="img1"),f({nodes:[...p.nodes,ie],edges:[...p.edges,ee]})},[p.nodes,p.edges,f]),H=b.useCallback(I=>n.find(O=>O.id===o)?.nodeStates?.[I]||Iy,[n,o]),R=b.useCallback((I,U)=>{r(O=>O.map(B=>B.id===o?{...B,nodeStates:{...B.nodeStates,[I]:{...Iy,...B.nodeStates[I],...U}}}:B))},[o]);return l.jsx(Y_.Provider,{value:{workflows:n,activeWorkflowId:o,setActiveWorkflowId:a,addWorkflow:m,importWorkflow:x,removeWorkflow:y,updateWorkflow:h,images:p.images,setImage:w,processedImages:p.processedImages,setProcessedImage:v,isProcessing:p.isProcessing,setIsProcessing:C,selectedNodeId:p.selectedNodeId,setSelectedNodeId:k,nodes:p.nodes,setNodes:E,addNode:P,deleteNode:L,edges:p.edges,setEdges:T,addConnectedNode:F,prompt:p.prompt,setPrompt:N,selectedModel:p.selectedModel,setSelectedModel:D,selectedQuantity:p.selectedQuantity,setSelectedQuantity:$,selectedAspectRatio:p.selectedAspectRatio,setSelectedAspectRatio:Y,selectedQuality:p.selectedQuality,setSelectedQuality:G,guidanceScale:p.guidanceScale,setGuidanceScale:V,seed:p.seed,setSeed:W,facialSelections:p.facialSelections,setFacialSelections:z,enableStates:p.enableStates,setEnableStates:M,viewport:p.viewport||{x:0,y:0,zoom:1},setViewport:j,getNodeState:H,setNodeState:R},children:e})}function jt(){const e=b.useContext(Y_);if(!e)throw new Error("useWorkflow must be used within WorkflowProvider");return e}const xl={p22723b00:"M11.8185 9.83385C13.1453 9.83385 14.3658 11.0203 15 11.6074V14.3338H3C3 14.3338 3.97435 12.7848 4.99395 12.0262C6.01354 11.2676 7.17508 12.4511 8.45047 12.4511C9.72652 12.4511 10.4924 9.83385 11.8185 9.83385Z",p3c3abd80:"M13.5 2.89636H4.5C3.15381 2.89636 2.0625 3.98767 2.0625 5.33387V12.8339C2.0625 14.1801 3.15381 15.2714 4.5 15.2714H13.5C14.8462 15.2714 15.9375 14.1801 15.9375 12.8339V5.33387C15.9375 3.98767 14.8462 2.89636 13.5 2.89636Z",p3f4a3300:"M6 22.5V24.5C6 25.6046 6.89543 26.5 8 26.5H24C25.1046 26.5 26 25.6046 26 24.5V22.5",p45b6000:"M17.4894 19.2582C17.4039 19.9571 16.7694 20.5 16 20.5L15.8245 20.4895C15.0791 20.41 14.5001 19.8146 14.5001 19.0947L14.4986 10.6463L12.5833 12.5585C12.2992 12.842 11.9144 13.0012 11.5131 13.0012C11.1118 13.0012 10.7269 12.842 10.4429 12.5585C10.3025 12.4184 10.1911 12.2519 10.1151 12.0687C10.0391 11.8855 10 11.689 10 11.4907C10 11.2923 10.0391 11.0959 10.1151 10.9126C10.1911 10.7294 10.3025 10.563 10.4429 10.4228L14.9306 5.9444C15.0708 5.80355 15.2374 5.69179 15.421 5.61552C15.6045 5.53926 15.8013 5.5 16 5.5C16.1987 5.5 16.3955 5.53926 16.579 5.61552C16.7626 5.69179 16.9292 5.80355 17.0694 5.9444L21.5571 10.4228C21.6975 10.563 21.8089 10.7294 21.8849 10.9126C21.9609 11.0959 22 11.2923 22 11.4907C22 11.689 21.9609 11.8855 21.8849 12.0687C21.8089 12.2519 21.6975 12.4184 21.5571 12.5585C21.2731 12.8415 20.8886 13.0004 20.4877 13.0004C20.0868 13.0004 19.7022 12.8415 19.4182 12.5585L17.4984 10.6448L17.4999 19.0932L17.4894 19.2582Z",p9a6a300:"M7.85723 7.38782C7.85723 8.1078 7.27322 8.69175 6.55326 8.69175C5.83329 8.69175 5.25 8.1078 5.25 7.38782C5.25 6.66787 5.83329 6.08387 6.55326 6.08387C7.27322 6.08387 7.85655 6.66716 7.85723 7.38642V7.38782Z"},Jn={p16ed3d80:"M6.28574 5.91029C6.28574 6.48627 5.81854 6.95343 5.24257 6.95343C4.6666 6.95343 4.19996 6.48627 4.19996 5.91029C4.19996 5.33433 4.6666 4.86713 5.24257 4.86713C5.81854 4.86713 6.2852 5.33376 6.28574 5.90917V5.91029Z",p20d5dc80:"M9.45476 7.86696C10.5162 7.86696 11.4926 8.81616 12 9.28584V11.467H2.39996C2.39996 11.467 3.17945 10.2277 3.99512 9.62082C4.8108 9.01398 5.74003 9.96078 6.76034 9.96078C7.78118 9.96078 8.39384 7.86696 9.45476 7.86696Z",pe3a2d00:"M10.8 2.31715H3.59996C2.52301 2.31715 1.64996 3.1902 1.64996 4.26715V10.2672C1.64996 11.3441 2.52301 12.2172 3.59996 12.2172H10.8C11.8769 12.2172 12.75 11.3441 12.75 10.2672V4.26715C12.75 3.1902 11.8769 2.31715 10.8 2.31715Z"},Z_=b.createContext(void 0),EE={zh:{creation:"",editor:"",inspiration:"",assets:"",settings:"",character_settings:"",facial_feature_extraction:"",pose_reference:"",clothing:"",scene_composition:"",camera_control:"",image_style:"",style_settings:"",visual_deconstruction:"",prompt_preset:"",generation_results:"",prompt_supplement:"",describe_image:"...",generate:"",generating:"...",model:"",quantity:"",ratio:"",gender:"",age:"",body_weight:"",face_shape:"",skin_details:"",skin_texture:"",hairstyle:"",hair_color:"",facial_features:"",enable:"",lens_type:"",focal_length:"",aperture:"",shutter_speed:"",iso_value:"ISO",shooting_angle:"",portrait_type:"",imaging_style:"",art_style:"",art_effect:"",depth_of_field:"",photo_effect:"",english:"",chinese:"",description:"",matrix:"",female:"",none:"",all:"",tops_outerwear:"/",bottoms:"",dresses:"",footwear:"",accessories:"",other:"",natural:"",medium:"",eye_level:"",special_effect:"",post_processing:"",please_enter_prompt:"",image_generated_success:"",image_generation_failed:"",unknown_error:"",no_generated_images:"",gemini_flash_latest:"Gemini 2.5 Flash ()",workflow_imported:"",invalid_workflow_format:"",file_parse_failed:"",workflow_name:"",enter_workflow_name:"",cancel:"",save:"",asset_library:"",manage_creative_assets:"",search_prompts:"...",images:"",text:"",videos:"",workflows:"",characters:"",recent:"",favorites:"",large:"",small:"",no_assets_found:"",try_adjust_filters:"",inspiration_library:"",explore_prompts:"",people:"",scenes:"",styles:"",tech:"",no_workflow_templates:"",try_other_category:"",import_workflow:"",no_prompt_presets:"",workflow_import_success:"",canvas_created:"",canvas_create_failed:"",workflow_template_imported:"",workflow_import_failed:"",prompt_applied:"",prompt_apply_failed:"",portrait:"",product_photography:"",landscape_photography:"",fashion_photography:"","3d_render":"3D",abstract_art:"",switch_to_english:"Switch to English",switch_to_chinese:"",configure_api_key:" API ",edit:"",edit_workflow:"",delete:"",delete_workflow:"",random_seed:"",no_preset_added:" ",image_n:"",size:"",clarity:"",sequential_mode:"",prompt_consistency:"",image:"",select_lora:" LoRA",lora_strength:"",at_least_one_image:"",preset_applied:"",enter_prompt_or_connect:"",generation_complete_saved:"",generation_failed_no_data:"",generation_failed:"",no_prompt:"",generation_result:"",single_image:"",group_image:"",preset_image_reverse:"",preset_switch_view:"",preset_arch_to_model:"",preset_combine_objects:"",preset_hd_enhance:"",preset_to_lineart:"",preset_color_with_palette:"",preset_character_set:"",preset_virtual_real:"/",preset_anime_to_real:"",preset_pose_ref:"",preset_to_figure:"",preset_to_funko:" Funko Pop",preset_to_lego:"",preset_to_barbie:"",preset_to_gundam:"",preset_cyber_baby:"",preset_product_render:"",preset_pro_photo:"",preset_light_ref:"",preset_paint_process:"",preset_style_to_real:"",preset_to_pendant:"",preset_effect_stack:"",preset_product_pack:"",preset_virtual_makeup:"",preset_expression_ref:"",api_key_saved:"API ",use:"",save_btn:"",result_preview:"",character:"",reference_image:"",click_upload_reference:"",image_edit:"",video_production:"",image_preview:"",replace_image:"",upload_image:"",image_input:"",image_caption:"",image_uploaded:"",skip_node:"",delete_node:"",subject_restore:"",style_replicate:"",subject:"",style:"",reference_image_upload_success:"",please_upload_reference:"",processing_subject:"...",processing_style:"...",processing:"...",start_restore:"",start_replicate:"",error_api_key_missing:" Gemini API Key",error_api_key_missing_desc:" API Key",error_ark_api_key_missing:" Ark API Key",error_ark_api_key_missing_desc:" Ark API Key",error_daily_quota_exceeded:"",error_upload_image_first:"",error_enter_prompt:"",success_generation_complete:"",success_image_selected:"",success_image_downloaded:"",success_workflow_downloaded:"",success_workflow_saved:"",success_canvas_created:"",info_optimizing_text:"...",info_enter_text_first:"",info_api_key_required:" API Key ",info_using_mock:"...",info_generating_google:" Google AI ...",info_api_busy:"API ",info_seconds:"...",action_undo:"",action_redo:"",action_clear_canvas:"",action_clear_canvas_confirm:"",action_resize:"",action_skip_node:"",action_delete_node:"",action_more_options:"",action_optimize_text:"",action_create_character:"",action_create_character_dev:"...",label_character:"",label_default_character:"",label_workflow:"",label_imported_workflow:"",label_preset:"",label_no_preset:" ",label_image_input:"",label_image_editor:"",label_preview:"",api_key_dialog_title:" API ",api_key_dialog_desc:" API ",api_key_dialog_model:"",api_key_dialog_key:"API ",api_key_dialog_placeholder_gemini:"AIza...",api_key_dialog_placeholder_ark:"f424b14b-d977-4266-a21c-769ca254e17a",api_key_dialog_get_key:" Google AI Studio  API ",api_key_dialog_use_default:"",api_key_dialog_cancel:"",api_key_dialog_save_test:"",api_key_validated:"API ",api_key_quota_exceeded:"API ",api_key_invalid:" API ",api_key_using_default:" API ",local_server_offline:" Z-Image ",local_server_online:"",local_model_unavailable:"",error_local_connection:"",error_local_timeout:"",error_gpu_memory:"",error_model_loading:"",loading_zimage_model:" Z-Image ...",connecting_server:"...",loading_model:"...",submitting_workflow:"...",generating:"",executing_node:"",complete:"",nav_input:"",nav_output:"",nav_text:"",nav_image:"",nav_video:"",nav_text_preview:"",nav_image_preview:"",nav_video_preview:"",nav_processing:"",nav_image_editor:"",nav_image_reconstruction:"",nav_video_production:"",nav_preset:""},en:{creation:"Creation",editor:"Editor",inspiration:"Inspiration",assets:"Assets",settings:"Settings",character_settings:"Character Settings",facial_feature_extraction:"Facial Feature Extraction",pose_reference:"Pose Reference",clothing:"Clothing",scene_composition:"Scene Composition",camera_control:"Camera Control",image_style:"Image Style",style_settings:"Style Settings",visual_deconstruction:"Visual Deconstruction",prompt_preset:"Prompt Preset",generation_results:"Generation Results",prompt_supplement:"Prompt Supplement:",describe_image:"Describe the image you want to generate...",generate:"Generate",generating:"Generating...",model:"Model",quantity:"Quantity",ratio:"Ratio",gender:"Gender",age:"Age",body_weight:"Body Weight",face_shape:"Face Shape",skin_details:"Skin Details",skin_texture:"Skin Texture",hairstyle:"Hairstyle",hair_color:"Hair Color",facial_features:"Facial Features",enable:"Enable",lens_type:"Lens Type",focal_length:"Focal Length",aperture:"Aperture",shutter_speed:"Shutter Speed",iso_value:"ISO Value",shooting_angle:"Shooting Angle",portrait_type:"Portrait Type",imaging_style:"Imaging Style",art_style:"Art Style",art_effect:"Art Effect",depth_of_field:"Depth of Field",photo_effect:"Photo Effect",english:"English",chinese:"Chinese",description:"Description",matrix:"Matrix",female:"Female",none:"None",all:"All",tops_outerwear:"Tops/Outerwear",bottoms:"Bottoms",dresses:"Dresses",footwear:"Footwear",accessories:"Accessories",other:"Other",natural:"Natural",medium:"Medium",eye_level:"Eye Level",special_effect:"Special Effect",post_processing:"Post Processing",please_enter_prompt:"Please enter a prompt",image_generated_success:"Image generated successfully!",image_generation_failed:"Image generation failed, please try again",unknown_error:"Unknown error",no_generated_images:"No generated images yet. Click the generate button to start creating",gemini_flash_latest:"Gemini 2.5 Flash (Latest Free)",workflow_imported:"Workflow imported",invalid_workflow_format:"Invalid workflow file format",file_parse_failed:"File parsing failed",workflow_name:"Workflow Name",enter_workflow_name:"Enter workflow name",cancel:"Cancel",save:"Save",asset_library:"Asset Library",manage_creative_assets:"Manage and use your creative assets",search_prompts:"Search prompts...",images:"Images",text:"Text",videos:"Videos",workflows:"Workflows",characters:"Characters",recent:"Recent",favorites:"Favorites",large:"Large",small:"Small",no_assets_found:"No assets found",try_adjust_filters:"Try adjusting filters or searching for other keywords",inspiration_library:"Inspiration Library",explore_prompts:"Explore curated prompts and creative inspiration",people:"People",scenes:"Scenes",styles:"Styles",tech:"Tech",no_workflow_templates:"No workflow templates found",try_other_category:"Try selecting another category to see more workflow templates",import_workflow:"Import Workflow",no_prompt_presets:"No prompt presets found",workflow_import_success:"Workflow imported successfully",canvas_created:"New canvas created with prompt set",canvas_create_failed:"Failed to create new canvas",workflow_template_imported:"Workflow template imported",workflow_import_failed:"Failed to import workflow",prompt_applied:"Prompt applied",prompt_apply_failed:"Failed to apply prompt",portrait:"Portrait",product_photography:"Product Photography",landscape_photography:"Landscape Photography",fashion_photography:"Fashion Photography","3d_render":"3D Render",abstract_art:"Abstract Art",switch_to_english:"Switch to English",switch_to_chinese:"Switch to Chinese",configure_api_key:"Configure API Key",edit:"Edit",edit_workflow:"Edit workflow",delete:"Delete",delete_workflow:"Delete workflow",random_seed:"Random Seed",no_preset_added:"No Preset Added",image_n:"Image",size:"Size",clarity:"Clarity",sequential_mode:"Sequential Mode",prompt_consistency:"Prompt Consistency",image:"Image",select_lora:"Select LoRA",lora_strength:"Strength",at_least_one_image:"At least one image input required",preset_applied:"Preset applied",enter_prompt_or_connect:"Please enter a prompt or connect an image",generation_complete_saved:"Generation complete! Result saved to assets",generation_failed_no_data:"Generation failed: No valid image data returned",generation_failed:"Generation failed",no_prompt:"No prompt",generation_result:"Generation Result",single_image:"Single",group_image:"Group",preset_image_reverse:"Image Reverse",preset_switch_view:"Switch Character View",preset_arch_to_model:"Architecture to Model",preset_combine_objects:"Combine Objects",preset_hd_enhance:"HD Enhancement",preset_to_lineart:"Image to Lineart",preset_color_with_palette:"Color with Palette",preset_character_set:"Generate Character Set",preset_virtual_real:"Virtual/Real Blend",preset_anime_to_real:"Anime to Real",preset_pose_ref:"Pose Reference",preset_to_figure:"Image to Figure",preset_to_funko:"Image to Funko Pop",preset_to_lego:"Image to Lego",preset_to_barbie:"Image to Barbie",preset_to_gundam:"Anything to Gundam",preset_cyber_baby:"Cyber Baby",preset_product_render:"Product Design to Render",preset_pro_photo:"Professional Photo",preset_light_ref:"Light Reference",preset_paint_process:"Generate Painting Process",preset_style_to_real:"Any Style to Realistic",preset_to_pendant:"Image to Pendant",preset_effect_stack:"Effect Stack",preset_product_pack:"Product Packaging",preset_virtual_makeup:"Virtual Makeup",preset_expression_ref:"Expression Reference",api_key_saved:"API key saved and validated!",skip_node:"Skip Node",image_caption:"Image Caption",image_uploaded:"Image Uploaded",delete_node:"Delete Node",subject_restore:"Subject Feature Restoration",style_replicate:"Style Composition Replication",subject:"Subject",style:"Style",reference_image_upload_success:"Reference image uploaded successfully!",please_upload_reference:"Please upload a reference image",processing_subject:"Processing subject features...",processing_style:"Processing style composition...",processing:"Processing...",start_restore:"Start Restoration",start_replicate:"Start Replication",error_api_key_missing:"Please configure Gemini API Key first",error_api_key_missing_desc:"Click the settings icon in the top right to configure your API Key",error_ark_api_key_missing:"Please configure Ark API Key first",error_ark_api_key_missing_desc:"Click the settings icon in the top right to configure your Ark API Key",error_daily_quota_exceeded:"Daily free quota for this model has been exhausted",error_upload_image_first:"Please upload an image first",error_enter_prompt:"Please enter a prompt",success_generation_complete:"Generation complete!",success_image_selected:"Image selected",success_image_downloaded:"Image downloaded!",success_workflow_downloaded:"Workflow downloaded to local",success_workflow_saved:"Workflow saved to assets",success_canvas_created:"New canvas created with prompt set",info_optimizing_text:"Optimizing text...",info_enter_text_first:"Please enter text before optimizing",info_api_key_required:"API Key required to optimize",info_using_mock:"Using mock image generation...",info_generating_google:"Generating image with Google AI...",info_api_busy:"API busy, retrying in",info_seconds:"seconds...",action_undo:"Undo",action_redo:"Redo",action_clear_canvas:"Clear Canvas",action_clear_canvas_confirm:"Are you sure you want to clear the canvas?",action_resize:"Resize",action_skip_node:"Skip Node",action_delete_node:"Delete Node",action_more_options:"More Options",action_optimize_text:"One-click Optimize Text",action_create_character:"Create Character",action_create_character_dev:"Create character feature in development...",label_character:"Character",label_default_character:"Doubao Sister",label_workflow:"Workflow",label_imported_workflow:"Imported Workflow",label_preset:"Preset",label_no_preset:"No Preset Added",label_image_input:"Image input",label_image_editor:"Image Editor",label_preview:"Preview",api_key_dialog_title:"Configure API Key",api_key_dialog_desc:"Enter your API key for the selected model. Your key is stored locally and never sent to our servers.",api_key_dialog_model:"Model",api_key_dialog_key:"API Key",api_key_dialog_placeholder_gemini:"AIza...",api_key_dialog_placeholder_ark:"f424b14b-d977-4266-a21c-769ca254e17a",api_key_dialog_get_key:"Get API key from Google AI Studio",api_key_dialog_use_default:"Use Default",api_key_dialog_cancel:"Cancel",api_key_dialog_save_test:"Save & Test",api_key_validated:"API Key validated successfully!",api_key_quota_exceeded:"API Key saved, but quota is currently exceeded.",api_key_invalid:"Invalid API key",api_key_using_default:"Using default API key",local_server_offline:"Local server offline, please start Z-Image service",local_server_online:"Local server online",local_model_unavailable:"Local model unavailable",error_local_connection:"Cannot connect to local server",error_local_timeout:"Local server response timeout",error_gpu_memory:"GPU memory insufficient, please reduce image size",error_model_loading:"Model loading, please wait",loading_zimage_model:"Loading Z-Image model...",connecting_server:"Connecting to server...",loading_model:"Loading model...",submitting_workflow:"Submitting workflow...",generating:"Generating",executing_node:"Executing node",complete:"Complete!",nav_input:"Input",nav_output:"Output",nav_text:"Text",nav_image:"Image",nav_video:"Video",nav_text_preview:"Text Preview",nav_image_preview:"Image Preview",nav_video_preview:"Video Preview",nav_processing:"Processing",nav_image_editor:"Image Editor",nav_image_reconstruction:"Image Reconstruction",nav_video_production:"Video Production",nav_preset:"Preset"}},PE=({children:e})=>{const[t,n]=b.useState(()=>localStorage.getItem(At.LANGUAGE)||"zh");b.useEffect(()=>{localStorage.setItem(At.LANGUAGE,t)},[t]);const r=o=>EE[t][o]||o;return l.jsx(Z_.Provider,{value:{language:t,setLanguage:n,t:r},children:e})},rn=()=>{const e=b.useContext(Z_);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e};function IE({sourceNodeId:e,onClose:t}){const{addConnectedNode:n}=jt(),{t:r}=rn(),o=[{id:"imageInput",type:"imageInput",labelKey:"image_input",icon:l.jsxs("svg",{className:"size-[14.4px]",fill:"none",viewBox:"0 0 15 15",children:[l.jsx("path",{clipRule:"evenodd",d:Jn.p16ed3d80,fill:"var(--foreground)",fillRule:"evenodd"}),l.jsx("path",{d:Jn.pe3a2d00,stroke:"var(--foreground)",strokeWidth:"1.5"}),l.jsx("path",{d:Jn.p20d5dc80,fill:"var(--foreground)",stroke:"var(--foreground)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"0.9"})]})},{id:"imageEditor",type:"imageEditor",labelKey:"image_edit",icon:l.jsxs("svg",{className:"size-[14.4px]",fill:"none",viewBox:"0 0 15 15",children:[l.jsx("path",{clipRule:"evenodd",d:Jn.p16ed3d80,fill:"var(--foreground)",fillRule:"evenodd"}),l.jsx("path",{d:Jn.pe3a2d00,stroke:"var(--foreground)",strokeWidth:"1.5"}),l.jsx("path",{d:Jn.p20d5dc80,fill:"var(--foreground)",stroke:"var(--foreground)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"0.9"})]})},{id:"imageCaption",type:"imageCaption",labelKey:"image_caption",icon:l.jsxs("svg",{className:"size-[14.4px]",fill:"none",viewBox:"0 0 15 15",children:[l.jsx("path",{clipRule:"evenodd",d:Jn.p16ed3d80,fill:"var(--foreground)",fillRule:"evenodd"}),l.jsx("path",{d:Jn.pe3a2d00,stroke:"var(--foreground)",strokeWidth:"1.5"}),l.jsx("path",{d:Jn.p20d5dc80,fill:"var(--foreground)",stroke:"var(--foreground)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"0.9"})]})},{id:"preview",type:"preview",labelKey:"preview",icon:l.jsxs("svg",{className:"size-[14.4px]",fill:"none",viewBox:"0 0 15 15",children:[l.jsx("path",{clipRule:"evenodd",d:Jn.p16ed3d80,fill:"var(--foreground)",fillRule:"evenodd"}),l.jsx("path",{d:Jn.pe3a2d00,stroke:"var(--foreground)",strokeWidth:"1.5"}),l.jsx("path",{d:Jn.p20d5dc80,fill:"var(--foreground)",stroke:"var(--foreground)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"0.9"})]})}],a=c=>{n(e,c),t()};return l.jsxs("div",{className:"bg-card box-border flex flex-col gap-[8px] items-start overflow-visible p-[8px] rounded-[16px] shrink-0 w-[180px] border border-border",onMouseLeave:t,children:[l.jsx("div",{"aria-hidden":"true",className:"absolute border border-border border-solid inset-0 pointer-events-none rounded-[16px]"}),l.jsx("div",{className:"box-border flex items-center justify-center px-[8px] py-[4px] shrink-0",children:l.jsx("p",{className:"opacity-40",children:"Editor"})}),l.jsx("div",{className:"flex flex-col gap-[4px] items-start shrink-0 w-full",children:l.jsx("button",{onClick:()=>a("imageEditor"),className:"h-[32px] rounded-[30px] shrink-0 w-full hover:bg-secondary transition-colors",children:l.jsx("div",{className:"flex items-center justify-center size-full",children:l.jsxs("div",{className:"box-border flex gap-[6px] h-[32px] items-center justify-center px-[10px] py-[4px] w-full",children:[l.jsx("div",{className:"flex items-center justify-center shrink-0 size-[16px]",children:o[1].icon}),l.jsx("div",{className:"basis-0 flex flex-col grow justify-center leading-[0] min-h-px min-w-px shrink-0",children:l.jsx("p",{className:"leading-[normal]",children:r("image_edit")})})]})})})}),l.jsx("div",{className:"flex flex-col gap-[4px] items-start shrink-0 w-full",children:l.jsx("button",{onClick:()=>a("preview"),className:"h-[32px] rounded-[30px] shrink-0 w-full hover:bg-secondary transition-colors",children:l.jsx("div",{className:"flex items-center justify-center size-full",children:l.jsxs("div",{className:"box-border flex gap-[6px] h-[32px] items-center justify-center px-[10px] py-[4px] w-full",children:[l.jsx("div",{className:"flex items-center justify-center shrink-0 size-[16px]",children:o[2].icon}),l.jsx("div",{className:"basis-0 flex flex-col grow justify-center leading-[0] min-h-px min-w-px shrink-0",children:l.jsx("p",{className:"leading-[normal]",children:r("video_production")})})]})})})}),l.jsx("div",{className:"h-0 relative shrink-0 w-full",children:l.jsx("div",{className:"absolute bottom-[-0.5px] left-0 right-0 top-[-0.5px]",children:l.jsx("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 164 2",children:l.jsx("path",{d:"M10 1H154",stroke:"var(--border)"})})})}),l.jsx("div",{className:"box-border flex items-center justify-center px-[8px] py-[4px] shrink-0",children:l.jsx("p",{className:"opacity-40",children:"Output"})}),l.jsx("div",{className:"flex flex-col gap-[4px] items-start shrink-0 w-full",children:l.jsx("button",{onClick:()=>a("preview"),className:"h-[32px] rounded-[30px] shrink-0 w-full hover:bg-secondary transition-colors",children:l.jsx("div",{className:"flex items-center justify-center size-full",children:l.jsxs("div",{className:"box-border flex gap-[6px] h-[32px] items-center justify-center px-[10px] py-[4px] w-full",children:[l.jsx("div",{className:"flex items-center justify-center shrink-0 size-[16px]",children:o[2].icon}),l.jsx("div",{className:"basis-0 flex flex-col grow justify-center leading-[0] min-h-px min-w-px shrink-0",children:l.jsx("p",{className:"leading-[normal]",children:r("image_preview")})})]})})})})]})}function Ag({sourceNodeId:e,sourceHandlePosition:t}){const[n,r]=b.useState(!1),[o,a]=b.useState(!1);return l.jsxs("div",{className:"absolute -right-[56px] top-1/2 -translate-y-1/2 z-20",children:[l.jsx("button",{onMouseEnter:()=>{r(!0),a(!0)},onMouseLeave:()=>{r(!1)},className:`content-stretch flex items-center justify-center size-[24px] rounded-full transition-all ${n||o?"bg-primary text-primary-foreground scale-110":"bg-card text-foreground border border-border"}`,children:l.jsx("div",{className:"relative shrink-0 size-[12px]",children:l.jsxs("svg",{className:"block size-full",fill:"none",viewBox:"0 0 12 12",children:[l.jsx("path",{d:"M2.5 6H9.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M6 2.5V9.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]})})}),o&&l.jsx("div",{className:"absolute left-full top-1/2 -translate-y-1/2 ml-2",children:l.jsx(IE,{sourceNodeId:e,onClose:()=>a(!1)})})]})}const zr={p192c33c0:"M0.750005 4.94959L4.11337 1.24988",p1c6fa900:"M5.19971 7.76317C5.19971 8.17739 5.53549 8.51317 5.94971 8.51317C6.36392 8.51317 6.69971 8.17739 6.69971 7.76317H5.94971H5.19971ZM5.94971 1.26317H5.19971V7.76317H5.94971H6.69971V1.26317H5.94971Z",p2025da80:"M3.66667 8.66667C4.03486 8.66667 4.33333 8.36819 4.33333 8C4.33333 7.63181 4.03486 7.33333 3.66667 7.33333C3.29848 7.33333 3 7.63181 3 8C3 8.36819 3.29848 8.66667 3.66667 8.66667Z",p283a4110:"M0.750005 0.75L4.75001 0.75V4.75",p36e45a00:"M8 8.66667C8.36819 8.66667 8.66667 8.36819 8.66667 8C8.66667 7.63181 8.36819 7.33333 8 7.33333C7.63181 7.33333 7.33333 7.63181 7.33333 8C7.33333 8.36819 7.63181 8.66667 8 8.66667Z",p39c9bf80:"M12.3333 8.66667C12.7015 8.66667 13 8.36819 13 8C13 7.63181 12.7015 7.33333 12.3333 7.33333C11.9651 7.33333 11.6667 7.63181 11.6667 8C11.6667 8.36819 11.9651 8.66667 12.3333 8.66667Z",p3b0ed200:"M1 5.69975L5.94975 0.75L10.8995 5.69975",pc502b80:"M2.25 4.75V11.75C2.25 12.3023 2.69772 12.75 3.25 12.75H10.25C10.8023 12.75 11.25 12.3023 11.25 11.75V4.75"};function rf({nodeId:e,onResize:t,onSkip:n,onDelete:r,onMore:o,className:a=""}){const{deleteNode:c}=jt(),{t:u}=rn(),[p,f]=b.useState(!1),h=()=>{r?r():c(e)},m=()=>{n?n():console.log("Skip node:",e)},x=()=>{t?t():console.log("Resize node:",e)},y=()=>{o?o():f(!p)};return l.jsxs("div",{className:`relative ${a}`,children:[l.jsxs("div",{className:"backdrop-blur-[8px] bg-card flex gap-[8px] h-[32px] items-center px-[12px] rounded-[16px] border border-border",children:[l.jsx("button",{onClick:x,className:"flex items-center justify-center p-[5px] rounded-[8px] shrink-0 size-[24px] hover:bg-secondary transition-colors","aria-label":"",title:"",children:l.jsx("div",{className:"flex items-center justify-center size-[16px]",children:l.jsxs("div",{className:"grid grid-cols-[max-content] grid-rows-[max-content] items-start justify-items-start leading-[0] relative",children:[l.jsx("div",{className:"col-1 flex h-[4.199px] items-center justify-center ml-0 mt-[6px] relative row-1 w-[4px]",children:l.jsx("div",{className:"flex-none rotate-[180deg]",children:l.jsx("div",{className:"h-[4.199px] relative w-[4px]",children:l.jsx("div",{className:"absolute inset-[-17.86%_-18.75%_-17.87%_-18.75%]",children:l.jsxs("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 5.50001 5.69959",children:[l.jsx("path",{d:zr.p283a4110,stroke:"var(--foreground)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),l.jsx("path",{d:zr.p192c33c0,stroke:"var(--foreground)",strokeLinecap:"round",strokeWidth:"1.5"})]})})})})}),l.jsx("div",{className:"col-1 h-[4.199px] ml-[6px] mt-0 relative row-1 w-[4px]",children:l.jsx("div",{className:"absolute inset-[-17.86%_-18.75%_-17.87%_-18.75%]",children:l.jsxs("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 5.50001 5.69959",children:[l.jsx("path",{d:zr.p283a4110,stroke:"var(--foreground)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),l.jsx("path",{d:zr.p192c33c0,stroke:"var(--foreground)",strokeLinecap:"round",strokeWidth:"1.5"})]})})})]})})}),l.jsx("button",{onClick:m,className:"flex items-center justify-center p-[5px] rounded-[8px] shrink-0 size-[24px] hover:bg-secondary transition-colors","aria-label":"",title:"",children:l.jsx("div",{className:"flex items-center justify-center size-[16px]",children:l.jsx("div",{className:"flex items-center justify-center relative shrink-0 size-[11.899px]",children:l.jsx("div",{className:"flex-none rotate-[90deg]",children:l.jsx("div",{className:"relative size-[11.899px]",children:l.jsx("div",{className:"absolute inset-[-6.31%_0_0_0]",children:l.jsxs("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 11.8995 12.6495",children:[l.jsx("path",{d:zr.p3b0ed200,stroke:"var(--foreground)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),l.jsx("path",{d:zr.p1c6fa900,fill:"var(--foreground)"}),l.jsx("circle",{cx:"5.94975",cy:"11.6495",fill:"var(--foreground)",r:"1"})]})})})})})})}),l.jsx("button",{onClick:h,className:"flex items-center justify-center p-[5px] rounded-[8px] shrink-0 size-[24px] hover:bg-secondary transition-colors","aria-label":"",title:"",children:l.jsx("div",{className:"flex h-[16px] items-center overflow-clip px-[3px] py-[2px]",children:l.jsx("div",{className:"h-[12px] relative shrink-0 w-[10px]",children:l.jsx("div",{className:"absolute inset-[-6.25%_-17.5%]",children:l.jsxs("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 13.5 13.5",children:[l.jsx("path",{d:"M5.25 0.75H8.25",stroke:"var(--foreground)",strokeLinecap:"round",strokeWidth:"1.5"}),l.jsx("path",{d:"M0.75 2.75H12.75",stroke:"var(--foreground)",strokeLinecap:"round",strokeWidth:"1.5"}),l.jsx("path",{d:zr.pc502b80,stroke:"var(--foreground)",strokeLinecap:"round",strokeWidth:"1.5"})]})})})})}),l.jsx("button",{onClick:y,className:"flex items-center justify-center p-[5px] rounded-[8px] shrink-0 size-[24px] hover:bg-secondary transition-colors","aria-label":"",title:"",children:l.jsx("div",{className:"relative shrink-0 size-[16px]",children:l.jsxs("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 16 16",children:[l.jsx("path",{d:zr.p2025da80,stroke:"var(--foreground)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.33333"}),l.jsx("path",{d:zr.p36e45a00,stroke:"var(--foreground)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.33333"}),l.jsx("path",{d:zr.p39c9bf80,stroke:"var(--foreground)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.33333"})]})})})]}),p&&l.jsxs("div",{className:"absolute top-[calc(100%+8px)] left-0 bg-card border border-border rounded-[16px] p-[8px] min-w-[160px] z-50",children:[l.jsx("button",{onClick:m,className:"w-full text-left px-[12px] py-[8px] rounded-[8px] hover:bg-secondary transition-colors",children:l.jsx("p",{className:"text-foreground text-[length:var(--text-p)]",children:u("skip_node")})}),l.jsx("button",{onClick:w=>{w.stopPropagation(),h()},className:"w-full text-left px-[12px] py-[8px] rounded-[8px] hover:bg-secondary transition-colors",children:l.jsx("p",{className:"text-foreground text-[length:var(--text-p)]",children:u("delete_node")})})]})]})}function My({data:e,id:t,selected:n}){const r=b.useRef(null),{images:o,setImage:a}=jt(),{t:c}=rn(),u=o[t],p=e?.image,f=u||p,h=!!f,m=y=>{const w=y.target.files?.[0];if(w){const v=new FileReader;v.onload=C=>{const k=C.target?.result;a(t,k)},v.readAsDataURL(w)}},x=()=>{r.current?.click()};return l.jsxs(l.Fragment,{children:[l.jsx(us,{color:"transparent",handleClassName:"opacity-0 hover:opacity-100 transition-opacity",handleStyle:{width:8,height:8,borderRadius:2,border:"1px solid var(--primary)",backgroundColor:"var(--background)"},lineStyle:{borderWidth:1,borderColor:"var(--primary)",opacity:.5},isVisible:n,minWidth:240,minHeight:200}),l.jsxs("div",{className:"flex gap-[10px] items-center relative h-full w-full",children:[n&&l.jsx("div",{className:"absolute top-[-40px] left-1/2 -translate-x-1/2 z-50",children:l.jsx(rf,{nodeId:t})}),l.jsxs("div",{className:"backdrop-blur-[10px] bg-card box-border flex flex-col gap-[2px] items-start p-[4px] rounded-[20px] border border-border transition-all duration-300 group relative w-full h-full min-w-[240px] min-h-[200px]",children:[l.jsx("div",{className:"basis-0 flex flex-col grow items-start min-h-px min-w-px relative shrink-0 w-full",children:h?l.jsx("div",{className:"basis-0 flex flex-col grow items-start min-h-px min-w-px overflow-clip relative rounded-[16px] shrink-0 w-full group",children:l.jsxs("div",{className:"basis-0 grow min-h-px min-w-px relative shrink-0 w-full",children:[l.jsx("img",{alt:"Image input",className:"absolute inset-0 max-w-none object-50%-50% object-cover pointer-events-none size-full",src:f}),l.jsx("button",{onClick:x,className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-black/30 backdrop-blur-sm",children:l.jsxs("div",{className:"flex items-center gap-[4px] bg-black/40 backdrop-blur-md rounded-full px-[16px] py-[8px]",children:[l.jsx("div",{className:"relative shrink-0 size-[20px]",children:l.jsxs("svg",{className:"block size-full",fill:"none",viewBox:"0 0 20 20",children:[l.jsx("path",{d:"M1.875 7.92507L11.625 12.4251",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),l.jsx("path",{d:"M11.1148 3.02238C12.0908 2.04497 13.6731 2.04451 14.649 3.02042L16.7262 5.09757C17.6937 6.06517 17.7034 7.63155 16.7476 8.61222L9.05428 16.5048C8.4266 17.1488 7.56616 17.5127 6.66756 17.5126H4.37362C3.18994 17.5123 2.24473 16.5253 2.29452 15.3417L2.39315 13.0009C2.42836 12.166 2.7764 11.3745 3.36678 10.7831L11.1148 3.02238ZM17.0963 15.786C17.5562 15.786 17.9291 16.1588 17.9293 16.6191C17.9293 17.0795 17.5563 17.453 17.0963 17.453H11.9947C11.5349 17.4528 11.1627 17.0793 11.1627 16.6191C11.1629 16.159 11.535 15.7863 11.9947 15.786H17.0963ZM4.54452 11.9609C4.24935 12.2566 4.07575 12.6528 4.05819 13.0702L3.95955 15.411C3.9496 15.6478 4.1388 15.8446 4.37557 15.8446L6.66952 15.8456C7.11864 15.8455 7.54913 15.6636 7.86287 15.3417L13.1627 9.90421L9.87752 6.61906L4.54452 11.9609ZM13.4722 4.19913C13.1469 3.87382 12.6179 3.8743 12.2926 4.20011L11.0543 5.43937L14.3258 8.71085L15.5562 7.44913C15.8746 7.12222 15.8709 6.59874 15.5484 6.27628L13.4722 4.19913Z",fill:"white"})]})}),l.jsx("span",{className:"text-white font-medium text-sm",children:c("replace_image")})]})})]})}):l.jsx("div",{className:"basis-0 bg-secondary flex flex-col grow items-start min-h-px min-w-px relative rounded-[16px] shrink-0 w-full",children:l.jsxs("div",{className:"basis-0 flex flex-col grow items-start min-h-px min-w-px relative shrink-0 w-full",children:[l.jsx("div",{className:"absolute h-[80px] right-[-5px] top-[calc(50%-0.36px)] translate-y-[-50%] w-[2px]",style:{background:"linear-gradient(to bottom, transparent 0%, var(--card) 50%, transparent 100%)"}}),l.jsx("div",{className:"basis-0 flex grow items-start justify-center min-h-[157.371px] min-w-[157.371px] overflow-clip relative rounded-[16px] shrink-0 w-full",children:l.jsxs("button",{onClick:x,className:"absolute flex flex-col gap-[10px] items-center justify-center left-1/2 top-[calc(50%+0.64px)] translate-x-[-50%] translate-y-[-50%] cursor-pointer hover:opacity-70 transition-opacity",children:[l.jsx("div",{className:"relative shrink-0 size-[32px]",children:l.jsxs("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 32 32",children:[l.jsx("path",{d:xl.p45b6000,fill:"var(--foreground)"}),l.jsx("path",{d:xl.p3f4a3300,stroke:"var(--foreground)",strokeLinecap:"round",strokeWidth:"3"})]})}),l.jsx("div",{className:"flex flex-col justify-center leading-[0] relative shrink-0 text-center text-nowrap",children:l.jsx("p",{className:"leading-[22.499px] underline whitespace-pre decoration-solid underline-offset-2 text-foreground font-sans",children:c("upload_image")})})]})})]})})}),l.jsx("div",{className:"relative shrink-0 w-full",children:l.jsx("div",{className:"flex flex-row items-end size-full",children:l.jsxs("div",{className:"box-border flex gap-[4px] items-end px-[8px] py-[4px] relative w-full",children:[l.jsxs("div",{className:"basis-0 flex gap-[8px] grow h-[24.72px] items-center min-h-px min-w-px overflow-clip relative shrink-0",children:[l.jsx("div",{className:"flex gap-[10px] items-center justify-center relative shrink-0 size-[20px]",children:l.jsx("div",{className:"relative shrink-0 size-[18px]",children:l.jsxs("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 18 18",children:[l.jsx("path",{clipRule:"evenodd",d:xl.p9a6a300,fill:"var(--foreground)",fillRule:"evenodd"}),l.jsx("path",{d:xl.p3c3abd80,stroke:"var(--foreground)",strokeWidth:"1.125"}),l.jsx("path",{d:xl.p22723b00,fill:"var(--foreground)",stroke:"var(--foreground)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.125"})]})})}),l.jsx("div",{className:"flex flex-col justify-center leading-[0] relative shrink-0 text-nowrap",children:l.jsx("p",{className:"leading-[22.499px] whitespace-pre text-[length:var(--text-h2)] font-bold text-foreground font-sans",children:c("image_input")})})]}),l.jsx("div",{className:"flex gap-[4px] items-center relative shrink-0",children:l.jsx("div",{className:"flex flex-col justify-center leading-[0] relative shrink-0 text-nowrap",children:l.jsx("p",{className:"leading-[22.499px] whitespace-pre text-muted-foreground text-[length:var(--text-h3)] font-sans",children:c("images")})})})]})})}),l.jsxs("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 flex items-center opacity-0 group-hover:opacity-100 transition-opacity translate-x-[50%] z-50",children:[l.jsx("div",{className:"h-[80px] w-px",style:{background:"linear-gradient(to bottom, transparent 0%, var(--card) 50%, transparent 100%)"}}),l.jsx(Ag,{sourceNodeId:t,sourceHandlePosition:{x:0,y:0}})]}),l.jsx("input",{ref:r,type:"file",accept:"image/*",onChange:m,className:"hidden"}),l.jsx(Kt,{type:"source",position:Ce.Right,className:"!w-[16px] !h-[16px] !bg-primary !border-[1.5px] !border-card !right-[-12px] !rounded-full"})]})]})]})}class ME{options;ws=null;eventListeners={};reconnectAttempts=0;maxReconnectAttempts=3;reconnectDelay=1e3;isConnecting=!1;clientId;constructor(t){this.options=t,this.clientId=Math.random().toString(36).substring(2,15)}connect(){return new Promise((t,n)=>{if(this.isConnecting){n(new Error("Already connecting"));return}if(this.ws&&this.ws.readyState===WebSocket.OPEN){t();return}this.isConnecting=!0;try{const r=`${this.options.wsUrl}?clientId=${this.clientId}`;this.ws=new WebSocket(r),this.ws.onopen=()=>{this.isConnecting=!1,this.reconnectAttempts=0,t()},this.ws.onmessage=o=>{try{const a=JSON.parse(o.data);this.emitEvent(a.type,a)}catch(a){console.error("Error parsing WebSocket message:",a)}},this.ws.onclose=()=>{this.isConnecting=!1,this.attemptReconnect()},this.ws.onerror=o=>{this.isConnecting=!1,n(o)}}catch(r){this.isConnecting=!1,n(r)}})}disconnect(){this.ws&&(this.ws.close(),this.ws=null),this.eventListeners={}}isConnected(){return this.ws!==null&&this.ws.readyState===WebSocket.OPEN}on(t,n){this.eventListeners[t]||(this.eventListeners[t]=[]),this.eventListeners[t].push(n)}off(t,n){this.eventListeners[t]&&(this.eventListeners[t]=this.eventListeners[t].filter(r=>r!==n))}emitEvent(t,n){this.eventListeners[t]&&this.eventListeners[t].forEach(r=>{try{r(n)}catch(o){console.error("Error in event listener:",o)}})}attemptReconnect(){this.reconnectAttempts<this.maxReconnectAttempts&&(this.reconnectAttempts++,setTimeout(()=>{this.connect().catch(()=>{console.error(`Reconnect attempt ${this.reconnectAttempts} failed`)})},this.reconnectDelay*this.reconnectAttempts))}async fetchApi(t,n){const r=`${this.options.baseUrl}${t}`,o=new AbortController,a=setTimeout(()=>o.abort(),this.options.timeout||3e4);try{const c=await fetch(r,{...n,signal:o.signal,headers:{"Content-Type":"application/json",...n?.headers}});if(clearTimeout(a),!c.ok)throw new Error(`API request failed: ${c.status} ${c.statusText}`);return c.status===204?{}:await c.json()}catch(c){throw clearTimeout(a),c}}async getModels(){const t=await this.fetchApi("/object_info"),n={};if(t.LoraLoader?.input?.required?.lora_name){const r=t.LoraLoader.input.required.lora_name[0];Array.isArray(r)&&(n.loras=r.map(o=>({title:o,model_name:o})))}if(t.CheckpointLoaderSimple?.input?.required?.ckpt_name){const r=t.CheckpointLoaderSimple.input.required.ckpt_name[0];Array.isArray(r)&&(n.checkpoints=r.map(o=>({title:o,model_name:o})))}if(t.VAELoader?.input?.required?.vae_name){const r=t.VAELoader.input.required.vae_name[0];Array.isArray(r)&&(n.vae=r.map(o=>({title:o,model_name:o})))}if(t.CLIPLoader?.input?.required?.clip_name){const r=t.CLIPLoader.input.required.clip_name[0];Array.isArray(r)&&(n.clip=r.map(o=>({title:o,model_name:o})))}return n}async getQueue(){return this.fetchApi("/queue")}async queuePrompt(t){return(await this.fetchApi("/prompt",{method:"POST",body:JSON.stringify({prompt:t,client_id:this.clientId})})).prompt_id}async interrupt(){await this.fetchApi("/interrupt",{method:"POST"})}async getHistory(t){const n=t?`/history/${t}`:"/history";return this.fetchApi(n)}async getSystemStats(){return this.fetchApi("/system_stats")}}function X_(e){return new ME(e)}const q_=b.createContext(null);function LE({children:e}){const t=b.useRef(null),[n,r]=b.useState(()=>{const j=localStorage.getItem(At.LOCAL_SERVER_URL);if(j&&j.includes("127.0.0.1")){const P=j.replace("127.0.0.1","localhost");return localStorage.setItem(At.LOCAL_SERVER_URL,P),P}return j||"http://localhost:8188"}),[o,a]=b.useState({isConnected:!1,isLoading:!1,error:null,models:{},queue:null,currentPromptId:null,progress:null,systemStats:null}),c=b.useCallback(j=>{a(P=>({...P,...j}))},[]),u=b.useCallback(j=>{switch(j.type){case"status":c({queue:j.data});break;case"execution_start":c({currentPromptId:j.prompt_id||null,progress:{node:null,current:0,total:0}});break;case"executing":c({progress:{node:j.node||null,current:o.progress?.current||0,total:o.progress?.total||0}});break;case"progress":c({progress:{node:o.progress?.node||null,current:j.current||0,total:j.total||0}});break;case"executed":case"execution_error":c({currentPromptId:null,progress:null});break}},[o.progress,c]),p=b.useCallback(j=>{r(j),localStorage.setItem(At.LOCAL_SERVER_URL,j),t.current&&(t.current.disconnect(),t.current=null,c({isConnected:!1}))},[c]),f=b.useCallback(async()=>{if(!t.current?.isConnected()){c({isLoading:!0,error:null});try{const j=n.replace("http","ws")+"/ws",P=X_({baseUrl:n,wsUrl:j,timeout:3e4});P.on("progress",u),P.on("executing",u),P.on("executed",u),P.on("execution_start",u),P.on("execution_error",u),P.on("status",u),await P.connect(),t.current=P,c({isConnected:!0,isLoading:!1});const L=await P.getModels();c({models:L})}catch(j){c({isLoading:!1,error:j instanceof Error?j.message:"Failed to connect to ComfyUI"})}}},[n,u,c]);b.useEffect(()=>{f().catch(j=>{console.error("Auto-connect failed:",j)})},[f]);const h=b.useCallback(()=>{t.current&&(t.current.disconnect(),t.current=null),c({isConnected:!1,models:{},queue:null,currentPromptId:null,progress:null,systemStats:null})},[c]),m=b.useCallback(async()=>{if(t.current)try{const j=await t.current.getModels();c({models:j})}catch(j){console.error("Failed to refresh models:",j)}},[c]),x=b.useCallback(async()=>{if(t.current)try{const j=await t.current.getQueue();c({queue:j})}catch(j){console.error("Failed to refresh queue:",j)}},[c]),y=b.useCallback(async()=>{if(t.current)try{const j=await t.current.getSystemStats();c({systemStats:j})}catch(j){console.error("Failed to refresh system stats:",j)}},[c]),w=b.useCallback(async j=>{if(!t.current)throw new Error("Not connected to ComfyUI");return await t.current.queuePrompt(j)},[]),v=b.useCallback(async()=>{t.current&&await t.current.interrupt()},[]),C=b.useCallback(async j=>{if(!t.current)throw new Error("Not connected to ComfyUI");return await t.current.getHistory(j)},[]),k=b.useCallback((j,P)=>{t.current&&t.current.on(j,P)},[]),E=b.useCallback((j,P)=>{t.current&&t.current.off(j,P)},[]),N={...o,client:t.current,connect:f,disconnect:h,refreshModels:m,refreshQueue:x,refreshSystemStats:y,queuePrompt:w,interrupt:v,getHistory:C,updateServerUrl:p,serverUrl:n,on:k,off:E};return l.jsx(q_.Provider,{value:N,children:e})}function zg(){const e=b.useContext(q_);if(!e)throw new Error("useComfyUI must be used within a ComfyUIProvider");return e}function TE(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const RE=e=>{switch(e){case"success":return DE;case"info":return FE;case"warning":return OE;case"error":return $E;default:return null}},AE=Array(12).fill(0),zE=({visible:e,className:t})=>ge.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},ge.createElement("div",{className:"sonner-spinner"},AE.map((n,r)=>ge.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),DE=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ge.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),OE=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ge.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),FE=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ge.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),$E=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ge.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),BE=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ge.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ge.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),VE=()=>{const[e,t]=ge.useState(document.hidden);return ge.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let Tm=1;class HE{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...o}=t,a=typeof t?.id=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:Tm++,c=this.toasts.find(p=>p.id===a),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),c?this.toasts=this.toasts.map(p=>p.id===a?(this.publish({...p,...t,id:a,title:r}),{...p,...t,id:a,dismissible:u,title:r}):p):this.addToast({title:r,...o,dismissible:u,id:a}),a},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const o=Promise.resolve(t instanceof Function?t():t);let a=r!==void 0,c;const u=o.then(async f=>{if(c=["resolve",f],ge.isValidElement(f))a=!1,this.create({id:r,type:"default",message:f});else if(UE(f)&&!f.ok){a=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${f.status}`):n.error,x=typeof n.description=="function"?await n.description(`HTTP error! status: ${f.status}`):n.description,w=typeof m=="object"&&!ge.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:x,...w})}else if(f instanceof Error){a=!1;const m=typeof n.error=="function"?await n.error(f):n.error,x=typeof n.description=="function"?await n.description(f):n.description,w=typeof m=="object"&&!ge.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:x,...w})}else if(n.success!==void 0){a=!1;const m=typeof n.success=="function"?await n.success(f):n.success,x=typeof n.description=="function"?await n.description(f):n.description,w=typeof m=="object"&&!ge.isValidElement(m)?m:{message:m};this.create({id:r,type:"success",description:x,...w})}}).catch(async f=>{if(c=["reject",f],n.error!==void 0){a=!1;const h=typeof n.error=="function"?await n.error(f):n.error,m=typeof n.description=="function"?await n.description(f):n.description,y=typeof h=="object"&&!ge.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:m,...y})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),p=()=>new Promise((f,h)=>u.then(()=>c[0]==="reject"?h(c[1]):f(c[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:p}:Object.assign(r,{unwrap:p})},this.custom=(t,n)=>{const r=n?.id||Tm++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const wn=new HE,WE=(e,t)=>{const n=t?.id||Tm++;return wn.addToast({title:e,...t,id:n}),n},UE=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",GE=WE,YE=()=>wn.toasts,KE=()=>wn.getActiveToasts(),ve=Object.assign(GE,{success:wn.success,info:wn.info,warning:wn.warning,error:wn.error,custom:wn.custom,message:wn.message,promise:wn.promise,dismiss:wn.dismiss,loading:wn.loading},{getHistory:YE,getToasts:KE});TE("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Du(e){return e.label!==void 0}const ZE=3,XE="24px",qE="16px",Ly=4e3,QE=356,JE=14,eP=45,tP=200;function Dr(...e){return e.filter(Boolean).join(" ")}function nP(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}const rP=e=>{var t,n,r,o,a,c,u,p,f;const{invert:h,toast:m,unstyled:x,interacting:y,setHeights:w,visibleToasts:v,heights:C,index:k,toasts:E,expanded:N,removeToast:j,defaultRichColors:P,closeButton:L,style:T,cancelButtonStyle:D,actionButtonStyle:$,className:Y="",descriptionClassName:G="",duration:V,position:W,gap:z,expandByDefault:M,classNames:F,icons:H,closeButtonAriaLabel:R="Close toast"}=e,[I,U]=ge.useState(null),[O,B]=ge.useState(null),[q,X]=ge.useState(!1),[ne,ie]=ge.useState(!1),[ee,J]=ge.useState(!1),[le,de]=ge.useState(!1),[me,te]=ge.useState(!1),[ae,fe]=ge.useState(0),[Le,Re]=ge.useState(0),ce=ge.useRef(m.duration||V||Ly),ye=ge.useRef(null),Ee=ge.useRef(null),qe=k===0,Ue=k+1<=v,_e=m.type,we=m.dismissible!==!1,zt=m.className||"",$e=m.descriptionClassName||"",Qe=ge.useMemo(()=>C.findIndex(Fe=>Fe.toastId===m.id)||0,[C,m.id]),Ht=ge.useMemo(()=>{var Fe;return(Fe=m.closeButton)!=null?Fe:L},[m.closeButton,L]),Pt=ge.useMemo(()=>m.duration||V||Ly,[m.duration,V]),Dt=ge.useRef(0),it=ge.useRef(0),It=ge.useRef(0),on=ge.useRef(null),[or,kr]=W.split("-"),Nr=ge.useMemo(()=>C.reduce((Fe,ut,_t)=>_t>=Qe?Fe:Fe+ut.height,0),[C,Qe]),dn=VE(),Sr=m.invert||h,eo=_e==="loading";it.current=ge.useMemo(()=>Qe*z+Nr,[Qe,Nr]),ge.useEffect(()=>{ce.current=Pt},[Pt]),ge.useEffect(()=>{X(!0)},[]),ge.useEffect(()=>{const Fe=Ee.current;if(Fe){const ut=Fe.getBoundingClientRect().height;return Re(ut),w(_t=>[{toastId:m.id,height:ut,position:m.position},..._t]),()=>w(_t=>_t.filter(Ot=>Ot.toastId!==m.id))}},[w,m.id]),ge.useLayoutEffect(()=>{if(!q)return;const Fe=Ee.current,ut=Fe.style.height;Fe.style.height="auto";const _t=Fe.getBoundingClientRect().height;Fe.style.height=ut,Re(_t),w(Ot=>Ot.find(xt=>xt.toastId===m.id)?Ot.map(xt=>xt.toastId===m.id?{...xt,height:_t}:xt):[{toastId:m.id,height:_t,position:m.position},...Ot])},[q,m.title,m.description,w,m.id,m.jsx,m.action,m.cancel]);const fn=ge.useCallback(()=>{ie(!0),fe(it.current),w(Fe=>Fe.filter(ut=>ut.toastId!==m.id)),setTimeout(()=>{j(m)},tP)},[m,j,w,it]);ge.useEffect(()=>{if(m.promise&&_e==="loading"||m.duration===1/0||m.type==="loading")return;let Fe;return N||y||dn?(()=>{if(It.current<Dt.current){const Ot=new Date().getTime()-Dt.current;ce.current=ce.current-Ot}It.current=new Date().getTime()})():(()=>{ce.current!==1/0&&(Dt.current=new Date().getTime(),Fe=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),fn()},ce.current))})(),()=>clearTimeout(Fe)},[N,y,m,_e,dn,fn]),ge.useEffect(()=>{m.delete&&(fn(),m.onDismiss==null||m.onDismiss.call(m,m))},[fn,m.delete]);function ys(){var Fe;if(H?.loading){var ut;return ge.createElement("div",{className:Dr(F?.loader,m==null||(ut=m.classNames)==null?void 0:ut.loader,"sonner-loader"),"data-visible":_e==="loading"},H.loading)}return ge.createElement(zE,{className:Dr(F?.loader,m==null||(Fe=m.classNames)==null?void 0:Fe.loader),visible:_e==="loading"})}const jr=m.icon||H?.[_e]||RE(_e);var sr,ws;return ge.createElement("li",{tabIndex:0,ref:Ee,className:Dr(Y,zt,F?.toast,m==null||(t=m.classNames)==null?void 0:t.toast,F?.default,F?.[_e],m==null||(n=m.classNames)==null?void 0:n[_e]),"data-sonner-toast":"","data-rich-colors":(sr=m.richColors)!=null?sr:P,"data-styled":!(m.jsx||m.unstyled||x),"data-mounted":q,"data-promise":!!m.promise,"data-swiped":me,"data-removed":ne,"data-visible":Ue,"data-y-position":or,"data-x-position":kr,"data-index":k,"data-front":qe,"data-swiping":ee,"data-dismissible":we,"data-type":_e,"data-invert":Sr,"data-swipe-out":le,"data-swipe-direction":O,"data-expanded":!!(N||M&&q),"data-testid":m.testId,style:{"--index":k,"--toasts-before":k,"--z-index":E.length-k,"--offset":`${ne?ae:it.current}px`,"--initial-height":M?"auto":`${Le}px`,...T,...m.style},onDragEnd:()=>{J(!1),U(null),on.current=null},onPointerDown:Fe=>{Fe.button!==2&&(eo||!we||(ye.current=new Date,fe(it.current),Fe.target.setPointerCapture(Fe.pointerId),Fe.target.tagName!=="BUTTON"&&(J(!0),on.current={x:Fe.clientX,y:Fe.clientY})))},onPointerUp:()=>{var Fe,ut,_t;if(le||!we)return;on.current=null;const Ot=Number(((Fe=Ee.current)==null?void 0:Fe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Er=Number(((ut=Ee.current)==null?void 0:ut.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),xt=new Date().getTime()-((_t=ye.current)==null?void 0:_t.getTime()),kt=I==="x"?Ot:Er,Pr=Math.abs(kt)/xt;if(Math.abs(kt)>=eP||Pr>.11){fe(it.current),m.onDismiss==null||m.onDismiss.call(m,m),B(I==="x"?Ot>0?"right":"left":Er>0?"down":"up"),fn(),de(!0);return}else{var Mt,sn;(Mt=Ee.current)==null||Mt.style.setProperty("--swipe-amount-x","0px"),(sn=Ee.current)==null||sn.style.setProperty("--swipe-amount-y","0px")}te(!1),J(!1),U(null)},onPointerMove:Fe=>{var ut,_t,Ot;if(!on.current||!we||((ut=window.getSelection())==null?void 0:ut.toString().length)>0)return;const xt=Fe.clientY-on.current.y,kt=Fe.clientX-on.current.x;var Pr;const Mt=(Pr=e.swipeDirections)!=null?Pr:nP(W);!I&&(Math.abs(kt)>1||Math.abs(xt)>1)&&U(Math.abs(kt)>Math.abs(xt)?"x":"y");let sn={x:0,y:0};const Ir=pn=>1/(1.5+Math.abs(pn)/20);if(I==="y"){if(Mt.includes("top")||Mt.includes("bottom"))if(Mt.includes("top")&&xt<0||Mt.includes("bottom")&&xt>0)sn.y=xt;else{const pn=xt*Ir(xt);sn.y=Math.abs(pn)<Math.abs(xt)?pn:xt}}else if(I==="x"&&(Mt.includes("left")||Mt.includes("right")))if(Mt.includes("left")&&kt<0||Mt.includes("right")&&kt>0)sn.x=kt;else{const pn=kt*Ir(kt);sn.x=Math.abs(pn)<Math.abs(kt)?pn:kt}(Math.abs(sn.x)>0||Math.abs(sn.y)>0)&&te(!0),(_t=Ee.current)==null||_t.style.setProperty("--swipe-amount-x",`${sn.x}px`),(Ot=Ee.current)==null||Ot.style.setProperty("--swipe-amount-y",`${sn.y}px`)}},Ht&&!m.jsx&&_e!=="loading"?ge.createElement("button",{"aria-label":R,"data-disabled":eo,"data-close-button":!0,onClick:eo||!we?()=>{}:()=>{fn(),m.onDismiss==null||m.onDismiss.call(m,m)},className:Dr(F?.closeButton,m==null||(r=m.classNames)==null?void 0:r.closeButton)},(ws=H?.close)!=null?ws:BE):null,(_e||m.icon||m.promise)&&m.icon!==null&&(H?.[_e]!==null||m.icon)?ge.createElement("div",{"data-icon":"",className:Dr(F?.icon,m==null||(o=m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||ys():null,m.type!=="loading"?jr:null):null,ge.createElement("div",{"data-content":"",className:Dr(F?.content,m==null||(a=m.classNames)==null?void 0:a.content)},ge.createElement("div",{"data-title":"",className:Dr(F?.title,m==null||(c=m.classNames)==null?void 0:c.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?ge.createElement("div",{"data-description":"",className:Dr(G,$e,F?.description,m==null||(u=m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),ge.isValidElement(m.cancel)?m.cancel:m.cancel&&Du(m.cancel)?ge.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||D,onClick:Fe=>{Du(m.cancel)&&we&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,Fe),fn())},className:Dr(F?.cancelButton,m==null||(p=m.classNames)==null?void 0:p.cancelButton)},m.cancel.label):null,ge.isValidElement(m.action)?m.action:m.action&&Du(m.action)?ge.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||$,onClick:Fe=>{Du(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,Fe),!Fe.defaultPrevented&&fn())},className:Dr(F?.actionButton,m==null||(f=m.classNames)==null?void 0:f.actionButton)},m.action.label):null)};function Ty(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function oP(e,t){const n={};return[e,t].forEach((r,o)=>{const a=o===1,c=a?"--mobile-offset":"--offset",u=a?qE:XE;function p(f){["top","right","bottom","left"].forEach(h=>{n[`${c}-${h}`]=typeof f=="number"?`${f}px`:f})}typeof r=="number"||typeof r=="string"?p(r):typeof r=="object"?["top","right","bottom","left"].forEach(f=>{r[f]===void 0?n[`${c}-${f}`]=u:n[`${c}-${f}`]=typeof r[f]=="number"?`${r[f]}px`:r[f]}):p(u)}),n}const sP=ge.forwardRef(function(t,n){const{id:r,invert:o,position:a="bottom-right",hotkey:c=["altKey","KeyT"],expand:u,closeButton:p,className:f,offset:h,mobileOffset:m,theme:x="light",richColors:y,duration:w,style:v,visibleToasts:C=ZE,toastOptions:k,dir:E=Ty(),gap:N=JE,icons:j,containerAriaLabel:P="Notifications"}=t,[L,T]=ge.useState([]),D=ge.useMemo(()=>r?L.filter(q=>q.toasterId===r):L.filter(q=>!q.toasterId),[L,r]),$=ge.useMemo(()=>Array.from(new Set([a].concat(D.filter(q=>q.position).map(q=>q.position)))),[D,a]),[Y,G]=ge.useState([]),[V,W]=ge.useState(!1),[z,M]=ge.useState(!1),[F,H]=ge.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),R=ge.useRef(null),I=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=ge.useRef(null),O=ge.useRef(!1),B=ge.useCallback(q=>{T(X=>{var ne;return(ne=X.find(ie=>ie.id===q.id))!=null&&ne.delete||wn.dismiss(q.id),X.filter(({id:ie})=>ie!==q.id)})},[]);return ge.useEffect(()=>wn.subscribe(q=>{if(q.dismiss){requestAnimationFrame(()=>{T(X=>X.map(ne=>ne.id===q.id?{...ne,delete:!0}:ne))});return}setTimeout(()=>{i_.flushSync(()=>{T(X=>{const ne=X.findIndex(ie=>ie.id===q.id);return ne!==-1?[...X.slice(0,ne),{...X[ne],...q},...X.slice(ne+1)]:[q,...X]})})})}),[L]),ge.useEffect(()=>{if(x!=="system"){H(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?H("dark"):H("light")),typeof window>"u")return;const q=window.matchMedia("(prefers-color-scheme: dark)");try{q.addEventListener("change",({matches:X})=>{H(X?"dark":"light")})}catch{q.addListener(({matches:ne})=>{try{H(ne?"dark":"light")}catch(ie){console.error(ie)}})}},[x]),ge.useEffect(()=>{L.length<=1&&W(!1)},[L]),ge.useEffect(()=>{const q=X=>{var ne;if(c.every(J=>X[J]||X.code===J)){var ee;W(!0),(ee=R.current)==null||ee.focus()}X.code==="Escape"&&(document.activeElement===R.current||(ne=R.current)!=null&&ne.contains(document.activeElement))&&W(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[c]),ge.useEffect(()=>{if(R.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,O.current=!1)}},[R.current]),ge.createElement("section",{ref:n,"aria-label":`${P} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},$.map((q,X)=>{var ne;const[ie,ee]=q.split("-");return D.length?ge.createElement("ol",{key:q,dir:E==="auto"?Ty():E,tabIndex:-1,ref:R,className:f,"data-sonner-toaster":!0,"data-sonner-theme":F,"data-y-position":ie,"data-x-position":ee,style:{"--front-toast-height":`${((ne=Y[0])==null?void 0:ne.height)||0}px`,"--width":`${QE}px`,"--gap":`${N}px`,...v,...oP(h,m)},onBlur:J=>{O.current&&!J.currentTarget.contains(J.relatedTarget)&&(O.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||O.current||(O.current=!0,U.current=J.relatedTarget)},onMouseEnter:()=>W(!0),onMouseMove:()=>W(!0),onMouseLeave:()=>{z||W(!1)},onDragEnd:()=>W(!1),onPointerDown:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},D.filter(J=>!J.position&&X===0||J.position===q).map((J,le)=>{var de,me;return ge.createElement(rP,{key:J.id,icons:j,index:le,toast:J,defaultRichColors:y,duration:(de=k?.duration)!=null?de:w,className:k?.className,descriptionClassName:k?.descriptionClassName,invert:o,visibleToasts:C,closeButton:(me=k?.closeButton)!=null?me:p,interacting:z,position:q,style:k?.style,unstyled:k?.unstyled,classNames:k?.classNames,cancelButtonStyle:k?.cancelButtonStyle,actionButtonStyle:k?.actionButtonStyle,closeButtonAriaLabel:k?.closeButtonAriaLabel,removeToast:B,toasts:D.filter(te=>te.position==J.position),heights:Y.filter(te=>te.position==J.position),setHeights:G,expandByDefault:u,gap:N,expanded:V,swipeDirections:t.swipeDirections})})):null}))}),Q_=b.createContext(void 0);function iP({children:e}){const[t,n]=b.useState(()=>{try{const f=localStorage.getItem(At.ASSETS);return f?JSON.parse(f):[]}catch(f){return console.error("Failed to load assets from localStorage:",f),[]}}),r=()=>{let f=0;for(let h in localStorage)localStorage.hasOwnProperty(h)&&(f+=localStorage[h].length+h.length);return f},o=f=>r()>zu.MAX_LOCALSTORAGE_SIZE*zu.CLEANUP_THRESHOLD||f.length>zu.MAX_COUNT?[...f].sort((x,y)=>y.timestamp-x.timestamp).slice(0,zu.MAX_COUNT):f;b.useEffect(()=>{const f=setTimeout(()=>{try{const h=o(t);if(h.length!==t.length){n(h),console.log(`Cleaned up old assets, keeping ${h.length} most recent`);return}localStorage.setItem(At.ASSETS,JSON.stringify(t)),console.log("Assets saved to localStorage successfully"),console.log(`Current assets count: ${t.length}`),console.log(`LocalStorage used: ${Math.round(r()/1024)} KB`)}catch(h){console.error("Failed to save assets to localStorage:",h.message);try{const m=o(t);localStorage.setItem(At.ASSETS,JSON.stringify(m)),n(m),console.log("Assets saved after cleanup")}catch(m){console.error("Failed to save assets even after cleanup:",m)}}},1500);return()=>clearTimeout(f)},[t]);const a=b.useCallback(f=>{try{const h={...f,id:`asset-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,date:new Date().toISOString().split("T")[0],timestamp:Date.now()};return console.log("Adding new asset:",h.title),console.log("Asset image URL length:",h.images[0]?.length||0),n(m=>[h,...m]),h}catch(h){throw console.error("Failed to add asset:",h.message),h}},[]),c=b.useCallback(f=>{n(h=>h.map(m=>m.id===f?{...m,isFavorite:!m.isFavorite}:m))},[]),u=b.useCallback(f=>{n(h=>h.filter(m=>m.id!==f))},[]),p=b.useCallback(()=>t.sort((f,h)=>h.timestamp-f.timestamp),[t]);return l.jsx(Q_.Provider,{value:{assets:t,addAsset:a,toggleFavorite:c,deleteAsset:u,getRecentAssets:p},children:e})}function dc(){const e=b.useContext(Q_);if(!e)throw new Error("useAssets must be used within AssetsProvider");return e}const aP="modulepreload",lP=function(e){return"/"+e},Ry={},cP=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){let c=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),p=u?.nonce||u?.getAttribute("nonce");o=c(n.map(f=>{if(f=lP(f),f in Ry)return;Ry[f]=!0;const h=f.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const x=document.createElement("link");if(x.rel=h?"stylesheet":aP,h||(x.as="script"),x.crossOrigin="",x.href=f,p&&x.setAttribute("nonce",p),document.head.appendChild(x),h)return new Promise((y,w)=>{x.addEventListener("load",y),x.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return o.then(c=>{for(const u of c||[])u.status==="rejected"&&a(u.reason);return t().catch(a)})},uP={maxRetries:3,initialDelay:1e3,maxDelay:1e4};async function Ul(e,t={}){const{maxRetries:n,initialDelay:r,maxDelay:o}={...uP,...t};let a=null;for(let c=0;c<=n;c++)try{return await e()}catch(u){if(a=u,!(u.status===429||u.status>=500||u.message?.includes("quota"))||c===n)throw u;const f=Math.min(o,r*Math.pow(2,c)+Math.random()*1e3);console.warn(`Attempt ${c+1} failed. Retrying in ${Math.round(f)}ms...`),await new Promise(h=>setTimeout(h,f))}throw a}const ma={"z-image-turbo":{vae:"flux_vae.safetensors",clip:"qwen_3_4b.safetensors",unet:"Z-image_8-12Steps_BF16.safetensors"},"z-image":{vae:"flux_vae.safetensors",clip:"qwen_3_4b.safetensors",unet:"Z-image_8-12Steps_BF16.safetensors"},"z-image-edit":{vae:"flux_vae.safetensors",clip:"qwen_3_4b.safetensors",unet:"Z-image_8-12Steps_BF16.safetensors"}};function Ou(e){return Zt.SUPPORTED_MODELS.find(n=>n.id===e)?.type==="local"}function J_(e){const{checkpointName:t,vaeName:n,clipName:r,width:o,height:a,steps:c,cfg:u,seed:p,prompt:f,negativePrompt:h,loraName:m,loraStrength:x=1}=e,y=ma[t]||ma["z-image-turbo"],w={10:{inputs:{unet_name:y.unet||"Z-image_8-12Steps_BF16.safetensors",weight_dtype:"default"},class_type:"UNETLoader"},11:{inputs:{clip_name:y.clip||"qwen_3_4b.safetensors",type:"stable_diffusion"},class_type:"CLIPLoader"},12:{inputs:{vae_name:y.vae||"flux_vae.safetensors"},class_type:"VAELoader"}};let v=["10",0],C=["11",0];return m&&(w[20]={inputs:{model:["10",0],clip:["11",0],lora_name:m,strength_model:x,strength_clip:x},class_type:"LoraLoader"},v=["20",0],C=["20",1]),w[5]={inputs:{width:o,height:a,batch_size:1},class_type:"EmptyLatentImage"},w[6]={inputs:{text:f,clip:C},class_type:"CLIPTextEncode"},w[7]={inputs:{text:h||"",clip:C},class_type:"CLIPTextEncode"},w[3]={inputs:{seed:p,steps:c,cfg:u,sampler_name:"euler",scheduler:"normal",denoise:1,model:v,positive:["6",0],negative:["7",0],latent_image:["5",0]},class_type:"KSampler"},w[8]={inputs:{samples:["3",0],vae:["12",0]},class_type:"VAEDecode"},w[9]={inputs:{filename_prefix:"ComfyUI",images:["8",0]},class_type:"SaveImage"},w}function dP(e,t){const n=[],r={},o=e.filter(M=>M.type==="imageEditor"||M.data?.type==="imageEditor");o.length===0&&n.push("No image editor node found in workflow");const a=e.filter(M=>M.type==="text"||M.data?.type==="text"),c=t.some(M=>o.some(F=>F.id===M.target)&&a.some(F=>F.id===M.source));if(!(a.length>0&&c)&&o.length>0&&(o.some(F=>F.data?.prompt&&F.data.prompt.trim()!=="")||n.push("No prompt provided. Add a text node or enter a prompt directly.")),n.length>0)return{workflow:{},validation:{isValid:!1,errors:n}};const p=o[0],f=p?.data?.inputs||[],h=f.find(M=>M.type==="model"),m=f.find(M=>M.type==="aspectRatio"),x=f.find(M=>M.type==="quality"),y=f.find(M=>M.type==="guidance"),w=f.find(M=>M.type==="seed"),v=h?.value||"z-image-turbo",C=ma[v]||ma["z-image-turbo"],k=M=>{const F={"1:1":[1024,1024],"16:9":[1344,768],"9:16":[768,1344],"4:3":[1152,896],"3:4":[896,1152],"3:2":[1216,832],"2:3":[832,1216]},[H,R]=F[M]||[1024,1024];return{width:H,height:R}},E=M=>({512:8,"1K":10,"2K":12,"4K":15})[M]||20,{width:N,height:j}=k(m?.value||"1:1"),P=E(x?.value||"2K"),L=y?.value||7,T=w?.value||Math.floor(Math.random()*1e6),D=a.find(M=>t.some(F=>F.source===M.id&&F.target===p?.id)),$=D?.data?.label||D?.data?.text||p?.data?.prompt||"",Y=f.find(M=>M.type==="lora"),G=Y?.value,V=Y?.strength||1;r[10]={inputs:{unet_name:C.unet||"Z-image_8-12Steps_BF16.safetensors",weight_dtype:"default"},class_type:"UNETLoader"},r[11]={inputs:{clip_name:C.clip||"qwen_3_4b.safetensors",type:"stable_diffusion"},class_type:"CLIPLoader"};let W=["10",0],z=["11",0];return G&&(r[20]={inputs:{model:["10",0],clip:["11",0],lora_name:G,strength_model:V,strength_clip:V},class_type:"LoraLoader"},W=["20",0],z=["20",1]),r[12]={inputs:{vae_name:C.vae||"flux_vae.safetensors"},class_type:"VAELoader"},r[5]={inputs:{width:N,height:j,batch_size:1},class_type:"EmptyLatentImage"},r[6]={inputs:{text:$,clip:z},class_type:"CLIPTextEncode"},r[7]={inputs:{text:"",clip:z},class_type:"CLIPTextEncode"},r[3]={inputs:{seed:T,steps:P,cfg:L,sampler_name:"euler",scheduler:"normal",denoise:1,model:W,positive:["6",0],negative:["7",0],latent_image:["5",0]},class_type:"KSampler"},r[8]={inputs:{samples:["3",0],vae:["12",0]},class_type:"VAEDecode"},r[9]={inputs:{filename_prefix:"ComfyUI",images:["8",0]},class_type:"SaveImage"},{workflow:r,validation:{isValid:!0,errors:[]}}}let Fh=null,Ay=null;const Gl=V_.TIMEOUT;class yt extends Error{type;originalError;retryable;constructor(t,n="UNKNOWN_ERROR",r,o=!1){super(t),this.type=n,this.originalError=r,this.retryable=o,this.name="ApiError"}}const Dg=async()=>{if(!Fh)try{const e=await cP(()=>import("./index-Bj1TwsDv.js"),[]);Fh=e.GoogleGenAI,Ay=e.Type}catch(e){throw console.error("Failed to load @google/genai:",e),new yt("Google AI SDK not available. Please check your installation.","CLIENT_ERROR",e)}return{GoogleGenAI:Fh,Type:Ay}},Og=(e="google")=>{if(typeof window<"u"){const t=e==="google"?At.GEMINI_API_KEY:At.ARK_API_KEY;return localStorage.getItem(t)||""}return""},Rm=(e,t=Gl,n="API request timed out")=>new Promise((r,o)=>{const a=setTimeout(()=>{o(new yt(n,"TIMEOUT_ERROR",null,!1))},t);e.then(c=>{clearTimeout(a),r(c)}).catch(c=>{clearTimeout(a),o(c)})}),fP=Zt.SUPPORTED_MODELS;function pP(){return typeof window>"u"?!1:!!localStorage.getItem(At.GEMINI_API_KEY)}async function hP(e){try{const{GoogleGenAI:t}=await Dg(),n=new t({apiKey:e});return await Ul(()=>n.models.generateContent({model:Zt.TEST_MODEL,contents:[{role:"user",parts:[{text:"Hello"}]}]}),{maxRetries:1}),{valid:!0}}catch(t){const n=t?.message||"",r=n.includes("quota")||n.includes("429")||n.includes("RESOURCE_EXHAUSTED");let o=t.message||"Invalid API Key";return r&&(o="API Key Valid, but Quota Exceeded"),{valid:!1,error:o,isQuota:r}}}async function mP(e,t){const n=t||Og();if(!n)throw ve.error(" Gemini API Key",{description:" API Key",duration:5e3}),new Error("API Key is missing. Please configure your Gemini API Key in settings.");const{GoogleGenAI:r}=await Dg(),o=new r({apiKey:n});try{return(await Ul(()=>o.models.generateContent({model:Zt.OPTIMIZATION_MODEL,contents:[{role:"user",parts:[{text:` Midjourney/Stable Diffusion 
"${e}"
`}]}],config:{systemInstruction:" AI "}}))).text()||e}catch(a){const c=a?.message||"";return!c.includes("daily free quota")&&!c.includes("quota")&&!c.includes("429")&&console.error("Prompt optimization error:",a),e}}async function gP(e,t={imageWeight:80,aspectRatio:"1:1",model:Zt.DEFAULT_ARK_MODEL},n,r){const o=Og("ark");if(!o)throw ve.error(" Ark API Key",{description:" Ark API Key",duration:5e3}),new Error("Ark API Key is missing. Please configure your Ark API Key in settings.");try{const a={model:t.model||Zt.DEFAULT_ARK_MODEL,prompt:e,sequential_image_generation:t.sequential_image_generation||"disabled",response_format:"url",size:t.imageSize||"2K",seed:t.seed,guidance_scale:t.guidance_scale,optimize_prompt_options:t.optimize_prompt_options,stream:!1,watermark:!0};if(r&&r.length>0){const u=r.map(p=>`data:${p.mimeType};base64,${p.base64}`);a.image=u,console.log(`Ark API: Added ${u.length} images to request`)}const c=await Ul(async()=>{const u=await fetch(_E.ARK_IMAGE_GENERATIONS,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify(a)});if(!u.ok){const p=await u.json().catch(()=>({}));throw new Error(p.error?.message||`Ark API error: ${u.status}`)}return await u.json()});if(console.log("Ark API response:",c),c.data?.[0]?.url)return console.log("Returning image URL directly from Ark API:",c.data[0].url),c.data[0].url;throw new Error("Ark API ")}catch(a){const c=a?.message||"";throw c.includes("quota")||c.includes("429")||console.error("Ark Image Generation Error:",a),c.includes("429")||c.toLowerCase().includes("quota")?new Error("API busy or quota exceeded. Please try again later."):a}}async function e3(e,t,n={imageWeight:80,aspectRatio:"1:1",model:Zt.DEFAULT_MODEL},r){const o=n.model||Zt.DEFAULT_MODEL;if(n3(o))return vP(t,n);if(o.startsWith("doubao"))return gP(t,n,r,e);const a=Og();if(!a)throw ve.error(" Gemini API Key",{description:" API Key",duration:5e3}),new yt("API Key is missing. Please configure your Gemini API Key in settings.","API_KEY_INVALID");try{const{GoogleGenAI:c}=await Dg(),u=new c({apiKey:a});if(o.startsWith("imagen")){if(e.length>0)throw new yt("Imagen  Flash/Pro ","CLIENT_ERROR");const k=await Rm(Ul(()=>u.models.generateImages({model:o,prompt:t,config:{numberOfImages:1,aspectRatio:n.aspectRatio||"1:1",outputMimeType:"image/jpeg"}})),Gl,"Imagen ");if(k.generatedImages?.[0]?.image?.imageBytes)return k.generatedImages[0].image.imageBytes;throw new yt("Imagen ","SERVER_ERROR")}let f=t;const h=[];e.length>0&&(n.imageWeight>=80?h.push("Strictly maintain the composition and details of the reference."):n.imageWeight>=50?h.push("Follow the overall structure of the reference."):h.push("Use the reference image as loose inspiration.")),h.length>0&&(f=`${t} (${h.join(" ")})`);const m={text:f},x=e.map(k=>({inlineData:{data:k.base64,mimeType:k.mimeType}})),y=e.length>0?[...x,m]:[m],w={aspectRatio:n.aspectRatio||"1:1"};o==="gemini-3-pro-image-preview"&&n.imageSize&&(w.imageSize=n.imageSize);const v=await Rm(Ul(()=>u.models.generateContent({model:o,contents:[{role:"user",parts:y}],config:{systemInstruction:"You are an advanced image generation engine. Generate high-quality visual content based on the prompt.",imageConfig:w}})),Gl,"Google AI "),C=v.candidates?.[0];if(C?.content?.parts){for(const k of C.content.parts)if(k.inlineData&&k.inlineData.data)return console.log("Returning image data from Google AI"),console.log("Data type:",typeof k.inlineData.data),console.log("Data length:",k.inlineData.data.length),k.inlineData.data}throw console.error("No valid image data returned from Google AI"),console.error("Response candidates:",v.candidates),new yt("","SERVER_ERROR")}catch(c){if(c instanceof yt)throw c.type==="QUOTA_EXCEEDED"?c:c.type==="RATE_LIMITED"?new yt("API ","RATE_LIMITED",c,!0):c;const u=c?.message||"",p=u.includes("daily free quota")||u.includes("Quota exceeded")||u.includes("429"),f=c?.status===429||u.includes("429")||u.includes("RESOURCE_EXHAUSTED"),h=u.includes("network")||u.includes("Network")||u.includes("fetch");throw!p&&!f&&console.error("Gemini Image Generation Error:",c),p?u.includes("daily free quota")?new yt(" API Key","QUOTA_EXCEEDED",c,!1):u.includes("Resource has been exhausted")?new yt(" API  Key","QUOTA_EXCEEDED",c,!1):new yt("API ","QUOTA_EXCEEDED",c,!1):f?new yt("API ","RATE_LIMITED",c,!0):h?new yt("","NETWORK_ERROR",c,!0):new yt(u||"","UNKNOWN_ERROR",c,!1)}}const t3=()=>typeof window<"u"&&localStorage.getItem(At.LOCAL_SERVER_URL)||Zt.LOCAL_MODEL_ENDPOINT;async function xP(){const e=t3();try{const t=await Rm(fetch(`${e}/system_stats`,{method:"GET",headers:{"Content-Type":"application/json"}}),5e3,"Local server status check timed out");return t.ok?{online:!0,models:["z-image-turbo","z-image","z-image-edit"]}:{online:!1,models:[],error:`Server returned ${t.status}`}}catch(t){return{online:!1,models:[],error:t.message||"Cannot connect to local server"}}}async function vP(e,t={imageWeight:80,aspectRatio:"1:1",model:"z-image-turbo"},n){const r=t3(),o=t.model||"z-image-turbo",[a,c]=yP(t.aspectRatio||"1:1"),u=o==="z-image-turbo",p=u?8:50,f=u?0:t.guidance_scale||3.5,h=t.seed||Math.floor(Math.random()*1e6);try{const x=J_({checkpointName:o,vaeName:"flux_vae.safetensors",clipName:"qwen_3_4b.safetensors",width:a,height:c,steps:p,cfg:f,seed:h,prompt:e,negativePrompt:"",images:[]}),y=X_({baseUrl:r,wsUrl:r.replace("http","ws")+"/ws",timeout:Gl*2});await y.connect();const w=await y.queuePrompt(x);return new Promise((v,C)=>{let k;k=setTimeout(()=>{y.disconnect(),C(new yt(" GPU ","TIMEOUT_ERROR"))},Gl*2);const E=N=>{N.type==="execution_error"&&N.prompt_id===w?(clearTimeout(k),y.disconnect(),C(new yt(`: ${N.error}`,"SERVER_ERROR"))):N.type==="executed"&&N.prompt_id===w&&y.getHistory(w).then(j=>{clearTimeout(k),y.disconnect();const P=j[w];if(P&&P.outputs)for(const L in P.outputs){const T=P.outputs[L];if(T.images&&T.images.length>0){const D=T.images[0];v(D);return}}C(new yt("Local server did not return valid image data.","SERVER_ERROR"))}).catch(j=>{clearTimeout(k),y.disconnect(),C(new yt(`: ${j.message}`,"SERVER_ERROR"))})};y.on("execution_error",E),y.on("executed",E)})}catch(m){if(m instanceof yt)throw m;const x=m?.message||"";throw x.includes("Failed to fetch")||x.includes("NetworkError")||x.includes("Connection")?new yt("","NETWORK_ERROR",m,!0):x.includes("timed out")?new yt(" GPU ","TIMEOUT_ERROR",m,!0):new yt(x||"","UNKNOWN_ERROR",m,!1)}}function yP(e){return{"1:1":[1024,1024],"16:9":[1344,768],"9:16":[768,1344],"4:3":[1152,896],"3:4":[896,1152],"3:2":[1216,832],"2:3":[832,1216]}[e]||[1024,1024]}function n3(e){return Zt.SUPPORTED_MODELS.find(n=>n.id===e)?.type==="local"}const Fu=({item:e,activePopup:t,setActivePopup:n,inputs:r,setInputs:o,onModelSelect:a,onPresetSelect:c,onNumberChange:u,onDeleteInput:p,PRESET_OPTIONS:f})=>{const{t:h}=rn(),m=(v,C)=>{a(e.id,v,C)},x=v=>{c(e.id,v)},y=v=>{u(e.id,v)},w=v=>{v.stopPropagation(),p(e.id)};return e.type==="model"?l.jsxs("div",{className:"relative w-full z-20",children:[l.jsx("div",{className:"bg-secondary h-[32px] relative rounded-[var(--radius-sm)] shrink-0 w-full cursor-pointer hover:bg-muted transition-colors",onClick:v=>{v.stopPropagation(),n(t===e.id?null:e.id)},children:l.jsx("div",{className:"flex flex-row items-center justify-center size-full",children:l.jsxs("div",{className:"content-stretch flex gap-1.5 items-center justify-center px-2.5 py-1 relative size-full",children:[l.jsx("div",{className:"content-stretch flex items-center justify-center overflow-clip p-[2px] relative shrink-0 size-[16px]",children:l.jsx("div",{className:"relative shrink-0 size-[9px]",children:l.jsxs("svg",{className:"block size-full",fill:"none",viewBox:"0 0 10.5 10.5",children:[l.jsx("path",{d:"M0.75 0.75L3.75 3.75",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),l.jsx("path",{d:"M6.75 3.75L9.75 0.75",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),l.jsx("path",{d:"M0.75 9.75L3.75 6.75",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),l.jsx("path",{d:"M6.75 6.75L9.75 9.75",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})]})})}),l.jsx("div",{className:"flex flex-[1_0_0] flex-col justify-center leading-[0] min-h-px min-w-px relative text-foreground text-[length:var(--text-p)] font-medium tracking-[-0.16px]",children:l.jsx("p",{className:"leading-[16.5px] whitespace-pre-wrap",children:e.label})}),l.jsx("div",{className:`flex items-center justify-center relative shrink-0 size-[12px] transition-transform duration-200 ${t===e.id?"rotate-0":"-rotate-90"}`,children:l.jsx("svg",{className:"block size-full",fill:"none",viewBox:"0 0 12 12",children:l.jsx("path",{d:"M3 4.5L6 7.5L9 4.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}),t===e.id&&l.jsx("div",{className:"absolute left-[calc(100%+8px)] top-0 w-[200px] bg-card border border-border/20 rounded-[16px] p-[8px] flex flex-col gap-[4px] z-50 popup-container",children:fP.map(v=>l.jsx("div",{className:"text-[length:var(--text-p)] px-3 py-2 hover:bg-muted rounded-md cursor-pointer text-foreground",onClick:C=>{C.stopPropagation(),m(v.id,v.label)},children:v.label},v.id))})]},e.id):e.type==="mode"?l.jsxs("div",{className:"relative w-full z-10",children:[l.jsx("div",{className:"bg-secondary h-[32px] relative rounded-[var(--radius-sm)] shrink-0 w-full cursor-pointer hover:bg-muted transition-colors",onClick:v=>{v.stopPropagation(),n(t===e.id?null:e.id)},children:l.jsx("div",{className:"flex flex-row items-center justify-center size-full",children:l.jsxs("div",{className:"content-stretch flex gap-1.5 items-center justify-center px-2.5 py-1 relative size-full",children:[l.jsx("div",{className:"content-stretch flex flex-col items-center justify-center relative shrink-0 size-[16px]",children:l.jsx("div",{className:"h-[12.25px] relative shrink-0 w-[18.083px] flex items-center justify-center",children:l.jsxs("svg",{className:"block w-[14px] h-[10px]",fill:"none",viewBox:"0 0 18.0833 12.25",children:[l.jsx("circle",{cx:"5.54167",cy:"2.33333",r:"1.58333",stroke:"currentColor",strokeWidth:"1.5"}),l.jsx("circle",{cx:"12.5417",cy:"9.91667",r:"1.58333",stroke:"currentColor",strokeWidth:"1.5"}),l.jsx("path",{d:"M5.54167 2.33334L12.5417 9.91667",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})]})})}),l.jsx("div",{className:"flex flex-[1_0_0] flex-col justify-center leading-[0] min-h-px min-w-px relative text-foreground text-[length:var(--text-p)] font-medium text-muted-foreground",children:l.jsx("p",{className:"leading-[16.5px] whitespace-pre-wrap text-foreground",children:e.label})}),l.jsx("div",{className:"relative shrink-0 size-[12px]",children:l.jsxs("svg",{className:"block size-full",fill:"none",viewBox:"0 0 12 12",children:[l.jsx("path",{d:"M2.49998 6H9.49998",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M6 2.49998V9.49998",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]})})]})})}),t===e.id&&l.jsx("div",{className:"absolute left-[calc(100%+8px)] top-0 w-[200px] bg-card border border-border/20 rounded-[var(--radius)] p-2 flex flex-col gap-1 z-50 popup-container max-h-[300px] overflow-y-auto hide-scrollbar",children:f.map(v=>l.jsx("div",{className:"text-[length:var(--text-p)] px-3 py-2 hover:bg-muted rounded-md cursor-pointer truncate text-foreground",onClick:C=>{C.stopPropagation(),x(v)},children:v},v))})]},e.id):e.type==="image"?l.jsx("div",{className:"content-stretch flex items-center justify-center relative rounded-[var(--radius-sm)] shrink-0 w-full",children:l.jsx("div",{className:"bg-secondary flex-[1_0_0] h-[32px] min-h-px min-w-px relative rounded-[var(--radius-sm)]",children:l.jsx("div",{className:"flex flex-row items-center justify-end size-full",children:l.jsxs("div",{className:"content-stretch flex gap-1.5 items-center justify-end px-2.5 py-1 relative size-full",children:[l.jsx("div",{className:"content-stretch flex items-center justify-center relative shrink-0 size-[16px]",children:l.jsx("div",{className:"relative shrink-0 size-[14.4px]",children:l.jsxs("svg",{className:"block size-full",fill:"none",viewBox:"0 0 14.4 14.4",children:[l.jsx("path",{clipRule:"evenodd",d:"M1.44 3.6C1.44 2.81672 1.86607 2.12946 2.52 1.8H11.88C12.5339 2.12946 12.96 2.81672 12.96 3.6V10.8C12.96 11.5833 12.5339 12.2705 11.88 12.6H2.52C1.86607 12.2705 1.44 11.5833 1.44 10.8V3.6Z",fill:"currentColor",fillRule:"evenodd"}),l.jsx("path",{d:"M8.64 7.2C8.64 7.99513 8.01513 8.62 7.2 8.62C6.40487 8.62 5.78 7.99513 5.78 7.2C5.78 6.40487 6.40487 5.78 7.2 5.78C8.01513 5.78 8.64 6.40487 8.64 7.2Z",stroke:"currentColor",strokeWidth:"0.9"}),l.jsx("path",{d:"M11.88 1.8V3.6",fill:"currentColor",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"0.9"})]})})}),l.jsx("div",{className:"flex flex-[1_0_0] flex-col justify-center leading-[0] min-h-px min-w-px overflow-hidden relative text-foreground text-[length:var(--text-p)] font-medium text-ellipsis whitespace-nowrap",children:l.jsx("p",{className:"leading-[16.5px] overflow-hidden",children:e.label})}),l.jsx("div",{className:"content-stretch flex h-[12px] items-center opacity-40 overflow-clip px-[2.25px] py-[1.5px] relative shrink-0 cursor-pointer hover:opacity-100",onClick:w,children:l.jsx("div",{className:"h-[9px] relative shrink-0 w-[7.5px]",children:l.jsx("div",{className:"absolute inset-[-5.56%_-16.67%]",children:l.jsxs("svg",{className:"block size-full",fill:"none",viewBox:"0 0 10 10",children:[l.jsx("path",{d:"M3.875 0.5H6.125",stroke:"currentColor",strokeLinecap:"round"}),l.jsx("path",{d:"M0.5 2H9.5",stroke:"currentColor",strokeLinecap:"round"}),l.jsx("path",{d:"M2.5 2V8C2.5 8.27614 2.60536 8.52949 2.77557 8.70711C2.94578 8.88472 3.18924 9 3.45 9H6.55C6.81076 9 7.05422 8.88472 7.22443 8.70711C7.39464 8.52949 7.5 8.27614 7.5 8V2",stroke:"currentColor",strokeLinecap:"round"})]})})})}),l.jsx("div",{className:"absolute left-[-12px] top-1/2 -translate-y-1/2 z-30",children:l.jsx(Kt,{type:"target",position:Ce.Left,id:e.id,className:"!w-[16px] !h-[16px] !border-[1.5px] !border-card !bg-primary !rounded-full opacity-100"})})]})})})},e.id):["number","aspectRatio","quality","sequential","guidance","seed"].includes(e.type)?l.jsxs("div",{className:"content-stretch flex items-center justify-center relative rounded-[var(--radius-sm)] shrink-0 w-full",children:[l.jsx("div",{className:"bg-secondary flex-[1_0_0] h-[32px] min-h-px min-w-px relative rounded-[var(--radius-sm)]",children:l.jsx("div",{className:"flex flex-row items-center justify-end size-full",children:l.jsxs("div",{className:"content-stretch flex gap-1.5 items-center justify-end px-2.5 py-1 relative size-full",children:[l.jsx("div",{className:"overflow-clip relative shrink-0 size-[16px]",children:l.jsx("div",{className:"absolute left-1/2 size-[8px] top-1/2 -translate-x-1/2 -translate-y-1/2",children:l.jsx("svg",{className:"block size-full",fill:"none",viewBox:"0 0 9.5 9.5",children:l.jsx("path",{d:"M4.75 0.75V8.75M0.75 4.75H8.75",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})})})}),l.jsx("div",{className:"flex flex-[1_0_0] flex-col justify-center leading-[0] min-h-px min-w-px overflow-hidden relative text-foreground text-[length:var(--text-p)] font-medium text-ellipsis whitespace-nowrap",children:l.jsx("p",{className:"leading-[16.5px] overflow-hidden",children:e.label})}),e.type==="number"?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"relative shrink-0 size-[12px] cursor-pointer",onClick:v=>{v.stopPropagation(),y(-1)},children:l.jsx("svg",{className:"block size-full",fill:"none",viewBox:"0 0 12 12",children:l.jsx("path",{d:"M2.49998 6H9.49998",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})})}),l.jsx("div",{className:"flex flex-col justify-center leading-[0] not-italic relative shrink-0 text-foreground text-[length:var(--text-p)] font-medium whitespace-nowrap w-[20px] items-center",children:l.jsx("p",{className:"leading-[16.5px]",children:e.value})}),l.jsx("div",{className:"relative shrink-0 size-[12px] cursor-pointer",onClick:v=>{v.stopPropagation(),y(1)},children:l.jsxs("svg",{className:"block size-full",fill:"none",viewBox:"0 0 12 12",children:[l.jsx("path",{d:"M2.49998 6H9.49998",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M6 2.49998V9.49998",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}):e.type==="guidance"||e.type==="seed"?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"relative shrink-0 size-[12px] cursor-pointer",onClick:v=>{v.stopPropagation(),y(-1)},children:l.jsx("svg",{className:"block size-full",fill:"none",viewBox:"0 0 12 12",children:l.jsx("path",{d:"M2.49998 6H9.49998",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})})}),l.jsx("div",{className:"flex flex-col justify-center leading-[0] not-italic relative shrink-0 text-foreground text-[length:var(--text-p)] font-medium whitespace-nowrap w-[40px] items-center",children:l.jsx("p",{className:"leading-[16.5px]",children:e.value})}),l.jsx("div",{className:"relative shrink-0 size-[12px] cursor-pointer",onClick:v=>{v.stopPropagation(),y(1)},children:l.jsxs("svg",{className:"block size-full",fill:"none",viewBox:"0 0 12 12",children:[l.jsx("path",{d:"M2.49998 6H9.49998",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M6 2.49998V9.49998",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}):l.jsxs("div",{className:"flex items-center gap-[6px] cursor-pointer",onClick:v=>{v.stopPropagation(),n(t===e.id?null:e.id)},children:[l.jsx("div",{className:"flex flex-col justify-center leading-[0] not-italic relative shrink-0 text-foreground text-[length:var(--text-p)] font-medium whitespace-nowrap",children:l.jsx("p",{className:"leading-[16.5px]",children:e.value})}),l.jsx("div",{className:`flex items-center justify-center relative shrink-0 size-[12px] transition-transform duration-200 ${t===e.id?"rotate-0":"-rotate-90"}`,children:l.jsx("svg",{className:"block size-full",fill:"none",viewBox:"0 0 12 12",children:l.jsx("path",{d:"M3 4.5L6 7.5L9 4.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]})})}),t===e.id&&e.type==="aspectRatio"&&l.jsx("div",{className:"absolute left-[calc(100%+8px)] top-0 w-[120px] bg-card border border-border/20 rounded-[var(--radius)] p-2 flex flex-col gap-1 z-50 popup-container",children:["1:1","16:9","9:16","4:3","3:4"].map(v=>l.jsx("div",{className:"text-[length:var(--text-p)] px-3 py-2 hover:bg-muted rounded-md cursor-pointer text-foreground",onClick:C=>{C.stopPropagation(),o(r.map(k=>k.id===e.id?{...k,value:v}:k)),n(null)},children:v},v))}),t===e.id&&e.type==="quality"&&l.jsx("div",{className:"absolute left-[calc(100%+8px)] top-0 w-[120px] bg-card border border-border/20 rounded-[var(--radius)] p-2 flex flex-col gap-1 z-50 popup-container",children:["SD","HD","2K","4K"].map(v=>l.jsx("div",{className:"text-[length:var(--text-p)] px-3 py-2 hover:bg-muted rounded-md cursor-pointer text-foreground",onClick:C=>{C.stopPropagation(),o(r.map(k=>k.id===e.id?{...k,value:v}:k)),n(null)},children:v},v))}),t===e.id&&e.type==="sequential"&&l.jsx("div",{className:"absolute left-[calc(100%+8px)] top-0 w-[120px] bg-card border border-border/20 rounded-[var(--radius)] p-2 flex flex-col gap-1 z-50 popup-container",children:["disabled","auto"].map(v=>l.jsx("div",{className:"text-[length:var(--text-p)] px-3 py-2 hover:bg-muted rounded-md cursor-pointer text-foreground",onClick:C=>{C.stopPropagation(),o(r.map(k=>k.id===e.id?{...k,value:v}:k)),n(null)},children:h(v==="disabled"?"single_image":"group_image")},v))})]},e.id):null},r3={play:"M10.0945 4.85667L4.01933 1.21159C3.13063 0.678375 2 1.31853 2 2.35492V9.64508C2 10.6815 3.13063 11.3216 4.01933 10.7884L10.0945 7.14331C10.9576 6.62544 10.9576 5.37454 10.0945 4.85667Z",plus:"M8 16.7618V3.04755M1.14282 9.90472H14.8571",chevronDown:"M5 7.5L10 12.5L15 7.5",settings:"M9.33333 10.9167H14M2 10.9167H3.33333M3.33333 10.9167C3.33333 11.8371 4.07953 12.5833 5 12.5833C5.92047 12.5833 6.66667 11.8371 6.66667 10.9167C6.66667 9.99619 5.92047 9.25 5 9.25C4.07953 9.25 3.33333 9.99619 3.33333 10.9167ZM13.3333 4.91667H14M2 4.91667H6.66667M11 6.58333C10.0795 6.58333 9.33333 5.83714 9.33333 4.91667C9.33333 3.99619 10.0795 3.25 11 3.25C11.9205 3.25 12.6667 3.99619 12.6667 4.91667C12.6667 5.83714 11.9205 6.58333 11 6.58333Z",cameraControl:"M11.6277 4.42717L12.4723 11.6666M4.38339 4.33325L3.52783 11.6666M6.00005 3.33325H10.0001M11.3334 13.3333H4.66672M11.3333 2.66667C11.3333 3.40305 10.7364 4 10 4C9.26362 4 8.66667 3.40305 8.66667 2.66667C8.66667 1.93029 9.26362 1.33333 10 1.33333C10.7364 1.33333 11.3333 1.93029 11.3333 2.66667ZM6 2.66667C6 3.40305 5.40305 4 4.66667 4C3.93029 4 3.33333 3.40305 3.33333 2.66667C3.33333 1.93029 3.93029 1.33333 4.66667 1.33333C5.40305 1.33333 6 1.93029 6 2.66667ZM4.66667 13.3333C4.66667 14.0697 4.06971 14.6667 3.33333 14.6667C2.59695 14.6667 2 14.0697 2 13.3333C2 12.597 2.59695 12 3.33333 12C4.06971 12 4.66667 12.597 4.66667 13.3333ZM14 13.3333C14 14.0697 13.403 14.6667 12.6667 14.6667C11.9303 14.6667 11.3333 14.0697 11.3333 13.3333C11.3333 12.597 11.9303 12 12.6667 12C13.403 12 14 12.597 14 13.3333Z",imageStyle:"M13.9998 8C13.9998 9.88484 12.5473 11.9989 8.99976 11.3333C10.5473 12.6064 9.42862 14 7.99976 14C4.68605 14 1.99976 11.3137 1.99976 8C1.99976 4.68629 4.68605 2 7.99976 2C11.3135 2 13.9998 4.68629 13.9998 8Z",wand:"M6.93858 7.93848C7.329 7.5482 7.96214 7.54835 8.35264 7.93848L12.5958 12.1816C12.9861 12.5721 12.9861 13.2052 12.5958 13.5957C12.2053 13.9862 11.5723 13.9861 11.1817 13.5957L6.93858 9.35352C6.54806 8.96299 6.54806 8.329 6.93858 7.93848ZM3.58018 4.22656C4.26361 3.54333 5.37143 3.54322 6.05479 4.22656L6.40831 4.58008C7.09167 5.26344 7.09155 6.37126 6.40831 7.05469L6.05479 7.4082C5.37138 8.09162 4.2636 8.09162 3.58018 7.4082L3.22667 7.05469C2.54326 6.37127 2.54325 5.26349 3.22667 4.58008L3.58018 4.22656ZM11.5655 5.60156C11.7408 5.60168 11.8963 5.71617 11.9474 5.88379C11.9913 6.02842 12.1043 6.14173 12.2482 6.18555C12.4155 6.23675 12.5303 6.39134 12.5304 6.56641C12.5304 6.74164 12.4157 6.89704 12.2482 6.94824C12.1043 6.99209 11.9914 7.10455 11.9474 7.24902C11.8964 7.4168 11.7409 7.53211 11.5655 7.53223C11.3903 7.53204 11.2357 7.41668 11.1847 7.24902C11.1407 7.10457 11.0275 6.99216 10.8839 6.94824C10.7162 6.89711 10.6017 6.74171 10.6017 6.56641C10.6018 6.39123 10.7163 6.23664 10.8839 6.18555C11.0276 6.14168 11.1407 6.02846 11.1847 5.88379L11.2081 5.82422C11.2742 5.6897 11.412 5.60172 11.5655 5.60156ZM4.99425 5.28711C4.89667 5.18955 4.73837 5.18966 4.64073 5.28711L4.28721 5.64062C4.18959 5.73825 4.1896 5.89651 4.28721 5.99414L4.64073 6.34766C4.73836 6.44529 4.89661 6.44529 4.99425 6.34766L5.34776 5.99414C5.44522 5.8965 5.44533 5.7382 5.34776 5.64062L4.99425 5.28711ZM9.75011 1.47168C9.98252 1.4718 10.1874 1.62428 10.255 1.84668C10.3133 2.03836 10.4638 2.18802 10.6544 2.24609C10.8763 2.31399 11.0284 2.51886 11.0284 2.75098C11.0284 2.98314 10.8763 3.18791 10.6544 3.25586C10.4636 3.31402 10.3132 3.4646 10.255 3.65625C10.1872 3.87835 9.98234 4.03015 9.75011 4.03027C9.51779 4.03027 9.31302 3.87842 9.24522 3.65625C9.18693 3.46454 9.03643 3.31406 8.84581 3.25586C8.62375 3.18798 8.47176 2.98321 8.47179 2.75098C8.47185 2.51879 8.62377 2.31393 8.84581 2.24609C9.03624 2.18799 9.18688 2.03837 9.24522 1.84668L9.27647 1.7666C9.36422 1.58888 9.54488 1.47168 9.75011 1.47168Z",userCircle:"M10.193 9.01709C11.3954 9.72434 12.2347 11.0064 12.3424 12.5005L12.3541 12.8267L12.3424 12.8501C12.3244 12.8784 12.2815 12.9288 12.192 12.9937C12.0075 13.1273 11.7012 13.2661 11.2701 13.3882C10.4161 13.6299 9.24026 13.7604 8.03674 13.7622C6.83275 13.764 5.65669 13.6368 4.80334 13.396C4.3727 13.2745 4.06718 13.1364 3.88342 13.0024C3.79438 12.9375 3.75236 12.8861 3.73401 12.8569C3.71904 12.8331 3.72034 12.8258 3.72034 12.8257C3.72047 11.1986 4.58929 9.78186 5.87463 9.02197C6.51558 9.37477 7.24932 9.57764 8.02991 9.57764C8.81347 9.5776 9.54964 9.37287 10.193 9.01709ZM8.02991 2.2417C9.50742 2.24182 10.7223 3.46157 10.7223 4.98877C10.7222 6.51482 9.50766 7.73377 8.02991 7.73389C6.55206 7.73389 5.3376 6.51489 5.33752 4.98877C5.33752 3.46219 6.5524 2.2417 8.02991 2.2417Z",tshirt:"M11.0465 2.9412L10.9424 3.04976C10.7259 3.2774 10.4654 3.45877 10.1768 3.58291C9.88813 3.70704 9.57733 3.77136 9.26314 3.77197H7.13637C6.50167 3.77197 5.89687 3.50945 5.45822 3.04976L5.3541 2.9412L2.51841 5.90428L3.47102 6.90009C3.69743 6.87513 3.92655 6.89828 4.14339 6.96801C4.36023 7.03775 4.5599 7.15251 4.72931 7.30477C4.89872 7.45703 5.03406 7.64336 5.12645 7.85155C5.21885 8.05975 5.26623 8.28512 5.26548 8.5129V13.2616H11.1351V8.5129C11.1344 8.28533 11.1818 8.06017 11.274 7.85214C11.3663 7.64411 11.5014 7.4579 11.6706 7.30568C11.8397 7.15345 12.0391 7.03864 12.2557 6.96875C12.4723 6.89886 12.7012 6.87547 12.9274 6.90009L13.88 5.90317L11.0465 2.9412Z",pose:"M10.193 9.01697C11.3954 9.72421 12.2347 11.0062 12.3424 12.5004L12.3541 12.8265L12.3424 12.85C12.3244 12.8783 12.2815 12.9287 12.192 12.9935C12.0075 13.1272 11.7012 13.266 11.2701 13.3881C10.4161 13.6298 9.24026 13.7603 8.03674 13.7621C6.83275 13.7639 5.65669 13.6366 4.80334 13.3959C4.3727 13.2744 4.06718 13.1363 3.88342 13.0023C3.79438 12.9374 3.75236 12.886 3.73401 12.8568C3.71904 12.833 3.72034 12.8256 3.72034 12.8256C3.72047 11.1985 4.58929 9.78174 5.87463 9.02185C6.51558 9.37465 7.24932 9.57751 8.02991 9.57751C8.81347 9.57748 9.54964 9.37274 10.193 9.01697ZM8.02991 2.24158C9.50742 2.2417 10.7223 3.46145 10.7223 4.98865C10.7222 6.51469 9.50766 7.73365 8.02991 7.73376C6.55206 7.73376 5.3376 6.51477 5.33752 4.98865C5.33752 3.46207 6.5524 2.24158 8.02991 2.24158Z",faceExtract:"M8 4C5.79086 4 4 5.79086 4 8C4 10.2091 5.79086 12 8 12C10.2091 12 12 10.2091 12 8C12 5.79086 10.2091 4 8 4Z",refresh:"M3 12C3 12 4.5 9.5 8 9.5C11.5 9.5 13 12 13 12M3 4C3 4 4.5 6.5 8 6.5C11.5 6.5 13 4 13 4",delete:"M3 6H13M5 6V4C5 3.44772 5.44772 3 6 3H10C10.5523 3 11 3.44772 11 4V6M6 9V12M8 9V12M10 9V12",star:"M1.91718 0.792179C1.75304 1.33202 1.33118 1.75462 0.792179 1.91887C1.33118 2.08322 1.75304 2.50572 1.91718 3.04556C2.08121 2.50572 2.50307 2.08322 3.04218 1.91887C2.50307 1.75462 2.08121 1.33202 1.91718 0.792179Z",starSmall:"M1.44645 0.597673C1.32261 1.00497 1.00433 1.32381 0.597673 1.44772C1.00433 1.57172 1.32261 1.89048 1.44645 2.29777C1.57021 1.89048 1.88849 1.57172 2.29522 1.44772C1.88849 1.32381 1.57021 1.00497 1.44645 0.597673Z",undo:"M11.7549 8.86881C12.1742 8.81894 12.5 8.44884 12.5 8L12.4937 7.89763C12.446 7.46279 12.0888 7.12507 11.6568 7.12507L6.58777 7.12419L7.73512 6.0069C7.9052 5.84123 8.00072 5.61671 8.00072 5.38264C8.00072 5.14856 7.9052 4.92404 7.73512 4.75837C7.65104 4.67647 7.55117 4.61149 7.44122 4.56715C7.33128 4.52282 7.21343 4.5 7.0944 4.5C6.97538 4.5 6.85753 4.52282 6.74759 4.56715C6.63764 4.61149 6.53777 4.67647 6.45369 4.75837L3.76664 7.37617C3.68213 7.45796 3.61507 7.55517 3.56931 7.66222C3.52356 7.76928 3.5 7.88407 3.5 8C3.5 8.11593 3.52356 8.23072 3.56931 8.33778C3.61507 8.44483 3.68213 8.54204 3.76664 8.62383L6.45369 11.2416C6.53777 11.3235 6.63764 11.3885 6.74759 11.4328C6.85753 11.4772 6.97538 11.5 7.0944 11.5C7.21343 11.5 7.33128 11.4772 7.44122 11.4328C7.55117 11.3885 7.65104 11.3235 7.73512 11.2416C7.90492 11.076 8.00027 10.8517 8.00027 10.6178C8.00027 10.3839 7.90492 10.1596 7.73512 9.99398L6.58687 8.87406L11.6559 8.87493L11.7549 8.86881Z",redo:"M6.28571 8.71429H13.4286C16.2689 8.71429 18.5714 11.0168 18.5714 13.8571C18.5714 16.6975 16.2689 19 13.4286 19H9.71429M9.14286 5L5.83263 8.31022C5.60948 8.53338 5.60948 8.89519 5.83263 9.11835L9.14286 12.4286",cursor:"M2.94182 3.26728L5.78889 14.6556C6.02027 15.5811 7.29281 15.6879 7.67519 14.8138L10 9.5L14.9653 7.51388C15.8302 7.1679 15.7939 5.9313 14.9101 5.63672L4.22819 2.07606C3.47959 1.82653 2.75044 2.50175 2.94182 3.26728Z",hand:"M13.4824 2.3454C13.2844 2.3452 13.0871 2.37009 12.8954 2.41948V2.3454C12.8957 1.8149 12.7161 1.29997 12.3858 0.884798C12.0556 0.469624 11.5943 0.178758 11.0773 0.0597461C10.5603 -0.0592658 10.0183 0.000616295 9.53973 0.229604C9.0612 0.458591 8.67449 0.843139 8.44284 1.32039C8.08802 1.18761 7.70631 1.14282 7.3304 1.18985C6.95448 1.23688 6.59557 1.37433 6.2844 1.59042C5.97323 1.80651 5.71907 2.0948 5.5437 2.43061C5.36833 2.76642 5.27697 3.13974 5.27744 3.51858V7.24655C4.89546 6.81256 4.36656 6.53506 3.79238 6.46737C3.21821 6.39969 2.63928 6.54659 2.16685 6.87986C1.69442 7.21312 1.36182 7.70923 1.23299 8.27285C1.10415 8.83646 1.18816 9.4278 1.46887 9.93323C3.79977 14.8466 5.23103 17 9.08683 17C10.874 16.9983 12.5875 16.2875 13.851 15.0236C15.1146 13.7597 15.825 12.0461 15.8263 10.2589V4.69013C15.8264 4.38226 15.7659 4.07737 15.6481 3.7929C15.5304 3.50843 15.3578 3.24994 15.1401 3.0322C14.9224 2.81446 14.664 2.64174 14.3796 2.52389C14.0951 2.40605 13.7903 2.3454 13.4824 2.3454Z",image:"M13.5 2.89636H4.5C3.15381 2.89636 2.0625 3.98767 2.0625 5.33387V12.8339C2.0625 14.1801 3.15381 15.2714 4.5 15.2714H13.5C14.8462 15.2714 15.9375 14.1801 15.9375 12.8339V5.33387C15.9375 3.98767 14.8462 2.89636 13.5 2.89636Z",imageUpload:"M11.8185 9.83385C13.1453 9.83385 14.3658 11.0203 15 11.6074V14.3338H3C3 14.3338 3.97435 12.7848 4.99395 12.0262C6.01354 11.2676 7.17508 12.4511 8.45047 12.4511C9.72652 12.4511 10.4924 9.83385 11.8185 9.83385Z",downloadAlt:"M8.74469 3.37092C8.70195 3.02146 8.38472 2.75 8 2.75L7.91226 2.75525C7.53954 2.79499 7.25006 3.09271 7.25006 3.45266L7.24931 7.67686L6.29163 6.72073C6.14962 6.579 5.95718 6.4994 5.75654 6.4994C5.55591 6.4994 5.36347 6.579 5.22146 6.72073C5.15126 6.7908 5.09556 6.87403 5.05756 6.96565C5.01956 7.05726 5 7.15548 5 7.25466C5 7.35385 5.01956 7.45206 5.05756 7.54368C5.09556 7.6353 5.15126 7.71852 5.22146 7.78859L7.46529 10.0278C7.53539 10.0982 7.61872 10.1541 7.71048 10.1922C7.80224 10.2304 7.90063 10.25 8 10.25C8.09937 10.25 8.19776 10.2304 8.28952 10.1922C8.38128 10.1541 8.46461 10.0982 8.53471 10.0278L10.7785 7.78859C10.8487 7.71852 10.9044 7.6353 10.9424 7.54368C10.9804 7.45206 11 7.35385 11 7.25466C11 7.15548 10.9804 7.05726 10.9424 6.96565C10.9044 6.87403 10.8487 6.7908 10.7785 6.72073C10.6366 6.57923 10.4443 6.49978 10.2438 6.49978C10.0434 6.49978 9.8511 6.57923 9.70912 6.72073L8.74919 7.67761L8.74994 3.45341L8.74469 3.37092Z",user:"M19 21C19 17.134 15.866 14 12 14C8.13401 14 5 17.134 5 21M12 11C9.79086 11 8 9.20914 8 7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7C16 9.20914 14.2091 11 12 11Z",sun:"M12.2891 3.00684L13.2478 3.29115C13.3359 2.99394 13.2812 2.67266 13.0997 2.42135C12.9182 2.17004 12.6305 2.01711 12.3206 2.00733L12.2891 3.00684ZM12 5L11 5V5H12ZM20.9922 11.71L21.9917 11.6783C21.9819 11.3685 21.829 11.0808 21.5777 10.8993C21.3264 10.7178 21.0051 10.6631 20.708 10.7512L20.9922 11.71ZM12.2891 3.00684L11.3303 2.72252C11.1162 3.44452 11 4.20898 11 5L12 5H13C13 4.40583 13.0872 3.83275 13.2478 3.29115L12.2891 3.00684ZM12 5H11C11 9.41828 14.5817 13 19 13V12V11C15.6863 11 13 8.31371 13 5H12ZM19 12V13C19.7919 13 20.5558 12.8823 21.2764 12.6687L20.9922 11.71L20.708 10.7512C20.1654 10.9121 19.5928 11 19 11V12ZM20.9922 11.71L19.9927 11.7416C19.9965 11.8613 20 11.924 20 12H21H22C22 11.8818 21.994 11.7513 21.9917 11.6783L20.9922 11.71ZM21 12H20C20 16.4183 16.4183 20 12 20V21V22C17.5228 22 22 17.5228 22 12H21ZM12 21V20C7.58172 20 4 16.4183 4 12H3H2C2 17.5228 6.47715 22 12 22V21ZM3 12H4C4 7.58172 7.58172 4 12 4V3V2C6.47715 2 2 6.47715 2 12H3ZM12 3V4C12.0764 4 12.1503 4.00296 12.2575 4.00634L12.2891 3.00684L12.3206 2.00733C12.2358 2.00466 12.1171 2 12 2V3Z",folder:"M16 19L7 19C5.34315 19 4 17.6569 4 16L4 7C4 5.89543 4.89543 5 6 5L9.58539 5C10.4708 5 11.2993 5.43645 11.8 6.16667C12.3007 6.89688 13.1292 7.33333 14.0146 7.33333L17 7.33333C18.1046 7.33333 19 8.22876 19 9.33333L19 10",sparkle:"M10.0393 3.22167C10.2194 3.22156 10.3791 3.33714 10.4354 3.50821L11.2329 5.93259C11.2531 5.99534 11.2881 6.05237 11.3347 6.09899C11.3814 6.14561 11.4384 6.1805 11.5012 6.20076L11.5029 6.2013L13.92 6.99313C14.0911 7.04919 14.2069 7.20883 14.207 7.38892C14.2071 7.56901 14.0915 7.72879 13.9204 7.78506L11.4961 8.58249C11.4334 8.60282 11.3764 8.63774 11.3297 8.68441C11.2831 8.73107 11.2482 8.78807 11.2279 8.85082L11.2274 8.85249L10.4355 11.2697C10.3795 11.4408 10.2199 11.5566 10.0398 11.5567C9.85968 11.5567 9.69985 11.4412 9.6436 11.2702L8.84618 8.84574C8.82585 8.78299 8.79093 8.72599 8.74427 8.67932C8.6976 8.63274 8.6406 8.59782 8.57785 8.57757L8.57618 8.57707L6.15903 7.78521C5.98788 7.72915 5.87212 7.56951 5.87201 7.38942C5.8719 7.20933 5.98748 7.04955 6.15854 6.99328L8.58293 6.19586C8.64568 6.17554 8.70268 6.14061 8.74935 6.09396C8.79593 6.04731 8.83085 5.99025 8.8511 5.92748L8.8516 5.92583L9.64343 3.50868C9.69952 3.33755 9.85918 3.22178 10.0393 3.22167Z",moreHorizontal:"M7.85723 7.38782C7.85723 8.1078 7.27322 8.69175 6.55326 8.69175C5.83329 8.69175 5.25 8.1078 5.25 7.38782C5.25 6.66787 5.83329 6.08387 6.55326 6.08387C7.27322 6.08387 7.85655 6.66716 7.85723 7.38642V7.38782Z",brush:"M18.3762 2.62198C18.5733 2.42486 18.8073 2.26851 19.0649 2.16183C19.3224 2.05515 19.5984 2.00024 19.8772 2.00024C20.156 2.00024 20.432 2.05515 20.6895 2.16183C20.9471 2.26851 21.1811 2.42486 21.3782 2.62198C21.5753 2.81909 21.7317 3.0531 21.8384 3.31064C21.945 3.56819 21.9999 3.84422 21.9999 4.12298C21.9999 4.40174 21.945 4.67777 21.8384 4.93531C21.7317 5.19286 21.5753 5.42686 21.3782 5.62398L17.3602 9.64298C17.2665 9.73674 17.2138 9.8639 17.2138 9.99648C17.2138 10.1291 17.2665 10.2562 17.3602 10.35L18.3042 11.294C18.7561 11.7459 19.01 12.3589 19.01 12.998C19.01 13.6371 18.7561 14.25 18.3042 14.702L17.3602 15.646C17.2664 15.7397 17.1393 15.7924 17.0067 15.7924C16.8741 15.7924 16.747 15.7397 16.6532 15.646L8.35421 7.34798C8.26047 7.25421 8.20781 7.12706 8.20781 6.99448C8.20781 6.8619 8.26047 6.73474 8.35421 6.64098L9.29821 5.69698C9.75016 5.24509 10.3631 4.99123 11.0022 4.99123C11.6413 4.99123 12.2543 5.24509 12.7062 5.69698L13.6502 6.64098C13.744 6.73471 13.8711 6.78737 14.0037 6.78737C14.1363 6.78737 14.2634 6.73471 14.3572 6.64098L18.3762 2.62198Z",pen:"M8.99992 7.99995C7.19592 10.71 5.02992 11.46 2.41692 11.948C2.33024 11.9638 2.24918 12.0019 2.18173 12.0586C2.11428 12.1153 2.06277 12.1886 2.03229 12.2713C2.0018 12.354 1.99339 12.4432 2.00788 12.5301C2.02237 12.617 2.05926 12.6986 2.11492 12.767L9.43492 21.65C9.5836 21.8079 9.77959 21.9132 9.99333 21.95C10.2071 21.9867 10.427 21.9531 10.6199 21.854C12.7349 20.405 15.9999 16.792 15.9999 15",search:"M9 16.17L4.83 12L3.41 13.41L9 19L21 7L19.59 5.59L9 16.17Z"};function De({name:e,size:t=24,className:n="",strokeWidth:r=1.5,fill:o="none",stroke:a="currentColor",viewBox:c}){const u=r3[e];if(!u)return console.warn(`Icon "${e}" not found`),null;const p=(()=>{switch(e){case"play":return"0 0 12 12";case"plus":return"0 0 16 19";case"chevronDown":return"0 0 20 20";case"chevronUp":return"0 0 20 20";case"settings":return"0 0 16 16";case"cameraControl":return"0 0 16 16";case"imageStyle":return"0 0 16 16";case"wand":return"0 0 16 16";case"userCircle":return"0 0 16 16";case"tshirt":return"0 0 16 16";case"pose":return"0 0 16 16";case"faceExtract":return"0 0 16 16";case"refresh":return"0 0 16 16";case"delete":return"0 0 16 16";case"star":return"0 0 3.83436 3.83774";case"starSmall":return"0 0 2.89289 2.89545";case"user":return"0 0 24 24";case"sun":return"0 0 24 24";case"folder":return"0 0 24 24";case"sparkle":return"0 0 16 16";case"brush":return"0 0 24 24";case"pen":return"0 0 24 24";case"moreHorizontal":return"0 0 12 12";case"search":return"0 0 24 24";default:return"0 0 24 24"}})();return l.jsx("svg",{className:n,width:t,height:t,viewBox:c||p,fill:o,xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:u,stroke:a,strokeWidth:r,strokeLinecap:"round",strokeLinejoin:"round"})})}function o3({onClick:e,className:t="",label:n="Play"}){return l.jsxs("div",{className:`group content-stretch flex items-center justify-center p-2.5 relative rounded-full shrink-0 cursor-pointer transition-all duration-200 w-[24px] h-[24px] hover:w-[60px] bg-card hover:bg-primary hover:gap-[4px] border border-border hover:border-primary nodrag ${t}`,onClick:e,children:[l.jsx("div",{className:"relative shrink-0 size-[12px]",children:l.jsx("svg",{className:"block size-full",fill:"none",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:r3.play,stroke:"currentColor",strokeWidth:1.5,className:"text-foreground group-hover:text-primary-foreground"})})}),l.jsx("span",{className:"hidden group-hover:block text-primary-foreground dark:text-white text-[12px] font-bold whitespace-nowrap",children:n})]})}const wP=e=>[{id:"model",label:"Doubao Seedream 4.5",type:"model",value:"doubao-seedream-4-5-251128"},{id:"mode",label:e("no_preset_added"),type:"mode"},{id:"img1",label:`${e("image_n")}1`,type:"image"},{id:"quantity",label:e("quantity"),type:"number",value:1},{id:"aspectRatio",label:e("size"),type:"aspectRatio",value:"9:16"},{id:"quality",label:e("clarity"),type:"quality",value:"2K"},{id:"sequential",label:e("sequential_mode"),type:"sequential",value:"disabled"},{id:"guidance",label:e("prompt_consistency"),type:"guidance",value:7},{id:"seed",label:e("random_seed"),type:"seed",value:0}],_P=e=>[e("preset_image_reverse"),e("preset_switch_view"),e("preset_arch_to_model"),e("preset_combine_objects"),e("preset_hd_enhance"),e("preset_to_lineart"),e("preset_color_with_palette"),e("preset_character_set"),e("preset_virtual_real"),e("preset_anime_to_real"),e("preset_pose_ref"),e("preset_to_figure"),e("preset_to_funko"),e("preset_to_lego"),e("preset_to_barbie"),e("preset_to_gundam"),e("preset_cyber_baby"),e("preset_product_render"),e("preset_pro_photo"),e("preset_light_ref"),e("preset_paint_process"),e("preset_style_to_real"),e("preset_to_pendant"),e("preset_effect_stack"),e("preset_product_pack"),e("preset_virtual_makeup"),e("preset_expression_ref")];function zy(e){const t={width:1024,height:1024};if(!e)return t;const n=e.split(":");if(n.length!==2)return t;const r=parseInt(n[0],10),o=parseInt(n[1],10);if(isNaN(r)||isNaN(o))return t;const a=1024*1024,c=r/o,u=Math.round(Math.sqrt(a/c)),p=Math.round(u*c);return{width:Math.round(p/8)*8,height:Math.round(u/8)*8}}function Dy(e){return{512:15,"1K":20,"2K":25,"4K":30}[e]||20}function Oy({data:e,id:t,selected:n}){const{t:r}=rn(),o=b.useMemo(()=>wP(r),[r]),a=b.useMemo(()=>_P(r),[r]),{updateNodeData:c}=cs(),[u,p]=b.useState(()=>{if(e.inputs&&Array.isArray(e.inputs)){const te=e.inputs,ae=[],fe=te.find(we=>we.type==="model")||o.find(we=>we.type==="model");ae.push(fe);const Le=te.find(we=>we.type==="mode")||o.find(we=>we.type==="mode");ae.push(Le);const Re=te.filter(we=>we.type==="image");Re.length>0&&ae.push(...Re.map(we=>({...we,id:we.id||`img-${Date.now()}-${Math.random()}`})));const ce=te.find(we=>we.type==="number")||o.find(we=>we.type==="number");ae.push(ce);const ye=te.find(we=>we.type==="aspectRatio")||o.find(we=>we.type==="aspectRatio");ae.push(ye);const Ee=te.find(we=>we.type==="quality")||o.find(we=>we.type==="quality");ae.push(Ee);const qe=te.find(we=>we.type==="sequential")||o.find(we=>we.type==="sequential");ae.push(qe);const Ue=te.find(we=>we.type==="guidance")||o.find(we=>we.type==="guidance");ae.push(Ue);const _e=te.find(we=>we.type==="seed")||o.find(we=>we.type==="seed");return ae.push(_e),ae}return o}),f=jt(),{setProcessedImage:h,images:m,processedImages:x,nodes:y,getNodeState:w,setNodeState:v}=f,{addAsset:C}=dc(),{getNode:k}=cs(),[E,N]=b.useState(!1),j=b.useRef(null),{isConnected:P,connect:L,queuePrompt:T,getHistory:D,models:$,on:Y,off:G}=zg(),V=w(t),W=V.prompt,z=V.isLoadingModel,M=V.loadingProgress,F=V.generationProgress,H=V.currentStep,R=V.isProcessing,I=O_({handleType:"target",handleId:"text-input"}),U=Yj(I?.[0]?.source),O=U?.data?.label||U?.data?.text||"",B=He(te=>te.edges),[q,X]=b.useState(null);b.useEffect(()=>{c(t,{inputs:u})},[u,t,c]),b.useEffect(()=>{function te(ae){j.current&&!j.current.contains(ae.target)&&N(!1),ae.target.closest(".popup-container")===null&&X(null)}return document.addEventListener("mousedown",te),()=>document.removeEventListener("mousedown",te)},[]);const ne=(te,ae)=>B.some(fe=>fe.target===t&&fe.targetHandle===te),ie=()=>{const ae={id:`img-${Date.now()}`,label:`${r("image_n")}${u.filter(ce=>ce.type==="image").length+1}`,type:"image"},fe=u.findLastIndex(ce=>ce.type==="image"),Le=fe===-1?2:fe+1,Re=[...u];Re.splice(Le,0,ae),p(Re),N(!1)},ee=te=>{if(u.filter(fe=>fe.type==="image").length<=1){ve.error(r("at_least_one_image"));return}p(u.filter(fe=>fe.id!==te))},J=(te,ae,fe)=>{p(u.map(Le=>Le.id===te?{...Le,label:fe.split(" (")[0],value:ae}:Le)),X(null)},le=(te,ae)=>{p(u.map(Le=>Le.id===te?{...Le,label:ae}:Le));const fe=bP.getPresetPrompt(ae);fe&&(v(t,{prompt:fe}),ve.success(`${r("preset_applied")}: ${ae}`)),X(null)},de=(te,ae)=>{p(u.map(fe=>{if(fe.id===te){const Le=Number(fe.value)||1;return{...fe,value:Math.max(1,Math.min(10,Le+ae))}}return fe}))},me=async()=>{console.log("handleRun called",{id:t,isNodeProcessing:R,prompt:W,connectedText:O});try{if(R){console.log("Already processing, returning");return}v(t,{isProcessing:!0,isLoadingModel:!0,loadingProgress:0,generationProgress:0,currentStep:r("connecting_server")||"Connecting to server..."});const te=u.find($e=>$e.type==="model"),ae=u.find($e=>$e.type==="number"),fe=u.find($e=>$e.type==="aspectRatio"),Le=u.find($e=>$e.type==="quality"),Re=u.find($e=>$e.type==="guidance"),ce=u.find($e=>$e.type==="seed"),ye=ne("text-input","target")?O:W;if(console.log("currentPrompt:",ye,"isHandleConnected:",ne("text-input","target")),!ye){ve.error(r("enter_prompt_or_connect")),v(t,{isProcessing:!1,isLoadingModel:!1});return}const Ee=te?.value||"",qe=Ou(Ee);let Ue;if(qe){v(t,{currentStep:r("loading_model")||"Loading Z-Image model...",loadingProgress:10});const{width:$e,height:Qe}=zy(fe?.value||"1:1"),Ht=Dy(Le?.value||"2K"),Pt=Re?.value||7,Dt=ce?.value||Math.floor(Math.random()*1e6),it=u.filter(dn=>dn.type==="image"),It=[];for(const dn of it){const Sr=m[dn.id];Sr&&It.push(Sr)}const on=ma[Ee]||ma["z-image"],or=u.find(dn=>dn.type==="lora"),kr=or?.value,Nr=or?.strength||1;Ue=J_({checkpointName:Ee,vaeName:on.vae,clipName:on.clip,width:$e,height:Qe,steps:Ht,cfg:Pt,seed:Dt,prompt:ye,negativePrompt:"",images:It,loraName:kr,loraStrength:Nr}),v(t,{loadingProgress:30})}else{const{workflow:$e,validation:Qe}=dP(y,B);if(!Qe.isValid){ve.error(Qe.errors.join(`
`)),v(t,{isProcessing:!1,isLoadingModel:!1});return}Ue=$e}P||await L(),v(t,{loadingProgress:50,currentStep:r("submitting_workflow")||"Submitting workflow..."});const _e=await T(Ue);v(t,{isLoadingModel:!1,generationProgress:0,currentStep:r("generating")||"Generating..."});const we=$e=>{if($e.type==="progress"){const Qe=$e.current/$e.total*100;v(t,{generationProgress:Qe,currentStep:`${r("generating")||"Generating"} ${$e.current}/${$e.total}`})}else $e.type==="executing"&&v(t,{currentStep:`${r("executing_node")||"Executing"}: ${$e.node}`})};Y("progress",we),Y("executing",we);const zt=async()=>{try{const Qe=(await D(_e))[_e];if(Qe&&Qe.outputs){for(const[Ht,Pt]of Object.entries(Qe.outputs))if(Pt.images&&Pt.images.length>0){const Dt=Pt.images[0];let it;typeof Dt=="string"?it=Dt:Dt.filename?it=`http://localhost:8188/view?filename=${Dt.filename}&type=${Dt.type||"output"}&subfolder=${Dt.subfolder||""}`:it=Dt,h(t,it);try{const It=te?.label||"ComfyUI",on=`${r("generation_result")} - ${new Date().toLocaleString()}`,{width:or,height:kr}=zy(fe?.value||"1:1");C({type:"image",title:on,tags:[fe?.value||"Unknown Ratio",Le?.value||"Unknown Quality",It],prompt:ye||r("no_prompt"),images:[it],isFavorite:!1,generationParams:{model:te?.value,modelLabel:It,aspectRatio:fe?.value,resolution:{width:or,height:kr},quality:Le?.value,steps:Dy(Le?.value||"2K"),cfg:Re?.value||7,seed:ce?.value||Math.floor(Math.random()*1e6),sequential:u.find(Nr=>Nr.type==="sequential")?.value}})}catch(It){console.error("Failed to save image to assets:",It)}G("progress",we),G("executing",we),v(t,{generationProgress:100,currentStep:r("complete")||"Complete!",isProcessing:!1}),ve.success(r("generation_complete_saved")),setTimeout(()=>{v(t,{generationProgress:0,currentStep:""})},2e3);return}}v(t,{generationProgress:Math.min(F+5,90)}),setTimeout(zt,1e3)}catch($e){console.error("Error getting history:",$e),G("progress",we),G("executing",we),ve.error(r("generation_failed")),v(t,{isProcessing:!1,isLoadingModel:!1,generationProgress:0,currentStep:""})}};setTimeout(zt,2e3)}catch(te){console.error("Generation error:",te);const ae=te?.message||r("generation_failed");ve.error(ae),v(t,{isProcessing:!1,isLoadingModel:!1,generationProgress:0,currentStep:""})}};return l.jsxs(l.Fragment,{children:[l.jsx(us,{color:"transparent",handleClassName:"opacity-0 hover:opacity-100 transition-opacity",handleStyle:{width:8,height:8,borderRadius:2,border:"1px solid var(--primary)",backgroundColor:"var(--background)"},lineStyle:{borderWidth:1,borderColor:"var(--primary)",opacity:.5},isVisible:n,minWidth:214,minHeight:320}),n&&l.jsx("div",{className:"absolute top-[-40px] left-1/2 -translate-x-1/2 z-50",children:l.jsx(rf,{nodeId:t})}),l.jsxs("div",{className:"bg-card flex flex-col gap-2 items-start p-1 relative rounded-[var(--radius)] group min-h-full h-full",children:[l.jsx("div",{"aria-hidden":"true",className:"absolute border border-border border-solid inset-0 pointer-events-none rounded-[var(--radius)]"}),l.jsxs("div",{className:"flex flex-col gap-1 items-start relative shrink-0 w-full",children:[u.filter(te=>te.type==="model").map(te=>l.jsx(Fu,{item:te,activePopup:q,setActivePopup:X,inputs:u,setInputs:p,onModelSelect:J,onPresetSelect:le,onNumberChange:de,onDeleteInput:ee,PRESET_OPTIONS:a},te.id)),Ou(u.find(te=>te.type==="model")?.value||"")&&$.loras&&$.loras.length>0&&l.jsxs("div",{className:"w-full",children:[l.jsx("div",{className:"bg-secondary h-[32px] relative rounded-[var(--radius-sm)] shrink-0 w-full cursor-pointer hover:bg-muted transition-colors px-[10px] py-[4px]",onClick:()=>X(q==="lora"?null:"lora"),children:l.jsxs("div",{className:"flex items-center justify-between h-full gap-[6px]",children:[l.jsxs("div",{className:"flex items-center gap-[6px]",children:[l.jsx("div",{className:"content-stretch flex items-center justify-center overflow-clip p-[2px] relative shrink-0 size-[16px]","data-name":"Icon",children:l.jsxs("svg",{className:"block size-[9px]",viewBox:"0 0 9 3",fill:"none",children:[l.jsx("path",{d:"M0 0L3 3",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M6 0L9 3",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}),l.jsx("span",{className:`text-[12px] font-medium tracking-[-0.16px] ${u.find(te=>te.type==="lora")?.value?"text-[var(--Black-100,#1c1c1c)] dark:text-foreground":"text-[var(--Black-40,#1c1c1c66)] dark:text-muted-foreground"}`,children:u.find(te=>te.type==="lora")?.value?$.loras.find(te=>te.model_name===u.find(ae=>ae.type==="lora")?.value)?.title||"LoRA":r("select_lora")||" LoRA"})]}),l.jsx("div",{className:"size-[12px] shrink-0 relative",children:l.jsx("svg",{className:`block size-full transition-transform ${q==="lora"?"rotate-0":"-rotate-90"}`,fill:"none",viewBox:"0 0 12 12",children:l.jsx("path",{d:"M3 4.5L6 7.5L9 4.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})})})]})}),q==="lora"&&l.jsxs("div",{className:"absolute z-50 mt-1 w-[calc(100%-8px)] bg-popover border border-border rounded-[var(--radius)] shadow-lg max-h-[200px] overflow-y-auto",children:[u.find(te=>te.type==="lora")?.value&&l.jsx("div",{className:"px-3 py-2 hover:bg-muted cursor-pointer text-sm text-muted-foreground border-b border-border",onClick:()=>{const te=u.find(ae=>ae.type==="lora");te&&p(u.filter(ae=>ae.id!==te.id)),X(null)},children:r("clear_lora")||" LoRA"}),$.loras.map(te=>l.jsx("div",{className:"px-3 py-2 hover:bg-muted cursor-pointer text-sm",onClick:()=>{const ae=u.find(fe=>fe.type==="lora");p(ae?u.map(fe=>fe.type==="lora"?{...fe,value:te.model_name}:fe):[...u,{id:`lora-${Date.now()}`,type:"lora",value:te.model_name,label:te.title}]),X(null)},children:te.title},te.model_name))]})]}),Ou(u.find(te=>te.type==="model")?.value||"")&&u.find(te=>te.type==="lora")?.value&&l.jsxs("div",{className:"w-full h-[20px] flex items-center justify-between relative",children:[l.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-[1px] bg-border -translate-y-1/2"}),l.jsx("div",{className:"absolute top-1/2 left-[113px] -translate-y-1/2 bg-[var(--Brand-Doubao-100,#00e424)] rounded-[13px] px-[6px] py-[1px] min-w-[24px] h-[14px] flex items-center justify-center",children:l.jsx("span",{className:"text-[10px] font-medium text-white leading-[10px] tracking-[-0.16px]",children:(u.find(te=>te.type==="lora")?.strength||1).toFixed(1)})}),l.jsx("input",{type:"range",min:"0",max:"2",step:"0.1",value:u.find(te=>te.type==="lora")?.strength||1,onChange:te=>{u.find(fe=>fe.type==="lora")&&p(u.map(fe=>fe.type==="lora"?{...fe,strength:parseFloat(te.target.value)}:fe))},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]}),u.filter(te=>te.type==="mode").map(te=>l.jsx(Fu,{item:te,activePopup:q,setActivePopup:X,inputs:u,setInputs:p,onModelSelect:J,onPresetSelect:le,onNumberChange:de,onDeleteInput:ee,PRESET_OPTIONS:a},te.id)),!Ou(u.find(te=>te.type==="model")?.value||"")&&l.jsxs(l.Fragment,{children:[u.filter(te=>te.type==="image").map(te=>l.jsx(Fu,{item:te,activePopup:q,setActivePopup:X,inputs:u,setInputs:p,onModelSelect:J,onPresetSelect:le,onNumberChange:de,onDeleteInput:ee,PRESET_OPTIONS:a},te.id)),l.jsx("div",{className:"content-stretch flex items-center justify-center relative rounded-[var(--radius-sm)] shrink-0 w-full",children:l.jsx("div",{className:"bg-secondary flex-[1_0_0] h-[32px] min-h-px min-w-px relative rounded-[var(--radius-sm)] cursor-pointer hover:bg-muted transition-colors",onClick:ie,children:l.jsx("div",{className:"flex flex-row items-center justify-center size-full",children:l.jsxs("div",{className:"content-stretch flex gap-1.5 items-center justify-center px-2.5 py-1 relative size-full",children:[l.jsx("div",{className:"flex flex-col justify-center leading-[0] relative shrink-0 text-[length:var(--text-p)] font-medium text-muted-foreground whitespace-nowrap",children:l.jsx("p",{className:"leading-[16.5px]",children:r("image")})}),l.jsx("div",{className:"relative shrink-0 size-[12px] opacity-40",children:l.jsxs("svg",{className:"block size-full",fill:"none",viewBox:"0 0 12 12",children:[l.jsx("path",{d:"M2.49998 6H9.49998",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M6 2.49998V9.49998",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]})})]})})})})]})]}),l.jsxs("div",{className:"bg-secondary relative rounded-[var(--radius-sm)] w-full flex-1 min-h-[80px] overflow-hidden flex flex-col",children:[l.jsx("div",{className:"flex flex-col items-end justify-center flex-1 min-h-[80px]",children:l.jsx("div",{className:"content-stretch flex flex-col items-end justify-center p-3 relative size-full",children:l.jsx("div",{className:"content-stretch flex flex-col items-start relative w-full h-full",children:ne("text-input")?l.jsx("div",{className:"text-[length:var(--text-p)] text-foreground leading-[1.5] w-full h-full overflow-auto whitespace-pre-wrap opacity-60",children:O}):l.jsx("textarea",{value:W,onChange:te=>{v(t,{prompt:te.target.value})},className:"w-full h-full min-h-[60px] bg-transparent border-none outline-none resize-none text-[length:var(--text-p)] leading-[1.5] placeholder:text-muted-foreground text-foreground overflow-y-auto",placeholder:"Enter text "})})})}),l.jsx("div",{className:"absolute left-[-12px] top-1/2 -translate-y-1/2 z-30",children:l.jsx(Kt,{type:"target",position:Ce.Left,id:"text-input",className:"!w-[16px] !h-[16px] !border-[1.5px] !border-card !bg-primary !rounded-full opacity-100"})})]}),l.jsx("div",{className:"h-[2px] relative shrink-0 w-[206px] my-1",children:l.jsx("svg",{className:"block size-full",fill:"none",viewBox:"0 0 206 2",children:l.jsx("path",{d:"M4 1H202",stroke:"currentColor",strokeLinecap:"round",strokeOpacity:"0.05"})})}),l.jsx("div",{className:"content-stretch flex flex-col gap-1 items-start relative shrink-0 w-full",children:u.filter(te=>["number","aspectRatio","quality","sequential","guidance","seed"].includes(te.type)).map(te=>l.jsx(Fu,{item:te,activePopup:q,setActivePopup:X,inputs:u,setInputs:p,onModelSelect:J,onPresetSelect:le,onNumberChange:de,onDeleteInput:ee,PRESET_OPTIONS:a},te.id))}),(z||R)&&l.jsx("div",{className:"w-full px-1",children:l.jsx("div",{className:"h-[2px] bg-secondary rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-primary transition-all duration-300 ease-out rounded-full",style:{width:`${z?M:F}%`}})})}),l.jsx("div",{className:"relative shrink-0 w-full mt-1",children:l.jsx("div",{className:"h-[32px] relative shrink-0 w-full",children:l.jsx("div",{className:"flex flex-row items-center size-full",children:l.jsxs("div",{className:"content-stretch flex gap-[10px] items-center px-[4px] relative size-full",children:[l.jsx("div",{className:"content-stretch flex gap-[10px] items-center justify-center relative shrink-0 size-[16px]",children:l.jsx(De,{name:"wand",size:16})}),l.jsx("div",{className:"flex flex-[1_0_0] flex-col justify-center leading-[0] min-h-px min-w-px not-italic relative text-foreground text-[length:var(--text-p)] font-semibold",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("p",{className:"leading-[22.5px] whitespace-pre-wrap",children:"Image Editor"}),(z||R)&&l.jsxs("span",{className:"text-[8px] text-muted-foreground font-normal",children:[H," ",z?`${Math.round(M)}%`:`${Math.round(F)}%`]})]})}),l.jsx(o3,{onClick:te=>{if(console.log("PlayButton clicked",{id:t,isNodeProcessing:R}),te.stopPropagation(),R){v(t,{isProcessing:!1,isLoadingModel:!1,generationProgress:0,loadingProgress:0,currentStep:""}),ve.info(r("generation_reset")||"Generation reset");return}me()},className:R?"opacity-50 cursor-not-allowed":""})]})})})}),l.jsx("div",{className:"absolute right-[-24px] top-1/2 -translate-y-1/2 z-30",children:l.jsx(Kt,{type:"source",position:Ce.Right,id:"output",className:"!w-[16px] !h-[16px] !border-[1.5px] !border-card !bg-primary !rounded-full opacity-100"})})]})]})}const bP={getPresetPrompt(e){return{"Image Reverse":"Reverse the image style while maintaining the main subject","Switch View":"Change the viewing angle of the subject","Arch to Model":"Convert architectural design to realistic model","Combine Objects":"Combine multiple objects into one scene","HD Enhance":"Enhance the image to high definition quality","To Lineart":"Convert image to line art style","Color with Palette":"Apply a specific color palette to the image","Character Set":"Create a character set from the input","Virtual to Real":"Convert virtual/rendered image to realistic photo","Anime to Real":"Convert anime style to realistic photo","Pose Reference":"Use as pose reference for generation","To Figure":"Convert to figure/collectible style","To Funko":"Convert to Funko Pop style","To Lego":"Convert to Lego style","To Barbie":"Convert to Barbie doll style","To Gundam":"Convert to Gundam mecha style","Cyber Baby":"Apply cyberpunk baby style","Product Render":"Create professional product render","Pro Photo":"Apply professional photography style","Light Reference":"Use as lighting reference","Paint Process":"Convert to painted artwork style","Style to Real":"Convert stylized image to realistic","To Pendant":"Convert to pendant/jewelry style","Effect Stack":"Apply multiple effects stack","Product Pack":"Create product packaging design","Virtual Makeup":"Apply virtual makeup","Expression Reference":"Use as expression reference"}[e]||null}},CP=[{id:"Florence-2-base-PromptGen-v2.0",label:"Florence2 Base"},{id:"Florence-2-large-PromptGen-v2.0",label:"Florence2 Large"},{id:"Florence-2-base",label:"Florence2 Base (Original)"},{id:"Florence-2-large",label:"Florence2 Large (Original)"}],kP=[{id:"more_detailed_caption",label:""},{id:"caption",label:""},{id:"dense_region_caption",label:""},{id:"region_proposal",label:""},{id:"odv",label:""}];function NP({data:e,id:t,selected:n}){const{t:r}=rn(),{images:o,setImage:a}=jt(),{isConnected:c,connect:u,queuePrompt:p,getHistory:f,on:h,off:m}=zg(),x=b.useRef(null),[y,w]=b.useState([{id:"model",label:"Florence2 Base",type:"model",value:"Florence-2-base-PromptGen-v2.0"},{id:"task",label:"",type:"task",value:"more_detailed_caption"},{id:"image",label:`${r("image_n")}1`,type:"image"}]),[v,C]=b.useState(!1),[k,E]=b.useState(0),[N,j]=b.useState(""),[P,L]=b.useState(""),[T,D]=b.useState(null),$=o[t],Y=!!$;b.useEffect(()=>{function H(R){R.target.closest(".popup-container")===null&&D(null)}return document.addEventListener("mousedown",H),()=>document.removeEventListener("mousedown",H)},[]);const G=H=>{const R=H.target.files?.[0];if(R){const I=new FileReader;I.onload=U=>{const O=U.target?.result;a(t,O)},I.readAsDataURL(R)}},V=()=>{x.current?.click()},W=(H,R)=>{w(y.map(I=>I.id==="model"?{...I,label:R,value:H}:I)),D(null)},z=(H,R)=>{w(y.map(I=>I.id==="task"?{...I,label:R,value:H}:I)),D(null)},M=()=>{const H=y.find(I=>I.type==="model"),R=y.find(I=>I.type==="task");return{1:{inputs:{model:H?.value||"Florence-2-base-PromptGen-v2.0",precision:"fp16",attention:"sdpa",convert_to_safetensors:!1},class_type:"Florence2ModelLoader"},2:{inputs:{text_input:"",task:R?.value||"more_detailed_caption",fill_mask:!0,keep_model_loaded:!1,max_new_tokens:1024,num_beams:3,do_sample:!0,output_mask_select:"",seed:Math.floor(Math.random()*1e14),image:["3",0],florence2_model:["1",0]},class_type:"Florence2Run"},3:{inputs:{image:$||""},class_type:"LoadImage"},5:{inputs:{text:["2",2]},class_type:"ShowText|pysssss"}}},F=async()=>{if(Y)try{C(!0),E(0),j(r("connecting_server")||"Connecting to server..."),c||await u(),E(30),j(r("loading_model")||"Loading model...");const H=M(),R=await p(H);E(50),j(r("generating")||"Generating caption...");const I=O=>{if(O.type==="progress"){const B=O.current/O.total*100;E(50+B*.5)}};h("progress",I);const U=async()=>{try{const B=(await f(R))[R];if(B&&B.outputs){for(const[q,X]of Object.entries(B.outputs))if(X.text&&X.text.length>0){const ne=X.text[0];L(ne),m("progress",I),E(100),j(r("complete")||"Complete!"),C(!1),setTimeout(()=>{E(0),j("")},2e3);return}}E(q=>Math.min(q+5,90)),setTimeout(U,1e3)}catch(O){console.error("Error getting history:",O),m("progress",I),C(!1),E(0),j("")}};setTimeout(U,2e3)}catch(H){console.error("Caption error:",H),C(!1),E(0),j("")}};return l.jsxs(l.Fragment,{children:[l.jsx(us,{color:"transparent",handleClassName:"opacity-0 hover:opacity-100 transition-opacity",handleStyle:{width:8,height:8,borderRadius:2,border:"1px solid var(--primary)",backgroundColor:"var(--background)"},lineStyle:{borderWidth:1,borderColor:"var(--primary)",opacity:.5},isVisible:n,minWidth:210,minHeight:150}),n&&l.jsx("div",{className:"absolute top-[-40px] left-1/2 -translate-x-1/2 z-50",children:l.jsx(rf,{nodeId:t})}),l.jsxs("div",{className:"bg-card flex flex-col gap-1 items-start p-1 relative rounded-[var(--radius)] group",style:{width:"210px"},children:[l.jsx("div",{"aria-hidden":"true",className:"absolute border border-border border-solid inset-0 pointer-events-none rounded-[var(--radius)]"}),y.filter(H=>H.type==="model").map(H=>l.jsxs("div",{className:"relative w-full",children:[l.jsx("div",{className:"bg-secondary h-[32px] relative rounded-[var(--radius-sm)] shrink-0 w-full cursor-pointer hover:bg-muted transition-colors",onClick:()=>D(T==="model"?null:"model"),children:l.jsx("div",{className:"flex flex-row items-center justify-center size-full",children:l.jsxs("div",{className:"content-stretch flex gap-1.5 items-center justify-center px-2.5 py-1 relative size-full",children:[l.jsx("div",{className:"content-stretch flex items-center justify-center overflow-clip p-[2px] relative shrink-0 size-[16px]",children:l.jsx("div",{className:"relative shrink-0 size-[9px]",children:l.jsxs("svg",{className:"block size-full",fill:"none",viewBox:"0 0 10.5 10.5",children:[l.jsx("path",{d:"M0.75 0.75L3.75 3.75",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),l.jsx("path",{d:"M6.75 3.75L9.75 0.75",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),l.jsx("path",{d:"M0.75 9.75L3.75 6.75",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),l.jsx("path",{d:"M6.75 6.75L9.75 9.75",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})]})})}),l.jsx("div",{className:"flex flex-[1_0_0] flex-col justify-center leading-[0] min-h-px min-w-px relative text-foreground text-[length:var(--text-p)] font-medium tracking-[-0.16px]",children:l.jsx("p",{className:"leading-[16.5px] whitespace-pre-wrap",children:H.label})}),l.jsx("div",{className:"flex items-center justify-center relative shrink-0 size-[12px] transition-transform duration-200",style:{transform:T==="model"?"rotate(0deg)":"rotate(-90deg)"},children:l.jsx("svg",{className:"block size-full",fill:"none",viewBox:"0 0 12 12",children:l.jsx("path",{d:"M3 4.5L6 7.5L9 4.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}),T==="model"&&l.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-popover border border-border rounded-[var(--radius-sm)] shadow-lg z-50 popup-container max-h-[200px] overflow-y-auto",children:CP.map(R=>l.jsx("div",{className:"px-3 py-2 hover:bg-muted cursor-pointer text-sm",onClick:()=>W(R.id,R.label),children:R.label},R.id))})]},H.id)),y.filter(H=>H.type==="task").map(H=>l.jsxs("div",{className:"relative w-full",children:[l.jsx("div",{className:"bg-secondary h-[32px] relative rounded-[var(--radius-sm)] shrink-0 w-full cursor-pointer hover:bg-muted transition-colors",onClick:()=>D(T==="task"?null:"task"),children:l.jsx("div",{className:"flex flex-row items-center justify-center size-full",children:l.jsxs("div",{className:"content-stretch flex gap-1.5 items-center justify-center px-2.5 py-1 relative size-full",children:[l.jsx("div",{className:"content-stretch flex items-center justify-center relative shrink-0 size-[16px]",children:l.jsx("div",{className:"relative shrink-0 size-[14.4px]",children:l.jsxs("svg",{className:"block size-full",fill:"none",viewBox:"0 0 14.4 14.4",children:[l.jsx("path",{clipRule:"evenodd",d:"M1.44 3.6C1.44 2.81672 1.86607 2.12946 2.52 1.8H11.88C12.5339 2.12946 12.96 2.81672 12.96 3.6V10.8C12.96 11.5833 12.5339 12.2705 11.88 12.6H2.52C1.86607 12.2705 1.44 11.5833 1.44 10.8V3.6Z",fill:"currentColor",fillRule:"evenodd"}),l.jsx("path",{d:"M8.64 7.2C8.64 7.99513 8.01513 8.62 7.2 8.62C6.40487 8.62 5.78 7.99513 5.78 7.2C5.78 6.40487 6.40487 5.78 7.2 5.78C8.01513 5.78 8.64 6.40487 8.64 7.2Z",stroke:"currentColor",strokeWidth:"0.9"}),l.jsx("path",{d:"M11.88 1.8V3.6",fill:"currentColor",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"0.9"})]})})}),l.jsx("div",{className:"flex flex-[1_0_0] flex-col justify-center leading-[0] min-h-px min-w-px overflow-hidden relative text-foreground text-[length:var(--text-p)] font-medium text-ellipsis whitespace-nowrap",children:l.jsx("p",{className:"leading-[16.5px] overflow-hidden",children:H.label})}),l.jsx("div",{className:"flex items-center justify-center relative shrink-0 size-[12px] transition-transform duration-200",style:{transform:T==="task"?"rotate(0deg)":"rotate(-90deg)"},children:l.jsx("svg",{className:"block size-full",fill:"none",viewBox:"0 0 12 12",children:l.jsx("path",{d:"M3 4.5L6 7.5L9 4.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}),T==="task"&&l.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-popover border border-border rounded-[var(--radius-sm)] shadow-lg z-50 popup-container",children:kP.map(R=>l.jsx("div",{className:"px-3 py-2 hover:bg-muted cursor-pointer text-sm",onClick:()=>z(R.id,R.label),children:R.label},R.id))})]},H.id)),l.jsxs("div",{className:"relative w-full",children:[l.jsx("div",{className:"bg-secondary h-[32px] relative rounded-[var(--radius-sm)] shrink-0 w-full cursor-pointer hover:bg-muted transition-colors",onClick:V,children:l.jsx("div",{className:"flex flex-row items-center justify-end size-full",children:l.jsxs("div",{className:"content-stretch flex gap-1.5 items-center justify-end px-2.5 py-1 relative size-full",children:[l.jsx("div",{className:"content-stretch flex items-center justify-center relative shrink-0 size-[16px]",children:l.jsx("div",{className:"relative shrink-0 size-[14.4px]",children:l.jsxs("svg",{className:"block size-full",fill:"none",viewBox:"0 0 14.4 14.4",children:[l.jsx("path",{clipRule:"evenodd",d:"M1.44 3.6C1.44 2.81672 1.86607 2.12946 2.52 1.8H11.88C12.5339 2.12946 12.96 2.81672 12.96 3.6V10.8C12.96 11.5833 12.5339 12.2705 11.88 12.6H2.52C1.86607 12.2705 1.44 11.5833 1.44 10.8V3.6Z",fill:"currentColor",fillRule:"evenodd"}),l.jsx("path",{d:"M8.64 7.2C8.64 7.99513 8.01513 8.62 7.2 8.62C6.40487 8.62 5.78 7.99513 5.78 7.2C5.78 6.40487 6.40487 5.78 7.2 5.78C8.01513 5.78 8.64 6.40487 8.64 7.2Z",stroke:"currentColor",strokeWidth:"0.9"}),l.jsx("path",{d:"M11.88 1.8V3.6",fill:"currentColor",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"0.9"})]})})}),l.jsx("div",{className:"flex flex-[1_0_0] flex-col justify-center leading-[0] min-h-px min-w-px overflow-hidden relative text-foreground text-[length:var(--text-p)] font-medium text-ellipsis whitespace-nowrap",children:l.jsx("p",{className:"leading-[16.5px] overflow-hidden",children:Y?r("image_uploaded")||"":r("image")||""})}),l.jsx("div",{className:"relative shrink-0 size-[12px] opacity-40",children:l.jsxs("svg",{className:"block size-full",fill:"none",viewBox:"0 0 12 12",children:[l.jsx("path",{d:"M2.49998 6H9.49998",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M6 2.49998V9.49998",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]})})]})})}),l.jsx("div",{className:"absolute left-[-12px] top-1/2 -translate-y-1/2 z-30",children:l.jsx(Kt,{type:"target",position:Ce.Left,id:"image-input",className:"!w-[16px] !h-[16px] !border-[1.5px] !border-card !bg-primary !rounded-full opacity-100"})})]}),P&&l.jsx("div",{className:"bg-secondary relative rounded-[var(--radius-sm)] shrink-0 w-full p-2",children:l.jsx("p",{className:"text-[length:var(--text-p)] text-foreground leading-[1.5] whitespace-pre-wrap text-sm",children:P})}),l.jsx("div",{className:"relative shrink-0 w-full mt-1",children:l.jsx("div",{className:"h-[32px] relative shrink-0 w-full",children:l.jsx("div",{className:"flex flex-row items-center size-full",children:l.jsxs("div",{className:"content-stretch flex gap-[10px] items-center px-[4px] relative size-full",children:[l.jsxs("div",{className:"flex flex-[1_0_0] flex-col justify-center leading-[0] min-h-px min-w-px not-italic relative text-foreground text-[length:var(--text-p)] font-semibold",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("p",{className:"leading-[22.5px] whitespace-pre-wrap",children:r("image_caption")||""}),v&&l.jsxs("span",{className:"text-[8px] text-muted-foreground font-normal",children:[N," ",Math.round(k),"%"]})]}),v&&l.jsx("div",{className:"h-[2px] bg-secondary rounded-full overflow-hidden mt-0.5",children:l.jsx("div",{className:"h-full bg-primary transition-all duration-300 ease-out rounded-full",style:{width:`${k}%`}})})]}),l.jsx(o3,{onClick:H=>{H.stopPropagation(),F()},className:v||!Y?"opacity-50 cursor-not-allowed":""})]})})})}),l.jsx("div",{className:"absolute right-[-24px] top-1/2 -translate-y-1/2 z-30",children:l.jsx(Kt,{type:"source",position:Ce.Right,id:"output",className:"!w-[16px] !h-[16px] !border-[1.5px] !border-card !bg-primary !rounded-full opacity-100"})}),l.jsx("input",{ref:x,type:"file",accept:"image/*",onChange:G,className:"hidden"})]})]})}const Bi={p18a5d080:"M3 11.25V12.25C3 12.8023 3.44772 13.25 4 13.25H12C12.5523 13.25 13 12.8023 13 12.25V11.25",p22723b00:"M11.8185 9.83385C13.1453 9.83385 14.3658 11.0203 15 11.6074V14.3338H3C3 14.3338 3.97435 12.7848 4.99395 12.0262C6.01354 11.2676 7.17508 12.4511 8.45047 12.4511C9.72652 12.4511 10.4924 9.83385 11.8185 9.83385Z",p27930380:"M8.74469 3.37092C8.70195 3.02146 8.38472 2.75 8 2.75L7.91226 2.75525C7.53954 2.79499 7.25006 3.09271 7.25006 3.45266L7.24931 7.67686L6.29163 6.72073C6.14962 6.579 5.95718 6.4994 5.75654 6.4994C5.55591 6.4994 5.36347 6.579 5.22146 6.72073C5.15126 6.7908 5.09556 6.87403 5.05756 6.96565C5.01956 7.05726 5 7.15548 5 7.25466C5 7.35385 5.01956 7.45206 5.05756 7.54368C5.09556 7.6353 5.15126 7.71852 5.22146 7.78859L7.46529 10.0278C7.53539 10.0982 7.61872 10.1541 7.71048 10.1922C7.80224 10.2304 7.90063 10.25 8 10.25C8.09937 10.25 8.19776 10.2304 8.28952 10.1922C8.38128 10.1541 8.46461 10.0982 8.53471 10.0278L10.7785 7.78859C10.8487 7.71852 10.9044 7.6353 10.9424 7.54368C10.9804 7.45206 11 7.35385 11 7.25466C11 7.15548 10.9804 7.05726 10.9424 6.96565C10.9044 6.87403 10.8487 6.7908 10.7785 6.72073C10.6366 6.57923 10.4443 6.49978 10.2438 6.49978C10.0434 6.49978 9.8511 6.57923 9.70912 6.72073L8.74919 7.67761L8.74994 3.45341L8.74469 3.37092Z",p3c3abd80:"M13.5 2.89636H4.5C3.15381 2.89636 2.0625 3.98767 2.0625 5.33387V12.8339C2.0625 14.1801 3.15381 15.2714 4.5 15.2714H13.5C14.8462 15.2714 15.9375 14.1801 15.9375 12.8339V5.33387C15.9375 3.98767 14.8462 2.89636 13.5 2.89636Z",p7af9000:"M11.7549 8.86881C12.1742 8.81894 12.5 8.44884 12.5 8L12.4937 7.89763C12.446 7.46279 12.0888 7.12507 11.6568 7.12507L6.58777 7.12419L7.73512 6.0069C7.9052 5.84123 8.00072 5.61671 8.00072 5.38264C8.00072 5.14856 7.9052 4.92404 7.73512 4.75837C7.65104 4.67647 7.55117 4.61149 7.44122 4.56715C7.33128 4.52282 7.21343 4.5 7.0944 4.5C6.97538 4.5 6.85753 4.52282 6.74759 4.56715C6.63764 4.61149 6.53777 4.67647 6.45369 4.75837L3.76664 7.37617C3.68213 7.45796 3.61507 7.55517 3.56931 7.66222C3.52356 7.76928 3.5 7.88407 3.5 8C3.5 8.11593 3.52356 8.23072 3.56931 8.33778C3.61507 8.44483 3.68213 8.54204 3.76664 8.62383L6.45369 11.2416C6.53777 11.3235 6.63764 11.3885 6.74759 11.4328C6.85753 11.4772 6.97538 11.5 7.0944 11.5C7.21343 11.5 7.33128 11.4772 7.44122 11.4328C7.55117 11.3885 7.65104 11.3235 7.73512 11.2416C7.90492 11.076 8.00027 10.8517 8.00027 10.6178C8.00027 10.3839 7.90492 10.1596 7.73512 9.99398L6.58687 8.87406L11.6559 8.87493L11.7549 8.86881Z",p9a6a300:"M7.85723 7.38782C7.85723 8.1078 7.27322 8.69175 6.55326 8.69175C5.83329 8.69175 5.25 8.1078 5.25 7.38782C5.25 6.66787 5.83329 6.08387 6.55326 6.08387C7.27322 6.08387 7.85655 6.66716 7.85723 7.38642V7.38782Z"};function $u({data:e,id:t,selected:n}){const{images:r,processedImages:o,nodes:a}=jt(),{t:c}=rn(),u=O_({handleType:"target"});let p=null,f=null;if(u&&u.length>0){const y=u[0].source,w=a.find(v=>v.id===y);w&&(w.data?.output&&(p=w.data.output,console.log("Found image from connected node output:",y)),o[y]&&(f=o[y],console.log("Found image from connected node processedImages:",y)))}const h=e.image||p||f||o[t]||(r[t]?r[t]:null);console.log("Preview image sources:"),console.log("Data image:",e.image?"Yes":"No"),console.log("Connected node image:",p?"Yes":"No"),console.log("Connected node processed image:",f?"Yes":"No"),console.log("Processed image:",o[t]?"Yes":"No"),console.log("Images store:",r[t]?"Yes":"No"),console.log("Final preview image:",h?"Yes":"No"),u&&u.length>0&&console.log("Connected source node:",u[0].source);const m=y=>{y.stopPropagation(),ve.success("")},x=async y=>{if(y.stopPropagation(),h){if(typeof h=="string"&&h.startsWith("figma:asset")){ve.error("Cannot download internal asset directly");return}try{let w;if(typeof h=="string"&&h.startsWith("data:image")){const k=h.split(",")[1],E=atob(k),N=new Array(E.length);for(let P=0;P<E.length;P++)N[P]=E.charCodeAt(P);const j=new Uint8Array(N);w=new Blob([j],{type:"image/png"})}else{const k=await fetch(h);if(!k.ok)throw new Error("Network response was not ok");w=await k.blob()}const v=window.URL.createObjectURL(w),C=document.createElement("a");C.href=v,C.download=`preview-${Date.now()}.png`,document.body.appendChild(C),C.click(),document.body.removeChild(C),window.URL.revokeObjectURL(v),ve.success("")}catch(w){console.error("Download failed:",w),ve.error("")}}else ve.error("")};return l.jsxs(l.Fragment,{children:[l.jsx(us,{color:"transparent",handleClassName:"opacity-0 hover:opacity-100 transition-opacity",handleStyle:{width:8,height:8,borderRadius:2,border:"1px solid var(--primary)",backgroundColor:"var(--background)"},lineStyle:{borderWidth:1,borderColor:"var(--primary)",opacity:.5},isVisible:n,minWidth:240,minHeight:400}),l.jsx("div",{className:"flex gap-[10px] items-center relative h-full w-full",children:l.jsxs("div",{className:"backdrop-blur-[10px] bg-card flex flex-col gap-[4px] items-start p-[4px] rounded-[20px] border border-border transition-all duration-300 relative group w-full h-full min-w-[240px] min-h-[400px]",children:[l.jsx("div",{className:"content-stretch flex flex-[1_0_0] flex-col items-start min-h-px min-w-px relative w-full",children:l.jsx("div",{className:"content-stretch flex flex-[1_0_0] flex-col items-start min-h-px min-w-px relative w-full",children:l.jsx("div",{className:"bg-secondary/50 content-stretch flex flex-[1_0_0] items-start justify-center overflow-clip relative rounded-[16px] w-full",style:{minHeight:"157px"},children:l.jsx("div",{className:"flex-[1_0_0] h-full min-h-px min-w-px relative w-full",children:h&&l.jsx("img",{src:h,alt:"Preview",className:"absolute inset-0 max-w-none object-cover pointer-events-none size-full"})})})})}),l.jsxs("div",{className:"content-stretch flex gap-[4px] items-start relative shrink-0 w-full",children:[l.jsx("button",{onClick:m,className:"bg-secondary/50 flex-[1_0_0] h-[32px] min-h-px min-w-px relative rounded-[30px] hover:bg-secondary transition-colors",children:l.jsx("div",{className:"flex flex-row items-center justify-center size-full",children:l.jsxs("div",{className:"content-stretch flex gap-[6px] items-center justify-center px-[10px] py-[4px] relative size-full",children:[l.jsx("div",{className:"flex flex-[1_0_0] flex-col font-sans justify-center leading-[0] min-h-px min-w-px not-italic relative text-[length:var(--text-p)] text-foreground tracking-[-0.16px] font-medium",children:l.jsx("p",{className:"leading-[16.5px]",children:c("use")})}),l.jsx("div",{className:"relative shrink-0 size-[16px]",children:l.jsx("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 16 16",children:l.jsx("path",{d:Bi.p7af9000,fill:"var(--foreground)"})})})]})})}),l.jsx("button",{onClick:x,className:"bg-secondary/50 flex-[1_0_0] h-[32px] min-h-px min-w-px relative rounded-[30px] hover:bg-secondary transition-colors",children:l.jsx("div",{className:"flex flex-row items-center justify-center size-full",children:l.jsxs("div",{className:"content-stretch flex gap-[6px] items-center justify-center px-[10px] py-[4px] relative size-full",children:[l.jsx("div",{className:"flex flex-[1_0_0] flex-col font-sans justify-center leading-[0] min-h-px min-w-px not-italic relative text-[length:var(--text-p)] text-foreground tracking-[-0.16px] font-medium",children:l.jsx("p",{className:"leading-[16.5px]",children:c("save_btn")})}),l.jsx("div",{className:"relative shrink-0 size-[16px]",children:l.jsx("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 16 16",children:l.jsxs("g",{children:[l.jsx("path",{d:Bi.p27930380,fill:"var(--foreground)"}),l.jsx("path",{d:Bi.p18a5d080,stroke:"var(--foreground)",strokeLinecap:"round",strokeWidth:"1.5"})]})})})]})})})]}),l.jsx("div",{className:"absolute bg-gradient-to-b from-transparent h-[80px] right-0 top-1/2 translate-y-[-50%] via-1/2 via-border w-px opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsx("div",{className:"h-[32px] relative shrink-0 w-full",children:l.jsx("div",{className:"flex flex-row items-end size-full",children:l.jsxs("div",{className:"content-stretch flex gap-[4px] items-end px-[8px] py-[4px] relative size-full",children:[l.jsxs("div",{className:"content-stretch flex flex-[1_0_0] gap-[8px] h-[24.72px] items-center min-h-px min-w-px overflow-clip relative",children:[l.jsx("div",{className:"content-stretch flex items-center justify-center relative shrink-0 size-[20px]",children:l.jsx("div",{className:"relative shrink-0 size-[18px]",children:l.jsx("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 18 18",children:l.jsxs("g",{children:[l.jsx("path",{clipRule:"evenodd",d:Bi.p9a6a300,fill:"var(--foreground)",fillRule:"evenodd"}),l.jsx("path",{d:Bi.p3c3abd80,stroke:"var(--foreground)",strokeWidth:"1.125"}),l.jsx("path",{d:Bi.p22723b00,fill:"var(--foreground)",stroke:"var(--foreground)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.125"})]})})})}),l.jsx("div",{className:"flex flex-col font-sans justify-center leading-[0] not-italic relative shrink-0 text-foreground text-[length:var(--text-h1)] tracking-[-0.21px] font-semibold",children:l.jsx("p",{className:"leading-[22.5px] text-[length:var(--text-h2)]",children:c("result_preview")})})]}),l.jsx("div",{className:"content-stretch flex gap-[4px] items-center relative shrink-0",children:l.jsx("div",{className:"flex flex-col font-sans justify-center leading-[0] not-italic relative shrink-0 text-[length:var(--text-h2)] text-muted-foreground tracking-[-0.21px]",children:l.jsx("p",{className:"leading-[22.5px]",children:c("images")})})})]})})}),l.jsxs("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 flex items-center opacity-0 group-hover:opacity-100 transition-opacity translate-x-[50%] z-50",children:[l.jsx("div",{className:"h-[80px] w-px bg-gradient-to-b from-transparent via-border to-transparent"}),l.jsx(Ag,{sourceNodeId:t,sourceHandlePosition:{x:0,y:0}})]}),l.jsx(Kt,{type:"target",position:Ce.Left,className:"!w-[16px] !h-[16px] !bg-primary !border-[1.5px] !border-card !left-[-12px] !rounded-full"}),l.jsx(Kt,{type:"source",position:Ce.Right,className:"!w-[16px] !h-[16px] !bg-primary !border-[1.5px] !border-card !right-[-12px] !rounded-full"})]})})]})}const zs={p31d6600:"M10.0393 3.22167C10.2194 3.22156 10.3791 3.33714 10.4354 3.50821L11.2329 5.93259C11.2531 5.99534 11.2881 6.05237 11.3347 6.09899C11.3814 6.14561 11.4384 6.1805 11.5012 6.20076L11.5029 6.2013L13.92 6.99313C14.0911 7.04919 14.2069 7.20883 14.207 7.38892C14.2071 7.56901 14.0915 7.72879 13.9204 7.78506L11.4961 8.58249C11.4334 8.60282 11.3764 8.63774 11.3297 8.68441C11.2831 8.73107 11.2482 8.78807 11.2279 8.85082L11.2274 8.85249L10.4355 11.2697C10.3795 11.4408 10.2199 11.5566 10.0398 11.5567C9.85968 11.5567 9.69985 11.4412 9.6436 11.2702L8.84618 8.84574C8.82585 8.78299 8.79093 8.72599 8.74427 8.67932C8.6976 8.63274 8.6406 8.59782 8.57785 8.57757L8.57618 8.57707L6.15903 7.78521C5.98788 7.72915 5.87212 7.56951 5.87201 7.38942C5.8719 7.20933 5.98748 7.04955 6.15854 6.99328L8.58293 6.19586C8.64568 6.17554 8.70268 6.14061 8.74935 6.09396C8.79593 6.04731 8.83085 5.99025 8.8511 5.92748L8.8516 5.92583L9.64343 3.50868C9.69952 3.33755 9.85918 3.22178 10.0393 3.22167Z",p2db0400:"M0.662567 1.13795C0.662567 0.754343 0.973543 0.443367 1.35715 0.443367H13.8596C14.2432 0.443367 14.5542 0.754343 14.5542 1.13795C14.5542 1.52156 14.2432 1.83253 13.8596 1.83253H1.35715C0.973543 1.83253 0.662567 1.52156 0.662567 1.13795Z",p3ecb1200:"M0.662567 5.30543C0.662567 4.92182 0.973543 4.61085 1.35715 4.61085H4.13548C4.51909 4.61085 4.83007 4.92182 4.83007 5.30543C4.83007 5.68904 4.51909 6.00001 4.13548 6.00001H1.35715C0.973543 6.00001 0.662567 5.68904 0.662567 5.30543Z",p2af07280:"M0.662567 9.47291C0.662567 9.08933 0.973543 8.77833 1.35715 8.77833H4.13548C4.51909 8.77833 4.83007 9.08933 4.83007 9.47291C4.83007 9.85658 4.51909 10.1675 4.13548 10.1675H1.35715C0.973543 10.1675 0.662567 9.85658 0.662567 9.47291Z",p2137800:"M11.2104 10.8459C10.9683 11.123 10.8472 11.2615 10.7114 11.3833C10.5908 11.4914 10.4615 11.5897 10.325 11.677C10.1713 11.7753 10.0038 11.8558 9.66855 12.0167C8.86305 12.4035 8.4603 12.5969 8.19532 12.5288C7.96537 12.4695 7.77697 12.3049 7.6875 12.0849C7.58445 11.8315 7.72222 11.4065 7.99762 10.5564C8.1123 10.2026 8.1696 10.0258 8.2464 9.86033C8.31472 9.71333 8.39475 9.57217 8.4858 9.43815C8.58832 9.28725 8.70937 9.14873 8.95155 8.87168L12.7517 4.52354C12.807 4.46028 12.8347 4.42865 12.8681 4.41526C12.8975 4.40347 12.9299 4.40129 12.9605 4.40903C12.9955 4.41784 13.0271 4.44548 13.0904 4.50076L14.9879 6.1591C15.0511 6.21438 15.0827 6.24203 15.0961 6.27545C15.1078 6.30485 15.11 6.33723 15.1023 6.36795C15.0935 6.40286 15.0658 6.43449 15.0106 6.49775L11.2104 10.8459Z",p255f91c0:"M7.125 13.5C7.125 13.5 5.42355 15.5114 4.5 15C3.57645 14.4886 6.32968 11.1102 6.32968 9.77677C6.32968 9.06015 4.1552 12.154 2.81498 12.5389C0.656543 13.1589 5.37831 3.75 5.37831 3.75",p366c4e00:"M15.6662 5.738C15.611 5.80124 15.5834 5.83287 15.5499 5.84627C15.5205 5.85806 15.4881 5.86024 15.4574 5.8525C15.4225 5.84369 15.3908 5.81605 15.3276 5.76076L13.4322 4.10423C13.369 4.04895 13.3373 4.02131 13.3239 3.98789C13.3121 3.95849 13.31 3.92611 13.3177 3.89539C13.3265 3.86047 13.3541 3.82884 13.4094 3.76559L13.7479 3.37834C13.9766 3.11672 14.0909 2.98591 14.2133 2.9036C14.5476 2.67899 14.9764 2.65015 15.3377 2.82799C15.47 2.89316 15.6009 3.00749 15.8625 3.23614C16.1241 3.46479 16.2549 3.57912 16.3373 3.7016C16.5618 4.03583 16.5907 4.46462 16.4129 4.82592C16.3477 4.95831 16.2333 5.08912 16.0047 5.35074L15.6662 5.738Z"};function SP({data:e,id:t,selected:n}){const{updateNodeData:r}=cs(),[o,a]=b.useState(e.text||""),[c,u]=b.useState(!1),p=async()=>{if(c)return;if(!o){ve.error("");return}const f=localStorage.getItem("gemini_api_key")||prompt(" Gemini API Key (generativelanguage.googleapis.com):");if(!f){ve.error(" API Key ");return}localStorage.setItem("gemini_api_key",f),u(!0),ve.info("...");try{const h=await mP(o,f);h&&h!==o?(a(h),r(t,{text:h,label:h}),ve.success("")):ve.success("")}catch(h){console.error("Optimization error:",h),ve.error(`: ${h.message}`)}finally{u(!1)}};return l.jsxs(l.Fragment,{children:[l.jsx(us,{color:"transparent",handleClassName:"opacity-0 hover:opacity-100 transition-opacity",handleStyle:{width:8,height:8,borderRadius:2,border:"1px solid var(--primary)",backgroundColor:"var(--background)"},lineStyle:{borderWidth:1,borderColor:"var(--primary)",opacity:.5},isVisible:n,minWidth:280,minHeight:220}),l.jsx("div",{className:"flex gap-[10px] items-center relative h-full w-full",children:l.jsxs("div",{className:"backdrop-blur-[10px] bg-card content-stretch flex flex-col gap-[2px] items-start p-[4px] relative rounded-[20px] group border border-border w-full h-full min-w-[280px] min-h-[220px]",children:[l.jsx("div",{className:"bg-secondary relative rounded-[16px] shrink-0 w-full min-h-[160px] flex-1",children:l.jsx("div",{className:"flex flex-col items-end justify-end overflow-clip rounded-[inherit] size-full",children:l.jsxs("div",{className:"content-stretch flex flex-col gap-[12px] items-end justify-end p-[12px] relative w-full h-full",children:[l.jsx("textarea",{className:"nodrag w-full h-full bg-transparent resize-none outline-none text-[length:var(--text-p)] leading-[1.5] text-foreground tracking-[-0.2146px] font-sans min-h-[120px]",value:o,placeholder:"Enter image description...",onChange:f=>{const h=f.target.value;a(h),r(t,{text:h,label:h})}}),l.jsx("div",{className:"content-stretch flex items-center justify-center p-[6px] relative rounded-[8px] shrink-0 size-[28px] hover:bg-muted cursor-pointer transition-colors text-foreground",onClick:p,title:"",children:l.jsx("div",{className:`h-[12px] relative shrink-0 w-[15px] ${c?"animate-pulse":""}`,children:l.jsx("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 15 12",children:l.jsxs("g",{id:"Component 1",children:[l.jsx("path",{clipRule:"evenodd",d:zs.p31d6600,fill:"currentColor",fillRule:"evenodd",id:"Vector"}),l.jsx("path",{clipRule:"evenodd",d:zs.p2db0400,fill:"currentColor",fillRule:"evenodd",id:"Vector_2"}),l.jsx("path",{clipRule:"evenodd",d:zs.p3ecb1200,fill:"currentColor",fillRule:"evenodd",id:"Vector_3"}),l.jsx("path",{clipRule:"evenodd",d:zs.p2af07280,fill:"currentColor",fillRule:"evenodd",id:"Vector_4"})]})})})})]})})}),l.jsx("div",{className:"relative shrink-0 w-full",children:l.jsx("div",{className:"flex flex-row items-end size-full",children:l.jsxs("div",{className:"content-stretch flex gap-[4px] items-end px-[8px] py-[4px] relative w-full",children:[l.jsxs("div",{className:"content-stretch flex flex-[1_0_0] gap-[8px] h-[24.72px] items-center min-h-px min-w-px overflow-clip relative",children:[l.jsx("div",{className:"content-stretch flex items-center justify-center relative shrink-0 size-[20px] text-foreground",children:l.jsx("div",{className:"relative shrink-0 size-[18px]",children:l.jsx("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 18 18",children:l.jsxs("g",{id:"Krea 4",children:[l.jsx("path",{d:zs.p2137800,fill:"currentColor",id:"Vector"}),l.jsx("path",{d:zs.p366c4e00,fill:"currentColor",id:"Vector_2"}),l.jsx("path",{d:zs.p255f91c0,id:"Vector_3",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.125"})]})})})}),l.jsx("div",{className:"flex flex-col font-sans justify-center leading-[0] not-italic relative shrink-0 text-foreground text-[length:var(--text-h2)] tracking-[-0.2146px] font-semibold",children:l.jsx("p",{className:"leading-[22.499px]",children:"Text Input"})})]}),l.jsx("div",{className:"content-stretch flex gap-[4px] items-center relative shrink-0",children:l.jsx("div",{className:"flex flex-col font-sans justify-center leading-[0] not-italic relative shrink-0 text-[length:var(--text-h2)] text-muted-foreground tracking-[-0.2146px]",children:l.jsx("p",{className:"leading-[22.499px]",children:"Text"})})})]})})}),l.jsx(Kt,{type:"source",position:Ce.Right,className:"!w-[16px] !h-[16px] !bg-primary !border-[1.5px] !border-card !right-[-12px] !rounded-full"}),l.jsx("div",{className:"absolute bg-gradient-to-b from-transparent h-[60px] right-[-2px] to-transparent top-[calc(50%-0.36px)] translate-y-[-50%] via-1/2 via-border w-[2px]"}),l.jsxs("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 flex items-center opacity-0 group-hover:opacity-100 transition-opacity translate-x-[50%] z-50 pointer-events-none",children:[l.jsx("div",{className:"h-[80px] w-px bg-transparent"}),l.jsx("div",{className:"pointer-events-auto",children:l.jsx(Ag,{sourceNodeId:t,sourceHandlePosition:{x:0,y:0}})})]})]})})]})}function s3(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=s3(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function i3(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=s3(e))&&(r&&(r+=" "),r+=t);return r}const jP=(e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n},EP=(e,t)=>({classGroupId:e,validator:t}),a3=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),kd="-",Fy=[],PP="arbitrary..",IP=e=>{const t=LP(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return MP(c);const u=c.split(kd),p=u[0]===""&&u.length>1?1:0;return l3(u,p,t)},getConflictingClassGroupIds:(c,u)=>{if(u){const p=r[c],f=n[c];return p?f?jP(f,p):p:f||Fy}return n[c]||Fy}}},l3=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const o=e[t],a=n.nextPart.get(o);if(a){const f=l3(e,t+1,a);if(f)return f}const c=n.validators;if(c===null)return;const u=t===0?e.join(kd):e.slice(t).join(kd),p=c.length;for(let f=0;f<p;f++){const h=c[f];if(h.validator(u))return h.classGroupId}},MP=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?PP+r:void 0})(),LP=e=>{const{theme:t,classGroups:n}=e;return TP(n,t)},TP=(e,t)=>{const n=a3();for(const r in e){const o=e[r];Fg(o,n,r,t)}return n},Fg=(e,t,n,r)=>{const o=e.length;for(let a=0;a<o;a++){const c=e[a];RP(c,t,n,r)}},RP=(e,t,n,r)=>{if(typeof e=="string"){AP(e,t,n);return}if(typeof e=="function"){zP(e,t,n,r);return}DP(e,t,n,r)},AP=(e,t,n)=>{const r=e===""?t:c3(t,e);r.classGroupId=n},zP=(e,t,n,r)=>{if(OP(e)){Fg(e(r),t,n,r);return}t.validators===null&&(t.validators=[]),t.validators.push(EP(n,e))},DP=(e,t,n,r)=>{const o=Object.entries(e),a=o.length;for(let c=0;c<a;c++){const[u,p]=o[c];Fg(p,c3(t,u),n,r)}},c3=(e,t)=>{let n=e;const r=t.split(kd),o=r.length;for(let a=0;a<o;a++){const c=r[a];let u=n.nextPart.get(c);u||(u=a3(),n.nextPart.set(c,u)),n=u}return n},OP=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,FP=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const o=(a,c)=>{n[a]=c,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(a){let c=n[a];if(c!==void 0)return c;if((c=r[a])!==void 0)return o(a,c),c},set(a,c){a in n?n[a]=c:o(a,c)}}},Am="!",$y=":",$P=[],By=(e,t,n,r,o)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:o}),BP=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=o=>{const a=[];let c=0,u=0,p=0,f;const h=o.length;for(let v=0;v<h;v++){const C=o[v];if(c===0&&u===0){if(C===$y){a.push(o.slice(p,v)),p=v+1;continue}if(C==="/"){f=v;continue}}C==="["?c++:C==="]"?c--:C==="("?u++:C===")"&&u--}const m=a.length===0?o:o.slice(p);let x=m,y=!1;m.endsWith(Am)?(x=m.slice(0,-1),y=!0):m.startsWith(Am)&&(x=m.slice(1),y=!0);const w=f&&f>p?f-p:void 0;return By(a,y,x,w)};if(t){const o=t+$y,a=r;r=c=>c.startsWith(o)?a(c.slice(o.length)):By($P,!1,c,void 0,!0)}if(n){const o=r;r=a=>n({className:a,parseClassName:o})}return r},VP=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,r)=>{t.set(n,1e6+r)}),n=>{const r=[];let o=[];for(let a=0;a<n.length;a++){const c=n[a],u=c[0]==="[",p=t.has(c);u||p?(o.length>0&&(o.sort(),r.push(...o),o=[]),r.push(c)):o.push(c)}return o.length>0&&(o.sort(),r.push(...o)),r}},HP=e=>({cache:FP(e.cacheSize),parseClassName:BP(e),sortModifiers:VP(e),...IP(e)}),WP=/\s+/,UP=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:a}=t,c=[],u=e.trim().split(WP);let p="";for(let f=u.length-1;f>=0;f-=1){const h=u[f],{isExternal:m,modifiers:x,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:v}=n(h);if(m){p=h+(p.length>0?" "+p:p);continue}let C=!!v,k=r(C?w.substring(0,v):w);if(!k){if(!C){p=h+(p.length>0?" "+p:p);continue}if(k=r(w),!k){p=h+(p.length>0?" "+p:p);continue}C=!1}const E=x.length===0?"":x.length===1?x[0]:a(x).join(":"),N=y?E+Am:E,j=N+k;if(c.indexOf(j)>-1)continue;c.push(j);const P=o(k,C);for(let L=0;L<P.length;++L){const T=P[L];c.push(N+T)}p=h+(p.length>0?" "+p:p)}return p},GP=(...e)=>{let t=0,n,r,o="";for(;t<e.length;)(n=e[t++])&&(r=u3(n))&&(o&&(o+=" "),o+=r);return o},u3=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=u3(e[r]))&&(n&&(n+=" "),n+=t);return n},YP=(e,...t)=>{let n,r,o,a;const c=p=>{const f=t.reduce((h,m)=>m(h),e());return n=HP(f),r=n.cache.get,o=n.cache.set,a=u,u(p)},u=p=>{const f=r(p);if(f)return f;const h=UP(p,n);return o(p,h),h};return a=c,(...p)=>a(GP(...p))},KP=[],Rt=e=>{const t=n=>n[e]||KP;return t.isThemeGetter=!0,t},d3=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,f3=/^\((?:(\w[\w-]*):)?(.+)\)$/i,ZP=/^\d+\/\d+$/,XP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,QP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,JP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,eI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vi=e=>ZP.test(e),Ve=e=>!!e&&!Number.isNaN(Number(e)),Jo=e=>!!e&&Number.isInteger(Number(e)),$h=e=>e.endsWith("%")&&Ve(e.slice(0,-1)),uo=e=>XP.test(e),tI=()=>!0,nI=e=>qP.test(e)&&!QP.test(e),p3=()=>!1,rI=e=>JP.test(e),oI=e=>eI.test(e),sI=e=>!Se(e)&&!je(e),iI=e=>Sa(e,g3,p3),Se=e=>d3.test(e),Ds=e=>Sa(e,x3,nI),Bh=e=>Sa(e,dI,Ve),Vy=e=>Sa(e,h3,p3),aI=e=>Sa(e,m3,oI),Bu=e=>Sa(e,v3,rI),je=e=>f3.test(e),vl=e=>ja(e,x3),lI=e=>ja(e,fI),Hy=e=>ja(e,h3),cI=e=>ja(e,g3),uI=e=>ja(e,m3),Vu=e=>ja(e,v3,!0),Sa=(e,t,n)=>{const r=d3.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},ja=(e,t,n=!1)=>{const r=f3.exec(e);return r?r[1]?t(r[1]):n:!1},h3=e=>e==="position"||e==="percentage",m3=e=>e==="image"||e==="url",g3=e=>e==="length"||e==="size"||e==="bg-size",x3=e=>e==="length",dI=e=>e==="number",fI=e=>e==="family-name",v3=e=>e==="shadow",pI=()=>{const e=Rt("color"),t=Rt("font"),n=Rt("text"),r=Rt("font-weight"),o=Rt("tracking"),a=Rt("leading"),c=Rt("breakpoint"),u=Rt("container"),p=Rt("spacing"),f=Rt("radius"),h=Rt("shadow"),m=Rt("inset-shadow"),x=Rt("text-shadow"),y=Rt("drop-shadow"),w=Rt("blur"),v=Rt("perspective"),C=Rt("aspect"),k=Rt("ease"),E=Rt("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...j(),je,Se],L=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto","contain","none"],D=()=>[je,Se,p],$=()=>[Vi,"full","auto",...D()],Y=()=>[Jo,"none","subgrid",je,Se],G=()=>["auto",{span:["full",Jo,je,Se]},Jo,je,Se],V=()=>[Jo,"auto",je,Se],W=()=>["auto","min","max","fr",je,Se],z=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],M=()=>["start","end","center","stretch","center-safe","end-safe"],F=()=>["auto",...D()],H=()=>[Vi,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...D()],R=()=>[e,je,Se],I=()=>[...j(),Hy,Vy,{position:[je,Se]}],U=()=>["no-repeat",{repeat:["","x","y","space","round"]}],O=()=>["auto","cover","contain",cI,iI,{size:[je,Se]}],B=()=>[$h,vl,Ds],q=()=>["","none","full",f,je,Se],X=()=>["",Ve,vl,Ds],ne=()=>["solid","dashed","dotted","double"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ee=()=>[Ve,$h,Hy,Vy],J=()=>["","none",w,je,Se],le=()=>["none",Ve,je,Se],de=()=>["none",Ve,je,Se],me=()=>[Ve,je,Se],te=()=>[Vi,"full",...D()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[uo],breakpoint:[uo],color:[tI],container:[uo],"drop-shadow":[uo],ease:["in","out","in-out"],font:[sI],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[uo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[uo],shadow:[uo],spacing:["px",Ve],text:[uo],"text-shadow":[uo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Vi,Se,je,C]}],container:["container"],columns:[{columns:[Ve,Se,je,u]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:$()}],"inset-x":[{"inset-x":$()}],"inset-y":[{"inset-y":$()}],start:[{start:$()}],end:[{end:$()}],top:[{top:$()}],right:[{right:$()}],bottom:[{bottom:$()}],left:[{left:$()}],visibility:["visible","invisible","collapse"],z:[{z:[Jo,"auto",je,Se]}],basis:[{basis:[Vi,"full","auto",u,...D()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ve,Vi,"auto","initial","none",Se]}],grow:[{grow:["",Ve,je,Se]}],shrink:[{shrink:["",Ve,je,Se]}],order:[{order:[Jo,"first","last","none",je,Se]}],"grid-cols":[{"grid-cols":Y()}],"col-start-end":[{col:G()}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":Y()}],"row-start-end":[{row:G()}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":W()}],"auto-rows":[{"auto-rows":W()}],gap:[{gap:D()}],"gap-x":[{"gap-x":D()}],"gap-y":[{"gap-y":D()}],"justify-content":[{justify:[...z(),"normal"]}],"justify-items":[{"justify-items":[...M(),"normal"]}],"justify-self":[{"justify-self":["auto",...M()]}],"align-content":[{content:["normal",...z()]}],"align-items":[{items:[...M(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...M(),{baseline:["","last"]}]}],"place-content":[{"place-content":z()}],"place-items":[{"place-items":[...M(),"baseline"]}],"place-self":[{"place-self":["auto",...M()]}],p:[{p:D()}],px:[{px:D()}],py:[{py:D()}],ps:[{ps:D()}],pe:[{pe:D()}],pt:[{pt:D()}],pr:[{pr:D()}],pb:[{pb:D()}],pl:[{pl:D()}],m:[{m:F()}],mx:[{mx:F()}],my:[{my:F()}],ms:[{ms:F()}],me:[{me:F()}],mt:[{mt:F()}],mr:[{mr:F()}],mb:[{mb:F()}],ml:[{ml:F()}],"space-x":[{"space-x":D()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":D()}],"space-y-reverse":["space-y-reverse"],size:[{size:H()}],w:[{w:[u,"screen",...H()]}],"min-w":[{"min-w":[u,"screen","none",...H()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[c]},...H()]}],h:[{h:["screen","lh",...H()]}],"min-h":[{"min-h":["screen","lh","none",...H()]}],"max-h":[{"max-h":["screen","lh",...H()]}],"font-size":[{text:["base",n,vl,Ds]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,je,Bh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",$h,Se]}],"font-family":[{font:[lI,Se,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,je,Se]}],"line-clamp":[{"line-clamp":[Ve,"none",je,Bh]}],leading:[{leading:[a,...D()]}],"list-image":[{"list-image":["none",je,Se]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",je,Se]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:R()}],"text-color":[{text:R()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ve,"from-font","auto",je,Ds]}],"text-decoration-color":[{decoration:R()}],"underline-offset":[{"underline-offset":[Ve,"auto",je,Se]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",je,Se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",je,Se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:I()}],"bg-repeat":[{bg:U()}],"bg-size":[{bg:O()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Jo,je,Se],radial:["",je,Se],conic:[Jo,je,Se]},uI,aI]}],"bg-color":[{bg:R()}],"gradient-from-pos":[{from:B()}],"gradient-via-pos":[{via:B()}],"gradient-to-pos":[{to:B()}],"gradient-from":[{from:R()}],"gradient-via":[{via:R()}],"gradient-to":[{to:R()}],rounded:[{rounded:q()}],"rounded-s":[{"rounded-s":q()}],"rounded-e":[{"rounded-e":q()}],"rounded-t":[{"rounded-t":q()}],"rounded-r":[{"rounded-r":q()}],"rounded-b":[{"rounded-b":q()}],"rounded-l":[{"rounded-l":q()}],"rounded-ss":[{"rounded-ss":q()}],"rounded-se":[{"rounded-se":q()}],"rounded-ee":[{"rounded-ee":q()}],"rounded-es":[{"rounded-es":q()}],"rounded-tl":[{"rounded-tl":q()}],"rounded-tr":[{"rounded-tr":q()}],"rounded-br":[{"rounded-br":q()}],"rounded-bl":[{"rounded-bl":q()}],"border-w":[{border:X()}],"border-w-x":[{"border-x":X()}],"border-w-y":[{"border-y":X()}],"border-w-s":[{"border-s":X()}],"border-w-e":[{"border-e":X()}],"border-w-t":[{"border-t":X()}],"border-w-r":[{"border-r":X()}],"border-w-b":[{"border-b":X()}],"border-w-l":[{"border-l":X()}],"divide-x":[{"divide-x":X()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":X()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ne(),"hidden","none"]}],"divide-style":[{divide:[...ne(),"hidden","none"]}],"border-color":[{border:R()}],"border-color-x":[{"border-x":R()}],"border-color-y":[{"border-y":R()}],"border-color-s":[{"border-s":R()}],"border-color-e":[{"border-e":R()}],"border-color-t":[{"border-t":R()}],"border-color-r":[{"border-r":R()}],"border-color-b":[{"border-b":R()}],"border-color-l":[{"border-l":R()}],"divide-color":[{divide:R()}],"outline-style":[{outline:[...ne(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ve,je,Se]}],"outline-w":[{outline:["",Ve,vl,Ds]}],"outline-color":[{outline:R()}],shadow:[{shadow:["","none",h,Vu,Bu]}],"shadow-color":[{shadow:R()}],"inset-shadow":[{"inset-shadow":["none",m,Vu,Bu]}],"inset-shadow-color":[{"inset-shadow":R()}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:R()}],"ring-offset-w":[{"ring-offset":[Ve,Ds]}],"ring-offset-color":[{"ring-offset":R()}],"inset-ring-w":[{"inset-ring":X()}],"inset-ring-color":[{"inset-ring":R()}],"text-shadow":[{"text-shadow":["none",x,Vu,Bu]}],"text-shadow-color":[{"text-shadow":R()}],opacity:[{opacity:[Ve,je,Se]}],"mix-blend":[{"mix-blend":[...ie(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ie()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ve]}],"mask-image-linear-from-pos":[{"mask-linear-from":ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":ee()}],"mask-image-linear-from-color":[{"mask-linear-from":R()}],"mask-image-linear-to-color":[{"mask-linear-to":R()}],"mask-image-t-from-pos":[{"mask-t-from":ee()}],"mask-image-t-to-pos":[{"mask-t-to":ee()}],"mask-image-t-from-color":[{"mask-t-from":R()}],"mask-image-t-to-color":[{"mask-t-to":R()}],"mask-image-r-from-pos":[{"mask-r-from":ee()}],"mask-image-r-to-pos":[{"mask-r-to":ee()}],"mask-image-r-from-color":[{"mask-r-from":R()}],"mask-image-r-to-color":[{"mask-r-to":R()}],"mask-image-b-from-pos":[{"mask-b-from":ee()}],"mask-image-b-to-pos":[{"mask-b-to":ee()}],"mask-image-b-from-color":[{"mask-b-from":R()}],"mask-image-b-to-color":[{"mask-b-to":R()}],"mask-image-l-from-pos":[{"mask-l-from":ee()}],"mask-image-l-to-pos":[{"mask-l-to":ee()}],"mask-image-l-from-color":[{"mask-l-from":R()}],"mask-image-l-to-color":[{"mask-l-to":R()}],"mask-image-x-from-pos":[{"mask-x-from":ee()}],"mask-image-x-to-pos":[{"mask-x-to":ee()}],"mask-image-x-from-color":[{"mask-x-from":R()}],"mask-image-x-to-color":[{"mask-x-to":R()}],"mask-image-y-from-pos":[{"mask-y-from":ee()}],"mask-image-y-to-pos":[{"mask-y-to":ee()}],"mask-image-y-from-color":[{"mask-y-from":R()}],"mask-image-y-to-color":[{"mask-y-to":R()}],"mask-image-radial":[{"mask-radial":[je,Se]}],"mask-image-radial-from-pos":[{"mask-radial-from":ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":ee()}],"mask-image-radial-from-color":[{"mask-radial-from":R()}],"mask-image-radial-to-color":[{"mask-radial-to":R()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[Ve]}],"mask-image-conic-from-pos":[{"mask-conic-from":ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":ee()}],"mask-image-conic-from-color":[{"mask-conic-from":R()}],"mask-image-conic-to-color":[{"mask-conic-to":R()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:I()}],"mask-repeat":[{mask:U()}],"mask-size":[{mask:O()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",je,Se]}],filter:[{filter:["","none",je,Se]}],blur:[{blur:J()}],brightness:[{brightness:[Ve,je,Se]}],contrast:[{contrast:[Ve,je,Se]}],"drop-shadow":[{"drop-shadow":["","none",y,Vu,Bu]}],"drop-shadow-color":[{"drop-shadow":R()}],grayscale:[{grayscale:["",Ve,je,Se]}],"hue-rotate":[{"hue-rotate":[Ve,je,Se]}],invert:[{invert:["",Ve,je,Se]}],saturate:[{saturate:[Ve,je,Se]}],sepia:[{sepia:["",Ve,je,Se]}],"backdrop-filter":[{"backdrop-filter":["","none",je,Se]}],"backdrop-blur":[{"backdrop-blur":J()}],"backdrop-brightness":[{"backdrop-brightness":[Ve,je,Se]}],"backdrop-contrast":[{"backdrop-contrast":[Ve,je,Se]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ve,je,Se]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ve,je,Se]}],"backdrop-invert":[{"backdrop-invert":["",Ve,je,Se]}],"backdrop-opacity":[{"backdrop-opacity":[Ve,je,Se]}],"backdrop-saturate":[{"backdrop-saturate":[Ve,je,Se]}],"backdrop-sepia":[{"backdrop-sepia":["",Ve,je,Se]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":D()}],"border-spacing-x":[{"border-spacing-x":D()}],"border-spacing-y":[{"border-spacing-y":D()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",je,Se]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ve,"initial",je,Se]}],ease:[{ease:["linear","initial",k,je,Se]}],delay:[{delay:[Ve,je,Se]}],animate:[{animate:["none",E,je,Se]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,je,Se]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:le()}],"rotate-x":[{"rotate-x":le()}],"rotate-y":[{"rotate-y":le()}],"rotate-z":[{"rotate-z":le()}],scale:[{scale:de()}],"scale-x":[{"scale-x":de()}],"scale-y":[{"scale-y":de()}],"scale-z":[{"scale-z":de()}],"scale-3d":["scale-3d"],skew:[{skew:me()}],"skew-x":[{"skew-x":me()}],"skew-y":[{"skew-y":me()}],transform:[{transform:[je,Se,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:te()}],"translate-x":[{"translate-x":te()}],"translate-y":[{"translate-y":te()}],"translate-z":[{"translate-z":te()}],"translate-none":["translate-none"],accent:[{accent:R()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:R()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",je,Se]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",je,Se]}],fill:[{fill:["none",...R()]}],"stroke-w":[{stroke:[Ve,vl,Ds,Bh]}],stroke:[{stroke:["none",...R()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},hI=YP(pI);function Te(...e){return hI(i3(e))}function mI({data:e,id:t,selected:n}){const{addAsset:r}=jt(),{t:o}=rn(),[a,c]=b.useState(e?.characters||[{id:1,name:"",image:"https://trae-api-cn.mchost.guru/api/ide/v1/text_to_image?prompt=A%20young%20Asian%20girl%20with%20short%20black%20hair%20and%20glasses,%20wearing%20a%20black%20crop%20top%20and%20light%20blue%20wide-leg%20pants,%20full%20body,%203D%20rendering,%20clean%20background&image_size=portrait_4_3"},{id:2,name:"",image:"https://trae-api-cn.mchost.guru/api/ide/v1/text_to_image?prompt=A%20young%20Asian%20girl%20with%20short%20black%20hair%20and%20glasses,%20wearing%20a%20black%20crop%20top%20and%20light%20blue%20wide-leg%20pants,%20full%20body,%203D%20rendering,%20clean%20background&image_size=portrait_4_3"},{id:3,name:"",image:"https://trae-api-cn.mchost.guru/api/ide/v1/text_to_image?prompt=A%20young%20Asian%20girl%20with%20short%20black%20hair%20and%20glasses,%20wearing%20a%20black%20crop%20top%20and%20light%20blue%20wide-leg%20pants,%20full%20body,%203D%20rendering,%20clean%20background&image_size=portrait_4_3"}]);return l.jsxs(l.Fragment,{children:[l.jsx(us,{color:"transparent",handleClassName:"opacity-0 hover:opacity-100 transition-opacity",handleStyle:{width:8,height:8,borderRadius:2,border:"1px solid var(--primary)",backgroundColor:"var(--background)"},lineStyle:{borderWidth:1,borderColor:"var(--primary)",opacity:.5},isVisible:n,minWidth:240,minHeight:360}),l.jsxs("div",{className:Te("relative shrink-0 flex flex-col items-start rounded-[20px]","box-border p-[4px]","bg-white gap-[2px]"),style:{width:240,height:360,minWidth:240,minHeight:360,maxWidth:240,maxHeight:360},children:[l.jsx("div",{className:Te("grow self-stretch rounded-[16px] overflow-hidden","flex items-center"),children:l.jsxs("div",{className:"relative shrink-0 flex items-end overflow-hidden",style:{width:232,height:317},children:[a[0]&&l.jsx("img",{src:a[0].image,alt:a[0].name,className:"absolute top-0 left-0 !w-full !h-full object-contain"}),l.jsx("div",{className:"relative z-10 flex items-end gap-[4px] pb-[3px] pl-[4px]",children:a.map((u,p)=>l.jsx("div",{className:Te("shrink-0 w-[40px] h-[40px] rounded-[12px]","flex items-center justify-center",p===0?"border border-white p-[3px]":"p-[4px]"),children:l.jsx("img",{src:u.image,alt:u.name,className:"w-[34px] h-[34px] object-cover rounded-[8px]"})},u.id))})]})}),l.jsxs("div",{className:Te("shrink-0 self-stretch flex items-end gap-[4px]","px-[8px] py-[4px]"),children:[l.jsxs("div",{className:Te("grow flex items-center gap-[8px] h-[25px] overflow-hidden"),children:[l.jsx("div",{className:"shrink-0 size-[20px] overflow-hidden",children:l.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M12.7412 11.2714C14.2442 12.1554 15.2933 13.758 15.428 15.6256L15.4427 16.0334L15.428 16.0626C15.4055 16.1005 15.3519 16.161 15.2399 16.2421C14.9943 16.3966 14.614 16.5577 14.1001 16.6853C12.9951 16.9561 11.5503 17.1255 10.0459 17.128C8.54133 17.1306 7.09623 16.9634 6.0013 16.6939C5.46588 16.5721 5.08397 16.438 4.85428 16.303C4.73264 16.2426 4.68152 16.1608 4.65956 16.1011C4.6407 16.064 4.64234 16.0547 4.64234 16.0546C4.64251 13.9982 5.73661 12.2273 7.34329 11.2775C8.14447 11.7185 9.06165 11.9721 10.0374 11.9721C11.0151 11.9721 11.9342 11.7185 12.7412 11.2714ZM10.0374 2.80213C11.8843 2.80227 13.3779 4.32696 13.3779 6.23596C13.3777 8.14345 11.8844 9.66721 10.0374 9.66737C8.19045 9.66737 6.69675 8.1436 6.69665 6.23596C6.69665 4.32837 8.19053 2.80213 10.0374 2.80213Z",stroke:"currentColor",strokeWidth:"1.59962"})})}),l.jsx("div",{className:"shrink-0 text-[13px] font-semibold leading-[22px] tracking-[-0.21px] text-foreground",children:a[0]?.name})]}),l.jsx("div",{className:"shrink-0 text-[14px] font-normal leading-[22px] tracking-[-0.21px] text-muted-foreground",children:o("character")})]}),l.jsx("div",{className:"absolute top-[139px] right-[-1px] w-[1px] h-[80px] bg-gradient-to-b from-transparent via-white to-transparent"}),l.jsx("div",{className:"absolute top-[149px] right-[-3px] z-[2] w-[2px] h-[60px] bg-gradient-to-b from-transparent via-white to-transparent"}),l.jsx(Kt,{type:"source",position:Ce.Right,className:"!w-[12px] !h-[12px] !bg-[#00E424] !border-[2px] !border-white !right-[-25px] !rounded-full"}),l.jsx(Kt,{type:"target",position:Ce.Left,className:"!w-[12px] !h-[12px] !bg-primary !border-[2px] !border-white !left-[-25px] !rounded-full"}),l.jsx(us,{color:"var(--primary)",lineWidth:2,isVisible:!1})]})]})}const y3=({data:e,id:t})=>{const[n,r]=b.useState(!1),[o,a]=b.useState(null),{setProcessedImage:c,setImage:u}=jt(),{addAsset:p}=dc(),{t:f}=rn(),h=x=>{const y=new FileReader;y.onload=w=>{const v=w.target?.result;a(v),u(t,v),ve.success(`${e.type==="subject"?f("subject"):f("style")}${f("reference_image_upload_success")}`)},y.readAsDataURL(x)},m=async()=>{if(!o){ve.error(`${f("please_upload_reference")}${e.type==="subject"?f("subject"):f("style")}`);return}try{r(!0),ve.loading(`${e.type==="subject"?f("processing_subject"):f("processing_style")}`);const x=[];if(o){const v=o.startsWith("data:")?o.split(",")[1]:o,C=o.startsWith("data:")?o.split(";")[0].split(":")[1]:"image/png";x.push({base64:v,mimeType:C})}const y=e.type==="subject"?"100%":" palette";console.log(`Processing ${e.type} with prompt:`,y);const w=await e3(x,y,{imageWeight:90,aspectRatio:"9:16",model:"doubao-seedream-4-5-251128",imageSize:"2K",sequential_image_generation:"disabled",guidance_scale:8.5,seed:0});if(console.log(`Processing ${e.type} result received:`,w?"Success":"Failed"),w){const v=w.startsWith("http")?w:`data:image/png;base64,${w}`;c(t,v);try{p({type:"image",title:`${e.type==="subject"?"":""} - ${new Date().toLocaleString()}`,tags:[e.type==="subject"?"":"","Processing"],prompt:y,images:[v],isFavorite:!1})}catch(C){console.error("Failed to save image to assets:",C)}ve.success(`${e.type==="subject"?"":""}`)}}catch(x){console.error(`Processing ${e.type} error:`,x),ve.error(x.message||"")}finally{r(!1)}};return l.jsxs("div",{className:"bg-card border border-border/50 rounded-[16px] overflow-hidden min-w-[280px]","data-nodeid":t,children:[l.jsx(rf,{nodeId:t}),l.jsxs("div",{className:"p-4",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:e.type==="subject"?f("subject_restore"):f("style_replicate")}),l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:"text-sm font-medium mb-2",children:f("reference_image")}),l.jsx("div",{className:"border-2 border-dashed border-border rounded-[12px] p-4 min-h-[120px] flex flex-col items-center justify-center cursor-pointer hover:border-primary transition-colors",onClick:()=>{const x=document.createElement("input");x.type="file",x.accept="image/*",x.onchange=y=>{const w=y.target.files?.[0];w&&h(w)},x.click()},children:o?l.jsx("img",{src:o,alt:`${e.type==="subject"?f("subject"):f("style")}`,className:"max-h-[110px] max-w-full object-contain rounded-[8px]"}):l.jsxs(l.Fragment,{children:[l.jsx("svg",{className:"w-8 h-8 text-muted-foreground mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),l.jsx("span",{className:"text-sm text-muted-foreground",children:f("click_upload_reference")})]})})]}),l.jsx("button",{className:"w-full bg-primary text-primary-foreground py-2 rounded-[12px] font-medium hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",onClick:m,disabled:!o||n,style:{opacity:n?.7:1,cursor:n||!o?"not-allowed":"pointer"},children:n?f("processing"):`${e.type==="subject"?f("start_restore"):f("start_replicate")}`})]}),l.jsx(Kt,{type:"target",position:Ce.Left,id:"input",style:{top:"50%"},"data-datatype":Dm.ANY}),l.jsx(Kt,{type:"source",position:Ce.Right,id:"output",style:{top:"50%"},"data-datatype":Dm.IMAGE}),l.jsx(us,{color:"var(--primary)",lineWidth:2,isVisible:!1})]})},gI=e=>l.jsx(y3,{...e,data:{...e.data,type:"subject"}}),xI=e=>l.jsx(y3,{...e,data:{...e.data,type:"style"}});/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yI=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Wy=e=>{const t=yI(e);return t.charAt(0).toUpperCase()+t.slice(1)},w3=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:a,iconNode:c,...u},p)=>b.createElement("svg",{ref:p,...wI,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:w3("lucide",o),...u},[...c.map(([f,h])=>b.createElement(f,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=(e,t)=>{const n=b.forwardRef(({className:r,...o},a)=>b.createElement(_I,{ref:a,iconNode:t,className:w3(`lucide-${vI(Wy(e))}`,`lucide-${e}`,r),...o}));return n.displayName=Wy(e),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],CI=Un("check",bI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],_3=Un("chevron-down",kI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],SI=Un("chevron-up",NI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],b3=Un("copy",jI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],C3=Un("download",EI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],k3=Un("heart",PI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],ho=Un("image",II);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],LI=Un("loader-circle",MI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],N3=Un("play",TI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],S3=Un("trash-2",RI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]],zm=Un("type",AI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Pl=Un("video",zI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$g=Un("x",DI);function OI({id:e,source:t,target:n,sourceX:r,sourceY:o,targetX:a,targetY:c,sourcePosition:u,targetPosition:p,style:f={},markerEnd:h,selected:m}){const{setEdges:x,edges:y,images:w,nodes:v}=jt(),[C,k,E]=Qd({sourceX:r,sourceY:o,sourcePosition:u,targetX:a,targetY:c,targetPosition:p}),[N,j]=b.useState("var(--foreground)");b.useEffect(()=>{const D=()=>{j(m?"var(--primary)":"var(--foreground)")};D();const $=new MutationObserver(D);return $.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>$.disconnect()},[m]);const P=D=>{D.stopPropagation(),x(y.filter($=>$.id!==e))},L=v.find(D=>D.id===t),T=w[t]||L?.data?.image;return l.jsxs(l.Fragment,{children:[l.jsx(Na,{path:C,markerEnd:h,style:{...f,stroke:N,strokeWidth:2}}),m&&l.jsx(jy,{children:l.jsx("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${k}px,${E}px)`,fontSize:12,pointerEvents:"all"},className:"nodrag nopan",children:l.jsx("button",{className:"size-6 bg-destructive border-2 border-card rounded-full flex items-center justify-center cursor-pointer hover:scale-125 transition-transform",onClick:P,children:l.jsx($g,{className:"size-3 text-destructive-foreground"})})})}),T&&l.jsx(jy,{children:l.jsx("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${k}px,${E}px)`,pointerEvents:"none"},className:"nodrag nopan",children:l.jsx("div",{className:"bg-card border border-border rounded-full overflow-hidden size-[32px] shadow-md",children:l.jsx("img",{src:T,alt:"Thumbnail",className:"size-full object-cover"})})})})]})}function FI({id:e,sourceX:t,sourceY:n,targetX:r,targetY:o,sourcePosition:a,targetPosition:c,style:u={},markerEnd:p}){const[f]=Qd({sourceX:t,sourceY:n,sourcePosition:a,targetX:r,targetY:o,targetPosition:c});return l.jsx(l.Fragment,{children:l.jsx(Na,{id:e,path:f,markerEnd:p,style:{...u,stroke:"var(--foreground)",strokeWidth:3}})})}const _n={p13ca960c:"M6.28571 8.71429H13.4286C16.2689 8.71429 18.5714 11.0168 18.5714 13.8571C18.5714 16.6975 16.2689 19 13.4286 19H9.71429M9.14286 5L5.83263 8.31022C5.60948 8.53338 5.60948 8.89519 5.83263 9.11835L9.14286 12.4286",p142f0a0:"M2.94182 3.26728L5.78889 14.6556C6.02027 15.5811 7.29281 15.6879 7.67519 14.8138L10 9.5L14.9653 7.51388C15.8302 7.1679 15.7939 5.9313 14.9101 5.63672L4.22819 2.07606C3.47959 1.82653 2.75044 2.50175 2.94182 3.26728Z",p167e7f00:"M13.117 5.05638C13.0529 4.5322 12.5771 4.125 12 4.125L11.8684 4.13287C11.3093 4.19249 10.8751 4.63906 10.8751 5.17899L10.874 11.5153L9.43744 10.0811C9.22443 9.8685 8.93577 9.7491 8.63482 9.7491C8.33386 9.7491 8.0452 9.8685 7.83219 10.0811C7.72689 10.1862 7.64334 10.311 7.58634 10.4485C7.52934 10.5859 7.5 10.7332 7.5 10.882C7.5 11.0308 7.52934 11.1781 7.58634 11.3155C7.64334 11.4529 7.72689 11.5778 7.83219 11.6829L11.1979 15.0417C11.3031 15.1473 11.4281 15.2312 11.5657 15.2884C11.7034 15.3456 11.8509 15.375 12 15.375C12.1491 15.375 12.2966 15.3456 12.4343 15.2884C12.5719 15.2312 12.6969 15.1473 12.8021 15.0417L16.1678 11.6829C16.2731 11.5778 16.3567 11.4529 16.4137 11.3155C16.4707 11.1781 16.5 11.0308 16.5 10.882C16.5 10.7332 16.4707 10.5859 16.4137 10.4485C16.3567 10.311 16.2731 10.1862 16.1678 10.0811C15.9548 9.86885 15.6664 9.74966 15.3657 9.74966C15.0651 9.74966 14.7766 9.86885 14.5637 10.0811L13.1238 11.5164L13.1249 5.18011L13.117 5.05638Z",p192447f0:"M17.7143 8.71429H10.5714C7.73111 8.71429 5.42857 11.0168 5.42857 13.8571C5.42857 16.6975 7.73111 19 10.5714 19H14.2857M14.8571 5L18.1674 8.31022C18.3905 8.53338 18.3905 8.89519 18.1674 9.11835L14.8571 12.4286",p1b8de280:"M20 9L17 9C15.8954 9 15 8.10457 15 7L15 4",p23616880:"M9 4V7C9 8.10457 8.10457 9 7 9H4",p2448c380:"M14.6222 17.897L3.94219 14.984",p2d12d80:"M4.5 16.875V18.375C4.5 19.2034 5.17157 19.875 6 19.875H18C18.8284 19.875 19.5 19.2034 19.5 18.375V16.875",p3017a570:"M4 15L7 15C8.10457 15 9 15.8954 9 17L9 20",p3d70a0:"M15 20L15 17C15 15.8954 15.8954 15 17 15L20 15",p3ddd2d80:"M18.3762 2.62198C18.5733 2.42486 18.8073 2.26851 19.0649 2.16183C19.3224 2.05515 19.5984 2.00024 19.8772 2.00024C20.156 2.00024 20.432 2.05515 20.6895 2.16183C20.9471 2.26851 21.1811 2.42486 21.3782 2.62198C21.5753 2.81909 21.7317 3.0531 21.8384 3.31064C21.945 3.56819 21.9999 3.84422 21.9999 4.12298C21.9999 4.40174 21.945 4.67777 21.8384 4.93531C21.7317 5.19286 21.5753 5.42686 21.3782 5.62398L17.3602 9.64298C17.2665 9.73674 17.2138 9.8639 17.2138 9.99648C17.2138 10.1291 17.2665 10.2562 17.3602 10.35L18.3042 11.294C18.7561 11.7459 19.01 12.3589 19.01 12.998C19.01 13.6371 18.7561 14.25 18.3042 14.702L17.3602 15.646C17.2664 15.7397 17.1393 15.7924 17.0067 15.7924C16.8741 15.7924 16.747 15.7397 16.6532 15.646L8.35421 7.34798C8.26047 7.25421 8.20781 7.12706 8.20781 6.99448C8.20781 6.8619 8.26047 6.73474 8.35421 6.64098L9.29821 5.69698C9.75016 5.24509 10.3631 4.99123 11.0022 4.99123C11.6413 4.99123 12.2543 5.24509 12.7062 5.69698L13.6502 6.64098C13.744 6.73471 13.8711 6.78737 14.0037 6.78737C14.1363 6.78737 14.2634 6.73471 14.3572 6.64098L18.3762 2.62198Z",p40def80:"M8.99992 7.99995C7.19592 10.71 5.02992 11.46 2.41692 11.948C2.33024 11.9638 2.24918 12.0019 2.18173 12.0586C2.11428 12.1153 2.06277 12.1886 2.03229 12.2713C2.0018 12.354 1.99339 12.4432 2.00788 12.5301C2.02237 12.617 2.05926 12.6986 2.11492 12.767L9.43492 21.65C9.5836 21.8079 9.77959 21.9132 9.99333 21.95C10.2071 21.9867 10.427 21.9531 10.6199 21.854C12.7349 20.405 15.9999 16.792 15.9999 15",p83f39e0:"M13.4824 2.3454C13.2844 2.3452 13.0871 2.37009 12.8954 2.41948V2.3454C12.8957 1.8149 12.7161 1.29997 12.3858 0.884798C12.0556 0.469624 11.5943 0.178758 11.0773 0.0597461C10.5603 -0.0592658 10.0183 0.000616295 9.53973 0.229604C9.0612 0.458591 8.67449 0.843139 8.44284 1.32039C8.08802 1.18761 7.70631 1.14282 7.3304 1.18985C6.95448 1.23688 6.59557 1.37433 6.2844 1.59042C5.97323 1.80651 5.71907 2.0948 5.5437 2.43061C5.36833 2.76642 5.27697 3.13974 5.27744 3.51858V7.24655C4.89546 6.81256 4.36656 6.53506 3.79238 6.46737C3.21821 6.39969 2.63928 6.54659 2.16685 6.87986C1.69442 7.21312 1.36182 7.70923 1.23299 8.27285C1.10415 8.83646 1.18816 9.4278 1.46887 9.93323C3.79977 14.8466 5.23103 17 9.08683 17C10.874 16.9983 12.5875 16.2875 13.851 15.0236C15.1146 13.7597 15.825 12.0461 15.8263 10.2589V4.69013C15.8264 4.38226 15.7659 4.07737 15.6481 3.7929C15.5304 3.50843 15.3578 3.24994 15.1401 3.0322C14.9224 2.81446 14.664 2.64174 14.3796 2.52389C14.0951 2.40605 13.7903 2.3454 13.4824 2.3454ZM14.0678 10.2573C14.066 11.5778 13.5407 12.8438 12.607 13.7777C11.6733 14.7116 10.4074 15.2371 9.08683 15.239C6.46121 15.239 5.44515 14.2132 3.04505 9.14839C3.03474 9.12722 3.02389 9.10633 3.01249 9.0857C2.94131 8.95161 2.92493 8.79513 2.9668 8.6492C3.00867 8.50328 3.10552 8.37929 3.23697 8.30333C3.36842 8.22737 3.5242 8.20538 3.67154 8.24197C3.81888 8.27856 3.94628 8.37089 4.02691 8.49952L4.0432 8.52476L5.41096 10.7229C5.51107 10.887 5.6622 11.0137 5.8412 11.0836C6.0202 11.1535 6.21719 11.1628 6.40198 11.11C6.58677 11.0573 6.74916 10.9454 6.86427 10.7915C6.97937 10.6376 7.04084 10.4502 7.03925 10.2581V3.51776C7.03925 3.3623 7.10101 3.2132 7.21094 3.10327C7.32087 2.99334 7.46997 2.93158 7.62543 2.93158C7.7809 2.93158 7.93 2.99334 8.03993 3.10327C8.14986 3.2132 8.21162 3.3623 8.21162 3.51776V7.91415C8.22137 8.14059 8.31818 8.35452 8.48186 8.5113C8.64554 8.66807 8.86343 8.7556 9.09008 8.7556C9.31673 8.7556 9.53463 8.66807 9.6983 8.5113C9.86198 8.35452 9.95879 8.14059 9.96854 7.91415V2.3454C9.96854 2.26842 9.98371 2.19219 10.0132 2.12107C10.0426 2.04995 10.0858 1.98533 10.1402 1.9309C10.1947 1.87647 10.2593 1.83329 10.3304 1.80383C10.4015 1.77437 10.4777 1.75921 10.5547 1.75921C10.6317 1.75921 10.7079 1.77437 10.7791 1.80383C10.8502 1.83329 10.9148 1.87647 10.9692 1.9309C11.0237 1.98533 11.0668 2.04995 11.0963 2.12107C11.1258 2.19219 11.1409 2.26842 11.1409 2.3454V7.91333C11.1409 8.14664 11.2336 8.37039 11.3986 8.53536C11.5635 8.70034 11.7873 8.79302 12.0206 8.79302C12.2539 8.79302 12.4777 8.70034 12.6426 8.53536C12.8076 8.37039 12.9003 8.14664 12.9003 7.91333V4.69013C12.9003 4.53467 12.962 4.38557 13.072 4.27564C13.1819 4.16571 13.331 4.10395 13.4865 4.10395C13.6419 4.10395 13.791 4.16571 13.901 4.27564C14.0109 4.38557 14.0726 4.53467 14.0726 4.69013V10.2589L14.0678 10.2573Z",pe8dae00:"M1 4L1 14C1 15.6569 2.34315 17 4 17L12 17C13.6569 17 15 15.6569 15 14L15 6.60555C15 5.60249 14.4987 4.6658 13.6641 4.1094L9.75578 1.50385C9.26297 1.17532 8.68395 1 8.09168 1L4 1C2.34315 1 1 2.34315 1 4Z"};function go({active:e,className:t,children:n,tooltip:r,...o}){return l.jsx("button",{title:r,"aria-label":r,className:`
        flex items-center justify-center relative shrink-0 transition-colors rounded-full
        ${e?"bg-primary/10 text-primary":"bg-card/80 text-foreground hover:bg-muted"}
        ${t||""}
      `,...o,children:n})}function Uy({onClick:e,label:t}){return l.jsx(go,{onClick:e,className:"size-[20px]",tooltip:`Zoom ${t==="+"?"In":"Out"}`,children:l.jsx("div",{className:"flex flex-col font-sans font-bold justify-center leading-[0] not-italic relative shrink-0 text-[length:var(--text-h2)] tracking-[-0.16px]",children:l.jsx("p",{className:"leading-[16.5px]",children:t})})})}function $I(){const{zoomIn:e,zoomOut:t}=cs(),{zoom:n}=Uj();return l.jsxs("div",{className:"bg-card flex gap-[10px] items-center justify-center p-[10px] relative shrink-0 rounded-l-full",children:[l.jsx(Uy,{onClick:()=>t(),label:"-"}),l.jsx("div",{className:"flex flex-col font-sans font-bold justify-center leading-[0] not-italic relative shrink-0 text-[length:var(--text-h2)] text-foreground tracking-[-0.16px] w-[36px] items-center",children:l.jsxs("p",{className:"leading-[16.5px]",children:[Math.round(n*100),"%"]})}),l.jsx(Uy,{onClick:()=>e(),label:"+"})]})}function BI(){const{fitView:e}=cs();return l.jsx(go,{onClick:()=>e(),className:"px-[6px] py-[6px] size-[32px]",tooltip:"Fit View",children:l.jsx("div",{className:"overflow-clip relative shrink-0 size-[24px]",children:l.jsx("div",{className:"absolute left-1/2 size-[24px] top-1/2 translate-x-[-50%] translate-y-[-50%]",children:l.jsxs("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 24 24",children:[l.jsx("path",{d:_n.p23616880,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),l.jsx("path",{d:_n.p3d70a0,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),l.jsx("path",{d:_n.p1b8de280,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),l.jsx("path",{d:_n.p3017a570,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})]})})})})}function VI(){return l.jsxs("div",{className:"backdrop-blur-md bg-card flex gap-[7px] h-[40px] items-center p-[6px] relative rounded-full shrink-0 border border-border",children:[l.jsx(BI,{}),l.jsx("div",{className:"h-[20px] relative shrink-0 w-px bg-border"}),l.jsx($I,{})]})}function HI({tool:e,setTool:t}){return l.jsxs("div",{className:"backdrop-blur-md bg-card flex gap-[7px] h-[40px] items-center p-[6px] relative rounded-full shrink-0 border border-border",children:[l.jsx(go,{active:e==="hand",onClick:()=>t("hand"),className:"px-[6px] py-[6px] size-[32px]",tooltip:"Hand Tool",children:l.jsx("div",{className:"flex items-center justify-center relative shrink-0 size-[20px]",children:l.jsx("div",{className:"relative shrink-0 size-[14px]",children:l.jsx("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 17 17",children:l.jsx("path",{d:_n.p142f0a0,stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2"})})})})}),l.jsx(go,{active:e==="select",onClick:()=>t("select"),className:"px-[6px] py-[6px] size-[32px]",tooltip:"Select Tool",children:l.jsx("div",{className:"flex items-center justify-center relative shrink-0 size-[20px]",children:l.jsx("div",{className:"relative shrink-0 size-[14px]",children:l.jsx("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 17 17",children:l.jsx("path",{d:_n.p83f39e0,fill:"currentColor"})})})})}),l.jsx(go,{onClick:()=>ve.info("Undo"),className:"px-[6px] py-[6px] size-[32px]",tooltip:"Undo",children:l.jsx("div",{className:"relative shrink-0 size-[20px]",children:l.jsx("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 24 24",children:l.jsx("path",{d:_n.p13ca960c,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})})})}),l.jsx(go,{onClick:()=>ve.info("Redo"),className:"px-[6px] py-[6px] size-[32px]",tooltip:"Redo",children:l.jsx("div",{className:"relative shrink-0 size-[20px]",children:l.jsx("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 24 24",children:l.jsx("path",{d:_n.p192447f0,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})})})})]})}function WI(){const{setNodes:e,setEdges:t,nodes:n,edges:r,workflows:o,activeWorkflowId:a}=jt(),{addAsset:c}=dc(),p=o.find(y=>y.id===a)?.name||"workflow",f=()=>{confirm("Are you sure you want to clear the canvas?")&&(e([]),t([]),ve.success("Canvas cleared"))},h=()=>{const y=JSON.stringify({nodes:n,edges:r},null,2),w=new Blob([y],{type:"application/json"}),v=URL.createObjectURL(w),C=document.createElement("a");C.href=v,C.download=`${p}.json`,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(v),ve.success("")},m=()=>{try{const y=n.length,w=r.length,v=` ${y}  ${w} `,C=JSON.stringify({nodes:n,edges:r}),E=n.map(L=>L.type).filter((L,T,D)=>D.indexOf(L)===T).join(" and "),N=`workflow diagram with ${y} nodes (${E}) and ${w} connections, minimal style, professional design, gray background`,P=`https://trae-api-cn.mchost.guru/api/ide/v1/text_to_image?prompt=${encodeURIComponent(N)}&image_size=landscape_16_9`;c({type:"workflow",title:p,tags:[`: ${y}`,`: ${w}`,""],prompt:v,images:[P],isFavorite:!1,workflowData:C}),ve.success("")}catch(y){console.error("Failed to save workflow to assets:",y),ve.error("")}},x="backdrop-blur-md flex flex-col items-center justify-center px-[20px] py-[6px] relative rounded-full shrink-0 size-[40px] border border-border";return l.jsxs("div",{className:"flex gap-[8px] items-center justify-end relative shrink-0",children:[l.jsx(go,{onClick:f,className:x,tooltip:"Clear Canvas",children:l.jsx("div",{className:"relative shrink-0 size-[20px]",children:l.jsxs("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 24 24",children:[l.jsx("path",{d:_n.p2448c380,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),l.jsx("path",{d:_n.p3ddd2d80,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),l.jsx("path",{d:_n.p40def80,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})]})})}),l.jsx(go,{onClick:h,className:x,tooltip:"Download",children:l.jsx("div",{className:"relative shrink-0 size-[20px]",children:l.jsxs("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 24 24",children:[l.jsx("path",{d:_n.p167e7f00,fill:"currentColor"}),l.jsx("path",{d:_n.p2d12d80,stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2.25"})]})})}),l.jsx(go,{onClick:m,className:x,tooltip:"Save",children:l.jsx("div",{className:"flex items-center justify-center relative shrink-0 size-[20px]",children:l.jsx("div",{className:"h-[14px] relative shrink-0 w-[12px]",children:l.jsx("div",{className:"absolute inset-[-6.25%_-7.14%]",children:l.jsx("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 16 18",children:l.jsx("path",{d:_n.pe8dae00,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})})})})})})]})}function UI({tool:e,setTool:t}){return l.jsxs("div",{className:"absolute bottom-[10px] left-0 right-0 px-[10px] flex items-end justify-between z-10 pointer-events-none",children:[l.jsx("div",{className:"pointer-events-auto",children:l.jsx(VI,{})}),l.jsx("div",{className:"pointer-events-auto",children:l.jsx(HI,{tool:e,setTool:t})}),l.jsx("div",{className:"pointer-events-auto",children:l.jsx(WI,{})})]})}const GI=b.memo(UI);function YI({x:e,y:t,onClose:n,onAddNode:r}){const o=b.useRef(null);b.useEffect(()=>{const c=u=>{o.current&&!o.current.contains(u.target)&&n()};return document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[n]);const a=(c,u)=>{r(c,u,{x:e,y:t}),n()};return l.jsxs("div",{ref:o,className:"fixed z-50 w-[200px] bg-card backdrop-blur-md border border-border/20 rounded-[16px] p-[8px] animate-in fade-in zoom-in-95 duration-100",style:{top:t,left:e},children:[l.jsx("div",{className:"px-[8px] py-[4px] opacity-40 text-xs text-foreground font-bold font-sans",children:""}),l.jsxs("div",{className:"flex flex-col gap-[4px]",children:[l.jsxs("button",{onClick:()=>a("textInput",""),className:"h-[32px] rounded-[30px] flex items-center gap-[8px] px-[10px] py-[4px] hover:bg-secondary cursor-pointer focus:bg-secondary text-foreground w-full text-left transition-colors",children:[l.jsx(zm,{className:"size-[16px]",strokeWidth:2}),l.jsx("span",{className:"font-medium text-[length:var(--text-p)]",children:""})]}),l.jsxs("button",{onClick:()=>a("imageInput",""),className:"h-[32px] rounded-[30px] flex items-center gap-[8px] px-[10px] py-[4px] hover:bg-secondary cursor-pointer",children:[l.jsx(ho,{className:"size-[16px]",strokeWidth:2}),l.jsx("span",{className:"font-medium text-[length:var(--text-p)]",children:""})]}),l.jsxs("button",{onClick:()=>a("videoInput",""),className:"h-[32px] rounded-[30px] flex items-center gap-[8px] px-[10px] py-[4px] hover:bg-secondary cursor-pointer",children:[l.jsx(Pl,{className:"size-[16px]",strokeWidth:2}),l.jsx("span",{className:"font-medium text-[length:var(--text-p)]",children:""})]}),l.jsx("div",{className:"h-px bg-border/10 mx-[10px] my-[4px]"}),l.jsxs("button",{onClick:()=>a("imageEditor",""),className:"h-[32px] rounded-[30px] flex items-center gap-[8px] px-[10px] py-[4px] hover:bg-secondary cursor-pointer",children:[l.jsx(ho,{className:"size-[16px]",strokeWidth:2}),l.jsx("span",{className:"font-medium text-[length:var(--text-p)]",children:""})]}),l.jsxs("button",{onClick:()=>a("videoCreation",""),className:"h-[32px] rounded-[30px] flex items-center gap-[8px] px-[10px] py-[4px] hover:bg-secondary cursor-pointer",children:[l.jsx(Pl,{className:"size-[16px]",strokeWidth:2}),l.jsx("span",{className:"font-medium text-[length:var(--text-p)]",children:""})]}),l.jsxs("button",{onClick:()=>a("preview",""),className:"h-[32px] rounded-[30px] flex items-center gap-[8px] px-[10px] py-[4px] hover:bg-secondary cursor-pointer",children:[l.jsx(ho,{className:"size-[16px]",strokeWidth:2}),l.jsx("span",{className:"font-medium text-[length:var(--text-p)]",children:""})]}),l.jsx("div",{className:"h-px bg-border/10 mx-[10px] my-[4px]"}),l.jsxs("button",{onClick:()=>a("subjectProcessing",""),className:"h-[32px] rounded-[30px] flex items-center gap-[8px] px-[10px] py-[4px] hover:bg-secondary cursor-pointer",children:[l.jsx(ho,{className:"size-[16px]",strokeWidth:2}),l.jsx("span",{className:"font-medium text-[length:var(--text-p)]",children:""})]}),l.jsxs("button",{onClick:()=>a("styleProcessing",""),className:"h-[32px] rounded-[30px] flex items-center gap-[8px] px-[10px] py-[4px] hover:bg-secondary cursor-pointer",children:[l.jsx(ho,{className:"size-[16px]",strokeWidth:2}),l.jsx("span",{className:"font-medium text-[length:var(--text-p)]",children:""})]})]})]})}function KI(e){const t=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*[\d.]+)?\)/);if(!t)return e;const n=parseInt(t[1]),r=parseInt(t[2]),o=parseInt(t[3]),a=c=>{const u=c.toString(16);return u.length===1?"0"+u:u};return`#${a(n)}${a(r)}${a(o)}`}function ZI(){const[e,t]=b.useState({foreground:"#1c1c1c",primary:"#00e424",background:"#f1f4ff",card:"#ffffff",border:"#ffffff19"});return b.useEffect(()=>{const n=()=>{const o=document.documentElement,a=getComputedStyle(o),c=(p,f)=>{const h=a.getPropertyValue(p).trim();return h?KI(h):f},u=o.classList.contains("dark");t({foreground:u?"#ffffff":c("--foreground","#1c1c1c"),primary:c("--primary","#00e424"),background:u?"#0a0a0a":c("--background-editor","#f1f4ff"),card:u?"#1c1c1c":c("--card","#ffffff"),border:u?"#ffffff19":c("--border","#ffffff19")}),console.log("Theme colors updated:",{isDark:u,foreground:u?"#ffffff":c("--foreground","#1c1c1c"),primary:c("--primary","#00e424")})};n();const r=new MutationObserver(o=>{o.forEach(a=>{a.type==="attributes"&&a.attributeName==="class"&&setTimeout(n,50)})});return r.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>r.disconnect()},[]),e}var Dm=(e=>(e.IMAGE="IMAGE",e.TEXT="TEXT",e.ANY="ANY",e))(Dm||{});const XI={imageInput:My,textInput:SP,videoInput:My,character:mI,imageEditor:Oy,imageEditorNode:Oy,imageCaption:NP,subjectProcessing:gI,styleProcessing:xI,preview:$u,imagePreview:$u,textPreview:$u,videoPreview:$u},qI={deletable:OI,simple:FI};function QI(){const[e,t]=b.useState("hand"),[n,r]=b.useState(!1),[o,a]=b.useState(null),c=b.useRef(null),u=b.useRef(null),p=ZI(),{activeWorkflowId:f,setSelectedNodeId:h,setNodes:m,nodes:x,setEdges:y,edges:w,addNode:v,viewport:C,setViewport:k}=jt();b.useEffect(()=>{r(!1)},[f]);const E=b.useCallback(M=>{m(F=>f_(M,F))},[m]),N=b.useCallback(M=>{y(F=>p_(M,F))},[y]),j=b.useCallback(M=>{const F={...M,id:`edge-${M.source}-${M.target}-${Date.now()}`,animated:!0,style:{stroke:p.foreground,strokeWidth:4,opacity:1},markerEnd:{type:da.ArrowClosed,color:p.foreground}},H=Gw(F,w);y(H),ve.success(` (${H.length} )`)},[w,y,p.foreground]),P=b.useCallback((M,F)=>{h(F.id)},[h]),L=b.useCallback(()=>{h(null),o&&a(null)},[h,o]),T=b.useCallback(M=>{M.preventDefault(),a({x:M.clientX,y:M.clientY,visible:!0})},[]),D=b.useCallback((M,F)=>{M.preventDefault(),a({x:M.clientX,y:M.clientY,visible:!0}),h(F.id)},[h]),$=b.useCallback((M,F,H)=>{if(!c.current||!u.current)return;const R=u.current.getBoundingClientRect(),I=c.current.screenToFlowPosition({x:H.x-R.left,y:H.y-R.top}),O={id:`node-${Date.now()}`,type:M,position:I,data:{label:F}};v(O),ve.success(`: ${F}`,{duration:2e3}),a(null)},[v]),Y=b.useMemo(()=>({animated:!0,style:{stroke:p.foreground,strokeWidth:2},markerEnd:{type:da.ArrowClosed,color:p.foreground}}),[p.foreground]),G=b.useMemo(()=>({stroke:p.primary,strokeWidth:2}),[p.primary]),V=b.useCallback(M=>{ve.success(` ${M.length} `)},[]),W=b.useCallback(M=>{M.length>0&&ve.success(` ${M.length} `)},[]),z=b.useCallback(M=>{if(M.source===M.target)return!1;const F=document.querySelector(`[data-nodeid="${M.source}"]`),H=document.querySelector(`[data-nodeid="${M.target}"]`),R=F?.querySelector(`[data-handleid="${M.sourceHandle}"]`)?.getAttribute("data-datatype"),I=H?.querySelector(`[data-handleid="${M.targetHandle}"]`)?.getAttribute("data-datatype");return R==="ANY"||I==="ANY"?!0:R===I},[]);return l.jsxs("div",{className:"w-full h-full relative",ref:u,children:[l.jsxs(Vj,{nodes:x,edges:w,onNodesChange:E,onEdgesChange:N,onNodesDelete:V,onEdgesDelete:W,onConnect:j,onNodeClick:P,onNodeContextMenu:D,onPaneClick:L,onPaneContextMenu:T,onInit:M=>{c.current=M,C&&(C.x!==0||C.y!==0||C.zoom!==1)&&M.setViewport(C),r(!0)},onMoveEnd:(M,F)=>{k({x:F.x,y:F.y,zoom:F.zoom})},nodeTypes:XI,edgeTypes:qI,nodesDraggable:!0,nodesConnectable:!0,elementsSelectable:!0,reconnectRadius:20,panOnDrag:e==="hand",panOnScroll:!0,fitView:!n&&(!C||C.x===0&&C.y===0&&C.zoom===1),className:"bg-background",defaultEdgeOptions:Y,connectionLineStyle:G,deleteKeyCode:["Backspace","Delete"],multiSelectionKeyCode:["Control","Meta"],selectionKeyCode:["Shift"],isValidConnection:z,children:[l.jsx(Qj,{variant:_o.Dots,gap:20,size:1,className:"opacity-50",style:{backgroundColor:p.background}}),l.jsx(xE,{style:{backgroundColor:p.card,opacity:.8},className:"!border !border-border/20 !rounded-[16px] !bottom-[80px] !right-[20px] !w-[150px] !h-[100px]",nodeColor:p.primary,maskColor:p.background}),l.jsx(GI,{tool:e,setTool:t})]}),o&&l.jsx(YI,{x:o.x,y:o.y,onClose:()=>a(null),onAddNode:$})]})}function JI(){return l.jsx(D_,{children:l.jsx(QI,{})})}function Me(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e?.(o),n===!1||!o.defaultPrevented)return t?.(o)}}function Gy(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Eo(...e){return t=>{let n=!1;const r=e.map(o=>{const a=Gy(o,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let o=0;o<r.length;o++){const a=r[o];typeof a=="function"?a():Gy(e[o],null)}}}}function Xe(...e){return b.useCallback(Eo(...e),e)}function eM(e,t){const n=b.createContext(t),r=a=>{const{children:c,...u}=a,p=b.useMemo(()=>u,Object.values(u));return l.jsx(n.Provider,{value:p,children:c})};r.displayName=e+"Provider";function o(a){const c=b.useContext(n);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,o]}function Po(e,t=[]){let n=[];function r(a,c){const u=b.createContext(c),p=n.length;n=[...n,c];const f=m=>{const{scope:x,children:y,...w}=m,v=x?.[e]?.[p]||u,C=b.useMemo(()=>w,Object.values(w));return l.jsx(v.Provider,{value:C,children:y})};f.displayName=a+"Provider";function h(m,x){const y=x?.[e]?.[p]||u,w=b.useContext(y);if(w)return w;if(c!==void 0)return c;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[f,h]}const o=()=>{const a=n.map(c=>b.createContext(c));return function(u){const p=u?.[e]||a;return b.useMemo(()=>({[`__scope${e}`]:{...u,[e]:p}}),[u,p])}};return o.scopeName=e,[r,tM(o,...t)]}function tM(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const c=r.reduce((u,{useScope:p,scopeName:f})=>{const m=p(a)[`__scope${f}`];return{...u,...m}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return n.scopeName=t.scopeName,n}var nn=globalThis?.document?b.useLayoutEffect:()=>{},nM=gg[" useId ".trim().toString()]||(()=>{}),rM=0;function Gr(e){const[t,n]=b.useState(nM());return nn(()=>{n(r=>r??String(rM++))},[e]),e||(t?`radix-${t}`:"")}var oM=gg[" useInsertionEffect ".trim().toString()]||nn;function ri({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[o,a,c]=sM({defaultProp:t,onChange:n}),u=e!==void 0,p=u?e:o;{const h=b.useRef(e!==void 0);b.useEffect(()=>{const m=h.current;m!==u&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=u},[u,r])}const f=b.useCallback(h=>{if(u){const m=iM(h)?h(e):h;m!==e&&c.current?.(m)}else a(h)},[u,e,a,c]);return[p,f]}function sM({defaultProp:e,onChange:t}){const[n,r]=b.useState(e),o=b.useRef(n),a=b.useRef(t);return oM(()=>{a.current=t},[t]),b.useEffect(()=>{o.current!==n&&(a.current?.(n),o.current=n)},[n,o]),[n,r,a]}function iM(e){return typeof e=="function"}function aM(e){const t=lM(e),n=b.forwardRef((r,o)=>{const{children:a,...c}=r,u=b.Children.toArray(a),p=u.find(uM);if(p){const f=p.props.children,h=u.map(m=>m===p?b.Children.count(f)>1?b.Children.only(null):b.isValidElement(f)?f.props.children:null:m);return l.jsx(t,{...c,ref:o,children:b.isValidElement(f)?b.cloneElement(f,void 0,h):null})}return l.jsx(t,{...c,ref:o,children:a})});return n.displayName=`${e}.Slot`,n}function lM(e){const t=b.forwardRef((n,r)=>{const{children:o,...a}=n;if(b.isValidElement(o)){const c=fM(o),u=dM(a,o.props);return o.type!==b.Fragment&&(u.ref=r?Eo(r,c):c),b.cloneElement(o,u)}return b.Children.count(o)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var cM=Symbol("radix.slottable");function uM(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===cM}function dM(e,t){const n={...t};for(const r in t){const o=e[r],a=t[r];/^on[A-Z]/.test(r)?o&&a?n[r]=(...u)=>{const p=a(...u);return o(...u),p}:o&&(n[r]=o):r==="style"?n[r]={...o,...a}:r==="className"&&(n[r]=[o,a].filter(Boolean).join(" "))}return{...e,...n}}function fM(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var pM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Be=pM.reduce((e,t)=>{const n=aM(`Primitive.${t}`),r=b.forwardRef((o,a)=>{const{asChild:c,...u}=o,p=c?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(p,{...u,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function j3(e,t){e&&wo.flushSync(()=>e.dispatchEvent(t))}function Kr(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...n)=>t.current?.(...n),[])}function hM(e,t=globalThis?.document){const n=Kr(e);b.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var mM="DismissableLayer",Om="dismissableLayer.update",gM="dismissableLayer.pointerDownOutside",xM="dismissableLayer.focusOutside",Yy,E3=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),of=b.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:c,onDismiss:u,...p}=e,f=b.useContext(E3),[h,m]=b.useState(null),x=h?.ownerDocument??globalThis?.document,[,y]=b.useState({}),w=Xe(t,T=>m(T)),v=Array.from(f.layers),[C]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),k=v.indexOf(C),E=h?v.indexOf(h):-1,N=f.layersWithOutsidePointerEventsDisabled.size>0,j=E>=k,P=wM(T=>{const D=T.target,$=[...f.branches].some(Y=>Y.contains(D));!j||$||(o?.(T),c?.(T),T.defaultPrevented||u?.())},x),L=_M(T=>{const D=T.target;[...f.branches].some(Y=>Y.contains(D))||(a?.(T),c?.(T),T.defaultPrevented||u?.())},x);return hM(T=>{E===f.layers.size-1&&(r?.(T),!T.defaultPrevented&&u&&(T.preventDefault(),u()))},x),b.useEffect(()=>{if(h)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(Yy=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(h)),f.layers.add(h),Ky(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=Yy)}},[h,x,n,f]),b.useEffect(()=>()=>{h&&(f.layers.delete(h),f.layersWithOutsidePointerEventsDisabled.delete(h),Ky())},[h,f]),b.useEffect(()=>{const T=()=>y({});return document.addEventListener(Om,T),()=>document.removeEventListener(Om,T)},[]),l.jsx(Be.div,{...p,ref:w,style:{pointerEvents:N?j?"auto":"none":void 0,...e.style},onFocusCapture:Me(e.onFocusCapture,L.onFocusCapture),onBlurCapture:Me(e.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Me(e.onPointerDownCapture,P.onPointerDownCapture)})});of.displayName=mM;var vM="DismissableLayerBranch",yM=b.forwardRef((e,t)=>{const n=b.useContext(E3),r=b.useRef(null),o=Xe(t,r);return b.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),l.jsx(Be.div,{...e,ref:o})});yM.displayName=vM;function wM(e,t=globalThis?.document){const n=Kr(e),r=b.useRef(!1),o=b.useRef(()=>{});return b.useEffect(()=>{const a=u=>{if(u.target&&!r.current){let p=function(){P3(gM,n,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=p,t.addEventListener("click",o.current,{once:!0})):p()}else t.removeEventListener("click",o.current);r.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",a),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function _M(e,t=globalThis?.document){const n=Kr(e),r=b.useRef(!1);return b.useEffect(()=>{const o=a=>{a.target&&!r.current&&P3(xM,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ky(){const e=new CustomEvent(Om);document.dispatchEvent(e)}function P3(e,t,n,{discrete:r}){const o=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?j3(o,a):o.dispatchEvent(a)}var Vh="focusScope.autoFocusOnMount",Hh="focusScope.autoFocusOnUnmount",Zy={bubbles:!1,cancelable:!0},bM="FocusScope",sf=b.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...c}=e,[u,p]=b.useState(null),f=Kr(o),h=Kr(a),m=b.useRef(null),x=Xe(t,v=>p(v)),y=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let v=function(N){if(y.paused||!u)return;const j=N.target;u.contains(j)?m.current=j:ts(m.current,{select:!0})},C=function(N){if(y.paused||!u)return;const j=N.relatedTarget;j!==null&&(u.contains(j)||ts(m.current,{select:!0}))},k=function(N){if(document.activeElement===document.body)for(const P of N)P.removedNodes.length>0&&ts(u)};document.addEventListener("focusin",v),document.addEventListener("focusout",C);const E=new MutationObserver(k);return u&&E.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",C),E.disconnect()}}},[r,u,y.paused]),b.useEffect(()=>{if(u){qy.add(y);const v=document.activeElement;if(!u.contains(v)){const k=new CustomEvent(Vh,Zy);u.addEventListener(Vh,f),u.dispatchEvent(k),k.defaultPrevented||(CM(EM(I3(u)),{select:!0}),document.activeElement===v&&ts(u))}return()=>{u.removeEventListener(Vh,f),setTimeout(()=>{const k=new CustomEvent(Hh,Zy);u.addEventListener(Hh,h),u.dispatchEvent(k),k.defaultPrevented||ts(v??document.body,{select:!0}),u.removeEventListener(Hh,h),qy.remove(y)},0)}}},[u,f,h,y]);const w=b.useCallback(v=>{if(!n&&!r||y.paused)return;const C=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,k=document.activeElement;if(C&&k){const E=v.currentTarget,[N,j]=kM(E);N&&j?!v.shiftKey&&k===j?(v.preventDefault(),n&&ts(N,{select:!0})):v.shiftKey&&k===N&&(v.preventDefault(),n&&ts(j,{select:!0})):k===E&&v.preventDefault()}},[n,r,y.paused]);return l.jsx(Be.div,{tabIndex:-1,...c,ref:x,onKeyDown:w})});sf.displayName=bM;function CM(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ts(r,{select:t}),document.activeElement!==n)return}function kM(e){const t=I3(e),n=Xy(t,e),r=Xy(t.reverse(),e);return[n,r]}function I3(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Xy(e,t){for(const n of e)if(!NM(n,{upTo:t}))return n}function NM(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function SM(e){return e instanceof HTMLInputElement&&"select"in e}function ts(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&SM(e)&&t&&e.select()}}var qy=jM();function jM(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=Qy(e,t),e.unshift(t)},remove(t){e=Qy(e,t),e[0]?.resume()}}}function Qy(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function EM(e){return e.filter(t=>t.tagName!=="A")}var PM="Portal",af=b.forwardRef((e,t)=>{const{container:n,...r}=e,[o,a]=b.useState(!1);nn(()=>a(!0),[]);const c=n||o&&globalThis?.document?.body;return c?i_.createPortal(l.jsx(Be.div,{...r,ref:t}),c):null});af.displayName=PM;function IM(e,t){return b.useReducer((n,r)=>t[n][r]??n,e)}var Io=e=>{const{present:t,children:n}=e,r=MM(t),o=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),a=Xe(r.ref,LM(o));return typeof n=="function"||r.isPresent?b.cloneElement(o,{ref:a}):null};Io.displayName="Presence";function MM(e){const[t,n]=b.useState(),r=b.useRef(null),o=b.useRef(e),a=b.useRef("none"),c=e?"mounted":"unmounted",[u,p]=IM(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const f=Hu(r.current);a.current=u==="mounted"?f:"none"},[u]),nn(()=>{const f=r.current,h=o.current;if(h!==e){const x=a.current,y=Hu(f);e?p("MOUNT"):y==="none"||f?.display==="none"?p("UNMOUNT"):p(h&&x!==y?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,p]),nn(()=>{if(t){let f;const h=t.ownerDocument.defaultView??window,m=y=>{const v=Hu(r.current).includes(CSS.escape(y.animationName));if(y.target===t&&v&&(p("ANIMATION_END"),!o.current)){const C=t.style.animationFillMode;t.style.animationFillMode="forwards",f=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=C)})}},x=y=>{y.target===t&&(a.current=Hu(r.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{h.clearTimeout(f),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else p("ANIMATION_END")},[t,p]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:b.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function Hu(e){return e?.animationName||"none"}function LM(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Wh=0;function Bg(){b.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Jy()),document.body.insertAdjacentElement("beforeend",e[1]??Jy()),Wh++,()=>{Wh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Wh--}},[])}function Jy(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Br=function(){return Br=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Br.apply(this,arguments)};function M3(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function TM(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,a;r<o;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var id="right-scroll-bar-position",ad="width-before-scroll-bar",RM="with-scroll-bars-hidden",AM="--removed-body-scroll-bar-size";function Uh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function zM(e,t){var n=b.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var DM=typeof window<"u"?b.useLayoutEffect:b.useEffect,e2=new WeakMap;function OM(e,t){var n=zM(null,function(r){return e.forEach(function(o){return Uh(o,r)})});return DM(function(){var r=e2.get(n);if(r){var o=new Set(r),a=new Set(e),c=n.current;o.forEach(function(u){a.has(u)||Uh(u,null)}),a.forEach(function(u){o.has(u)||Uh(u,c)})}e2.set(n,e)},[e]),n}function FM(e){return e}function $M(e,t){t===void 0&&(t=FM);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var c=t(a,r);return n.push(c),function(){n=n.filter(function(u){return u!==c})}},assignSyncMedium:function(a){for(r=!0;n.length;){var c=n;n=[],c.forEach(a)}n={push:function(u){return a(u)},filter:function(){return n}}},assignMedium:function(a){r=!0;var c=[];if(n.length){var u=n;n=[],u.forEach(a),c=n}var p=function(){var h=c;c=[],h.forEach(a)},f=function(){return Promise.resolve().then(p)};f(),n={push:function(h){c.push(h),f()},filter:function(h){return c=c.filter(h),n}}}};return o}function BM(e){e===void 0&&(e={});var t=$M(null);return t.options=Br({async:!0,ssr:!1},e),t}var L3=function(e){var t=e.sideCar,n=M3(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,Br({},n))};L3.isSideCarExport=!0;function VM(e,t){return e.useMedium(t),L3}var T3=BM(),Gh=function(){},lf=b.forwardRef(function(e,t){var n=b.useRef(null),r=b.useState({onScrollCapture:Gh,onWheelCapture:Gh,onTouchMoveCapture:Gh}),o=r[0],a=r[1],c=e.forwardProps,u=e.children,p=e.className,f=e.removeScrollBar,h=e.enabled,m=e.shards,x=e.sideCar,y=e.noRelative,w=e.noIsolation,v=e.inert,C=e.allowPinchZoom,k=e.as,E=k===void 0?"div":k,N=e.gapMode,j=M3(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=x,L=OM([n,t]),T=Br(Br({},j),o);return b.createElement(b.Fragment,null,h&&b.createElement(P,{sideCar:T3,removeScrollBar:f,shards:m,noRelative:y,noIsolation:w,inert:v,setCallbacks:a,allowPinchZoom:!!C,lockRef:n,gapMode:N}),c?b.cloneElement(b.Children.only(u),Br(Br({},T),{ref:L})):b.createElement(E,Br({},T,{className:p,ref:L}),u))});lf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};lf.classNames={fullWidth:ad,zeroRight:id};var HM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function WM(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=HM();return t&&e.setAttribute("nonce",t),e}function UM(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function GM(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var YM=function(){var e=0,t=null;return{add:function(n){e==0&&(t=WM())&&(UM(t,n),GM(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},KM=function(){var e=YM();return function(t,n){b.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},R3=function(){var e=KM(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},ZM={left:0,top:0,right:0,gap:0},Yh=function(e){return parseInt(e||"",10)||0},XM=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Yh(n),Yh(r),Yh(o)]},qM=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return ZM;var t=XM(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},QM=R3(),na="data-scroll-locked",JM=function(e,t,n,r){var o=e.left,a=e.top,c=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(RM,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(na,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(id,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(ad,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(id," .").concat(id,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ad," .").concat(ad,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(na,`] {
    `).concat(AM,": ").concat(u,`px;
  }
`)},t2=function(){var e=parseInt(document.body.getAttribute(na)||"0",10);return isFinite(e)?e:0},eL=function(){b.useEffect(function(){return document.body.setAttribute(na,(t2()+1).toString()),function(){var e=t2()-1;e<=0?document.body.removeAttribute(na):document.body.setAttribute(na,e.toString())}},[])},tL=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;eL();var a=b.useMemo(function(){return qM(o)},[o]);return b.createElement(QM,{styles:JM(a,!t,o,n?"":"!important")})},Fm=!1;if(typeof window<"u")try{var Wu=Object.defineProperty({},"passive",{get:function(){return Fm=!0,!0}});window.addEventListener("test",Wu,Wu),window.removeEventListener("test",Wu,Wu)}catch{Fm=!1}var Hi=Fm?{passive:!1}:!1,nL=function(e){return e.tagName==="TEXTAREA"},A3=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!nL(e)&&n[t]==="visible")},rL=function(e){return A3(e,"overflowY")},oL=function(e){return A3(e,"overflowX")},n2=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=z3(e,r);if(o){var a=D3(e,r),c=a[1],u=a[2];if(c>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},sL=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},iL=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},z3=function(e,t){return e==="v"?rL(t):oL(t)},D3=function(e,t){return e==="v"?sL(t):iL(t)},aL=function(e,t){return e==="h"&&t==="rtl"?-1:1},lL=function(e,t,n,r,o){var a=aL(e,window.getComputedStyle(t).direction),c=a*r,u=n.target,p=t.contains(u),f=!1,h=c>0,m=0,x=0;do{if(!u)break;var y=D3(e,u),w=y[0],v=y[1],C=y[2],k=v-C-a*w;(w||k)&&z3(e,u)&&(m+=k,x+=w);var E=u.parentNode;u=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!p&&u!==document.body||p&&(t.contains(u)||t===u));return(h&&Math.abs(m)<1||!h&&Math.abs(x)<1)&&(f=!0),f},Uu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},r2=function(e){return[e.deltaX,e.deltaY]},o2=function(e){return e&&"current"in e?e.current:e},cL=function(e,t){return e[0]===t[0]&&e[1]===t[1]},uL=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},dL=0,Wi=[];function fL(e){var t=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),o=b.useState(dL++)[0],a=b.useState(R3)[0],c=b.useRef(e);b.useEffect(function(){c.current=e},[e]),b.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var v=TM([e.lockRef.current],(e.shards||[]).map(o2),!0).filter(Boolean);return v.forEach(function(C){return C.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),v.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var u=b.useCallback(function(v,C){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!c.current.allowPinchZoom;var k=Uu(v),E=n.current,N="deltaX"in v?v.deltaX:E[0]-k[0],j="deltaY"in v?v.deltaY:E[1]-k[1],P,L=v.target,T=Math.abs(N)>Math.abs(j)?"h":"v";if("touches"in v&&T==="h"&&L.type==="range")return!1;var D=window.getSelection(),$=D&&D.anchorNode,Y=$?$===L||$.contains(L):!1;if(Y)return!1;var G=n2(T,L);if(!G)return!0;if(G?P=T:(P=T==="v"?"h":"v",G=n2(T,L)),!G)return!1;if(!r.current&&"changedTouches"in v&&(N||j)&&(r.current=P),!P)return!0;var V=r.current||P;return lL(V,C,v,V==="h"?N:j)},[]),p=b.useCallback(function(v){var C=v;if(!(!Wi.length||Wi[Wi.length-1]!==a)){var k="deltaY"in C?r2(C):Uu(C),E=t.current.filter(function(P){return P.name===C.type&&(P.target===C.target||C.target===P.shadowParent)&&cL(P.delta,k)})[0];if(E&&E.should){C.cancelable&&C.preventDefault();return}if(!E){var N=(c.current.shards||[]).map(o2).filter(Boolean).filter(function(P){return P.contains(C.target)}),j=N.length>0?u(C,N[0]):!c.current.noIsolation;j&&C.cancelable&&C.preventDefault()}}},[]),f=b.useCallback(function(v,C,k,E){var N={name:v,delta:C,target:k,should:E,shadowParent:pL(k)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(j){return j!==N})},1)},[]),h=b.useCallback(function(v){n.current=Uu(v),r.current=void 0},[]),m=b.useCallback(function(v){f(v.type,r2(v),v.target,u(v,e.lockRef.current))},[]),x=b.useCallback(function(v){f(v.type,Uu(v),v.target,u(v,e.lockRef.current))},[]);b.useEffect(function(){return Wi.push(a),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:x}),document.addEventListener("wheel",p,Hi),document.addEventListener("touchmove",p,Hi),document.addEventListener("touchstart",h,Hi),function(){Wi=Wi.filter(function(v){return v!==a}),document.removeEventListener("wheel",p,Hi),document.removeEventListener("touchmove",p,Hi),document.removeEventListener("touchstart",h,Hi)}},[]);var y=e.removeScrollBar,w=e.inert;return b.createElement(b.Fragment,null,w?b.createElement(a,{styles:uL(o)}):null,y?b.createElement(tL,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function pL(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const hL=VM(T3,fL);var cf=b.forwardRef(function(e,t){return b.createElement(lf,Br({},e,{ref:t,sideCar:hL}))});cf.classNames=lf.classNames;var mL=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ui=new WeakMap,Gu=new WeakMap,Yu={},Kh=0,O3=function(e){return e&&(e.host||O3(e.parentNode))},gL=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=O3(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},xL=function(e,t,n,r){var o=gL(t,Array.isArray(e)?e:[e]);Yu[n]||(Yu[n]=new WeakMap);var a=Yu[n],c=[],u=new Set,p=new Set(o),f=function(m){!m||u.has(m)||(u.add(m),f(m.parentNode))};o.forEach(f);var h=function(m){!m||p.has(m)||Array.prototype.forEach.call(m.children,function(x){if(u.has(x))h(x);else try{var y=x.getAttribute(r),w=y!==null&&y!=="false",v=(Ui.get(x)||0)+1,C=(a.get(x)||0)+1;Ui.set(x,v),a.set(x,C),c.push(x),v===1&&w&&Gu.set(x,!0),C===1&&x.setAttribute(n,"true"),w||x.setAttribute(r,"true")}catch(k){console.error("aria-hidden: cannot operate on ",x,k)}})};return h(t),u.clear(),Kh++,function(){c.forEach(function(m){var x=Ui.get(m)-1,y=a.get(m)-1;Ui.set(m,x),a.set(m,y),x||(Gu.has(m)||m.removeAttribute(r),Gu.delete(m)),y||m.removeAttribute(n)}),Kh--,Kh||(Ui=new WeakMap,Ui=new WeakMap,Gu=new WeakMap,Yu={})}},Vg=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=mL(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),xL(r,o,n,"aria-hidden")):function(){return null}};function vL(e){const t=yL(e),n=b.forwardRef((r,o)=>{const{children:a,...c}=r,u=b.Children.toArray(a),p=u.find(_L);if(p){const f=p.props.children,h=u.map(m=>m===p?b.Children.count(f)>1?b.Children.only(null):b.isValidElement(f)?f.props.children:null:m);return l.jsx(t,{...c,ref:o,children:b.isValidElement(f)?b.cloneElement(f,void 0,h):null})}return l.jsx(t,{...c,ref:o,children:a})});return n.displayName=`${e}.Slot`,n}function yL(e){const t=b.forwardRef((n,r)=>{const{children:o,...a}=n;if(b.isValidElement(o)){const c=CL(o),u=bL(a,o.props);return o.type!==b.Fragment&&(u.ref=r?Eo(r,c):c),b.cloneElement(o,u)}return b.Children.count(o)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var wL=Symbol("radix.slottable");function _L(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===wL}function bL(e,t){const n={...t};for(const r in t){const o=e[r],a=t[r];/^on[A-Z]/.test(r)?o&&a?n[r]=(...u)=>{const p=a(...u);return o(...u),p}:o&&(n[r]=o):r==="style"?n[r]={...o,...a}:r==="className"&&(n[r]=[o,a].filter(Boolean).join(" "))}return{...e,...n}}function CL(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var uf="Dialog",[F3]=Po(uf),[kL,Cr]=F3(uf),$3=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:a,modal:c=!0}=e,u=b.useRef(null),p=b.useRef(null),[f,h]=ri({prop:r,defaultProp:o??!1,onChange:a,caller:uf});return l.jsx(kL,{scope:t,triggerRef:u,contentRef:p,contentId:Gr(),titleId:Gr(),descriptionId:Gr(),open:f,onOpenChange:h,onOpenToggle:b.useCallback(()=>h(m=>!m),[h]),modal:c,children:n})};$3.displayName=uf;var B3="DialogTrigger",V3=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Cr(B3,n),a=Xe(t,o.triggerRef);return l.jsx(Be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Ug(o.open),...r,ref:a,onClick:Me(e.onClick,o.onOpenToggle)})});V3.displayName=B3;var Hg="DialogPortal",[NL,H3]=F3(Hg,{forceMount:void 0}),W3=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,a=Cr(Hg,t);return l.jsx(NL,{scope:t,forceMount:n,children:b.Children.map(r,c=>l.jsx(Io,{present:n||a.open,children:l.jsx(af,{asChild:!0,container:o,children:c})}))})};W3.displayName=Hg;var Nd="DialogOverlay",U3=b.forwardRef((e,t)=>{const n=H3(Nd,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,a=Cr(Nd,e.__scopeDialog);return a.modal?l.jsx(Io,{present:r||a.open,children:l.jsx(jL,{...o,ref:t})}):null});U3.displayName=Nd;var SL=vL("DialogOverlay.RemoveScroll"),jL=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Cr(Nd,n);return l.jsx(cf,{as:SL,allowPinchZoom:!0,shards:[o.contentRef],children:l.jsx(Be.div,{"data-state":Ug(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),oi="DialogContent",G3=b.forwardRef((e,t)=>{const n=H3(oi,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,a=Cr(oi,e.__scopeDialog);return l.jsx(Io,{present:r||a.open,children:a.modal?l.jsx(EL,{...o,ref:t}):l.jsx(PL,{...o,ref:t})})});G3.displayName=oi;var EL=b.forwardRef((e,t)=>{const n=Cr(oi,e.__scopeDialog),r=b.useRef(null),o=Xe(t,n.contentRef,r);return b.useEffect(()=>{const a=r.current;if(a)return Vg(a)},[]),l.jsx(Y3,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Me(e.onCloseAutoFocus,a=>{a.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Me(e.onPointerDownOutside,a=>{const c=a.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&a.preventDefault()}),onFocusOutside:Me(e.onFocusOutside,a=>a.preventDefault())})}),PL=b.forwardRef((e,t)=>{const n=Cr(oi,e.__scopeDialog),r=b.useRef(!1),o=b.useRef(!1);return l.jsx(Y3,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||n.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=a.target;n.triggerRef.current?.contains(c)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),Y3=b.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:a,...c}=e,u=Cr(oi,n),p=b.useRef(null),f=Xe(t,p);return Bg(),l.jsxs(l.Fragment,{children:[l.jsx(sf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:a,children:l.jsx(of,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Ug(u.open),...c,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(IL,{titleId:u.titleId}),l.jsx(LL,{contentRef:p,descriptionId:u.descriptionId})]})]})}),Wg="DialogTitle",K3=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Cr(Wg,n);return l.jsx(Be.h2,{id:o.titleId,...r,ref:t})});K3.displayName=Wg;var Z3="DialogDescription",X3=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Cr(Z3,n);return l.jsx(Be.p,{id:o.descriptionId,...r,ref:t})});X3.displayName=Z3;var q3="DialogClose",Q3=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Cr(q3,n);return l.jsx(Be.button,{type:"button",...r,ref:t,onClick:Me(e.onClick,()=>o.onOpenChange(!1))})});Q3.displayName=q3;function Ug(e){return e?"open":"closed"}var J3="DialogTitleWarning",[EF,eb]=eM(J3,{contentName:oi,titleName:Wg,docsSlug:"dialog"}),IL=({titleId:e})=>{const t=eb(J3),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return b.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},ML="DialogDescriptionWarning",LL=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${eb(ML).contentName}}.`;return b.useEffect(()=>{const o=e.current?.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},TL=$3,tb=V3,RL=W3,nb=U3,rb=G3,ob=K3,sb=X3,Gg=Q3;function ib({...e}){return l.jsx(TL,{"data-slot":"dialog",...e})}const AL=b.forwardRef(({className:e,...t},n)=>l.jsx(tb,{ref:n,"data-slot":"dialog-trigger",className:e,...t}));AL.displayName=tb.displayName;const zL=RL,DL=b.forwardRef(({className:e,...t},n)=>l.jsx(Gg,{ref:n,"data-slot":"dialog-close",className:e,...t}));DL.displayName=Gg.displayName;const ab=b.forwardRef(({className:e,...t},n)=>l.jsx(nb,{ref:n,"data-slot":"dialog-overlay",className:Te("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));ab.displayName=nb.displayName;const Yg=b.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(zL,{"data-slot":"dialog-portal",children:[l.jsx(ab,{}),l.jsxs(rb,{ref:r,"data-slot":"dialog-content",className:Te("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,l.jsxs(Gg,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[l.jsx($g,{}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Yg.displayName=rb.displayName;const Kg=b.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,"data-slot":"dialog-header",className:Te("flex flex-col gap-2 text-center sm:text-left",e),...t}));Kg.displayName="DialogHeader";const Zg=b.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,"data-slot":"dialog-footer",className:Te("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t}));Zg.displayName="DialogFooter";const Xg=b.forwardRef(({className:e,...t},n)=>l.jsx(ob,{ref:n,"data-slot":"dialog-title",className:Te("text-lg leading-none font-semibold",e),...t}));Xg.displayName=ob.displayName;const qg=b.forwardRef(({className:e,...t},n)=>l.jsx(sb,{ref:n,"data-slot":"dialog-description",className:Te("text-muted-foreground text-sm",e),...t}));qg.displayName=sb.displayName;function $m({className:e,type:t,...n}){return l.jsx("input",{type:t,"data-slot":"input",className:Te("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}var OL=Symbol.for("react.lazy"),Sd=gg[" use ".trim().toString()];function FL(e){return typeof e=="object"&&e!==null&&"then"in e}function lb(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===OL&&"_payload"in e&&FL(e._payload)}function cb(e){const t=$L(e),n=b.forwardRef((r,o)=>{let{children:a,...c}=r;lb(a)&&typeof Sd=="function"&&(a=Sd(a._payload));const u=b.Children.toArray(a),p=u.find(VL);if(p){const f=p.props.children,h=u.map(m=>m===p?b.Children.count(f)>1?b.Children.only(null):b.isValidElement(f)?f.props.children:null:m);return l.jsx(t,{...c,ref:o,children:b.isValidElement(f)?b.cloneElement(f,void 0,h):null})}return l.jsx(t,{...c,ref:o,children:a})});return n.displayName=`${e}.Slot`,n}var ub=cb("Slot");function $L(e){const t=b.forwardRef((n,r)=>{let{children:o,...a}=n;if(lb(o)&&typeof Sd=="function"&&(o=Sd(o._payload)),b.isValidElement(o)){const c=WL(o),u=HL(a,o.props);return o.type!==b.Fragment&&(u.ref=r?Eo(r,c):c),b.cloneElement(o,u)}return b.Children.count(o)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var BL=Symbol("radix.slottable");function VL(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===BL}function HL(e,t){const n={...t};for(const r in t){const o=e[r],a=t[r];/^on[A-Z]/.test(r)?o&&a?n[r]=(...u)=>{const p=a(...u);return o(...u),p}:o&&(n[r]=o):r==="style"?n[r]={...o,...a}:r==="className"&&(n[r]=[o,a].filter(Boolean).join(" "))}return{...e,...n}}function WL(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const s2=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,i2=i3,db=(e,t)=>n=>{var r;if(t?.variants==null)return i2(e,n?.class,n?.className);const{variants:o,defaultVariants:a}=t,c=Object.keys(o).map(f=>{const h=n?.[f],m=a?.[f];if(h===null)return null;const x=s2(h)||s2(m);return o[f][x]}),u=n&&Object.entries(n).reduce((f,h)=>{let[m,x]=h;return x===void 0||(f[m]=x),f},{}),p=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((f,h)=>{let{class:m,className:x,...y}=h;return Object.entries(y).every(w=>{let[v,C]=w;return Array.isArray(C)?C.includes({...a,...u}[v]):{...a,...u}[v]===C})?[...f,m,x]:f},[]);return i2(e,c,p,n?.class,n?.className)},UL=db("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Tn({className:e,variant:t,size:n,asChild:r=!1,...o}){const a=r?ub:"button";return l.jsx(a,{"data-slot":"button",className:Te(UL({variant:t,size:n,className:e})),...o})}var GL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],YL=GL.reduce((e,t)=>{const n=cb(`Primitive.${t}`),r=b.forwardRef((o,a)=>{const{asChild:c,...u}=o,p=c?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(p,{...u,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),KL="Label",fb=b.forwardRef((e,t)=>l.jsx(YL.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));fb.displayName=KL;var ZL=fb;function Vs({className:e,...t}){return l.jsx(ZL,{"data-slot":"label",className:Te("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function a2(e,[t,n]){return Math.min(n,Math.max(t,e))}function l2(e){const t=XL(e),n=b.forwardRef((r,o)=>{const{children:a,...c}=r,u=b.Children.toArray(a),p=u.find(QL);if(p){const f=p.props.children,h=u.map(m=>m===p?b.Children.count(f)>1?b.Children.only(null):b.isValidElement(f)?f.props.children:null:m);return l.jsx(t,{...c,ref:o,children:b.isValidElement(f)?b.cloneElement(f,void 0,h):null})}return l.jsx(t,{...c,ref:o,children:a})});return n.displayName=`${e}.Slot`,n}function XL(e){const t=b.forwardRef((n,r)=>{const{children:o,...a}=n;if(b.isValidElement(o)){const c=eT(o),u=JL(a,o.props);return o.type!==b.Fragment&&(u.ref=r?Eo(r,c):c),b.cloneElement(o,u)}return b.Children.count(o)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var qL=Symbol("radix.slottable");function QL(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===qL}function JL(e,t){const n={...t};for(const r in t){const o=e[r],a=t[r];/^on[A-Z]/.test(r)?o&&a?n[r]=(...u)=>{const p=a(...u);return o(...u),p}:o&&(n[r]=o):r==="style"?n[r]={...o,...a}:r==="className"&&(n[r]=[o,a].filter(Boolean).join(" "))}return{...e,...n}}function eT(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Qg(e){const t=e+"CollectionProvider",[n,r]=Po(t),[o,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),c=v=>{const{scope:C,children:k}=v,E=ge.useRef(null),N=ge.useRef(new Map).current;return l.jsx(o,{scope:C,itemMap:N,collectionRef:E,children:k})};c.displayName=t;const u=e+"CollectionSlot",p=l2(u),f=ge.forwardRef((v,C)=>{const{scope:k,children:E}=v,N=a(u,k),j=Xe(C,N.collectionRef);return l.jsx(p,{ref:j,children:E})});f.displayName=u;const h=e+"CollectionItemSlot",m="data-radix-collection-item",x=l2(h),y=ge.forwardRef((v,C)=>{const{scope:k,children:E,...N}=v,j=ge.useRef(null),P=Xe(C,j),L=a(h,k);return ge.useEffect(()=>(L.itemMap.set(j,{ref:j,...N}),()=>void L.itemMap.delete(j))),l.jsx(x,{[m]:"",ref:P,children:E})});y.displayName=h;function w(v){const C=a(e+"CollectionConsumer",v);return ge.useCallback(()=>{const E=C.collectionRef.current;if(!E)return[];const N=Array.from(E.querySelectorAll(`[${m}]`));return Array.from(C.itemMap.values()).sort((L,T)=>N.indexOf(L.ref.current)-N.indexOf(T.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:c,Slot:f,ItemSlot:y},w,r]}var tT=b.createContext(void 0);function df(e){const t=b.useContext(tT);return e||t||"ltr"}const nT=["top","right","bottom","left"],ds=Math.min,An=Math.max,jd=Math.round,Ku=Math.floor,Yr=e=>({x:e,y:e}),rT={left:"right",right:"left",bottom:"top",top:"bottom"},oT={start:"end",end:"start"};function Bm(e,t,n){return An(e,ds(t,n))}function Co(e,t){return typeof e=="function"?e(t):e}function ko(e){return e.split("-")[0]}function Ea(e){return e.split("-")[1]}function Jg(e){return e==="x"?"y":"x"}function e1(e){return e==="y"?"height":"width"}const sT=new Set(["top","bottom"]);function Hr(e){return sT.has(ko(e))?"y":"x"}function t1(e){return Jg(Hr(e))}function iT(e,t,n){n===void 0&&(n=!1);const r=Ea(e),o=t1(e),a=e1(o);let c=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(c=Ed(c)),[c,Ed(c)]}function aT(e){const t=Ed(e);return[Vm(e),t,Vm(t)]}function Vm(e){return e.replace(/start|end/g,t=>oT[t])}const c2=["left","right"],u2=["right","left"],lT=["top","bottom"],cT=["bottom","top"];function uT(e,t,n){switch(e){case"top":case"bottom":return n?t?u2:c2:t?c2:u2;case"left":case"right":return t?lT:cT;default:return[]}}function dT(e,t,n,r){const o=Ea(e);let a=uT(ko(e),n==="start",r);return o&&(a=a.map(c=>c+"-"+o),t&&(a=a.concat(a.map(Vm)))),a}function Ed(e){return e.replace(/left|right|bottom|top/g,t=>rT[t])}function fT(e){return{top:0,right:0,bottom:0,left:0,...e}}function pb(e){return typeof e!="number"?fT(e):{top:e,right:e,bottom:e,left:e}}function Pd(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function d2(e,t,n){let{reference:r,floating:o}=e;const a=Hr(t),c=t1(t),u=e1(c),p=ko(t),f=a==="y",h=r.x+r.width/2-o.width/2,m=r.y+r.height/2-o.height/2,x=r[u]/2-o[u]/2;let y;switch(p){case"top":y={x:h,y:r.y-o.height};break;case"bottom":y={x:h,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:m};break;case"left":y={x:r.x-o.width,y:m};break;default:y={x:r.x,y:r.y}}switch(Ea(t)){case"start":y[c]-=x*(n&&f?-1:1);break;case"end":y[c]+=x*(n&&f?-1:1);break}return y}async function pT(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:a,rects:c,elements:u,strategy:p}=e,{boundary:f="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:x=!1,padding:y=0}=Co(t,e),w=pb(y),C=u[x?m==="floating"?"reference":"floating":m],k=Pd(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(C)))==null||n?C:C.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:f,rootBoundary:h,strategy:p})),E=m==="floating"?{x:r,y:o,width:c.floating.width,height:c.floating.height}:c.reference,N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),j=await(a.isElement==null?void 0:a.isElement(N))?await(a.getScale==null?void 0:a.getScale(N))||{x:1,y:1}:{x:1,y:1},P=Pd(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:E,offsetParent:N,strategy:p}):E);return{top:(k.top-P.top+w.top)/j.y,bottom:(P.bottom-k.bottom+w.bottom)/j.y,left:(k.left-P.left+w.left)/j.x,right:(P.right-k.right+w.right)/j.x}}const hT=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:c}=n,u=a.filter(Boolean),p=await(c.isRTL==null?void 0:c.isRTL(t));let f=await c.getElementRects({reference:e,floating:t,strategy:o}),{x:h,y:m}=d2(f,r,p),x=r,y={},w=0;for(let C=0;C<u.length;C++){var v;const{name:k,fn:E}=u[C],{x:N,y:j,data:P,reset:L}=await E({x:h,y:m,initialPlacement:r,placement:x,strategy:o,middlewareData:y,rects:f,platform:{...c,detectOverflow:(v=c.detectOverflow)!=null?v:pT},elements:{reference:e,floating:t}});h=N??h,m=j??m,y={...y,[k]:{...y[k],...P}},L&&w<=50&&(w++,typeof L=="object"&&(L.placement&&(x=L.placement),L.rects&&(f=L.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:o}):L.rects),{x:h,y:m}=d2(f,x,p)),C=-1)}return{x:h,y:m,placement:x,strategy:o,middlewareData:y}},mT=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:a,platform:c,elements:u,middlewareData:p}=t,{element:f,padding:h=0}=Co(e,t)||{};if(f==null)return{};const m=pb(h),x={x:n,y:r},y=t1(o),w=e1(y),v=await c.getDimensions(f),C=y==="y",k=C?"top":"left",E=C?"bottom":"right",N=C?"clientHeight":"clientWidth",j=a.reference[w]+a.reference[y]-x[y]-a.floating[w],P=x[y]-a.reference[y],L=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f));let T=L?L[N]:0;(!T||!await(c.isElement==null?void 0:c.isElement(L)))&&(T=u.floating[N]||a.floating[w]);const D=j/2-P/2,$=T/2-v[w]/2-1,Y=ds(m[k],$),G=ds(m[E],$),V=Y,W=T-v[w]-G,z=T/2-v[w]/2+D,M=Bm(V,z,W),F=!p.arrow&&Ea(o)!=null&&z!==M&&a.reference[w]/2-(z<V?Y:G)-v[w]/2<0,H=F?z<V?z-V:z-W:0;return{[y]:x[y]+H,data:{[y]:M,centerOffset:z-M-H,...F&&{alignmentOffset:H}},reset:F}}}),gT=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:a,rects:c,initialPlacement:u,platform:p,elements:f}=t,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:x,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,...C}=Co(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const k=ko(o),E=Hr(u),N=ko(u)===u,j=await(p.isRTL==null?void 0:p.isRTL(f.floating)),P=x||(N||!v?[Ed(u)]:aT(u)),L=w!=="none";!x&&L&&P.push(...dT(u,v,w,j));const T=[u,...P],D=await p.detectOverflow(t,C),$=[];let Y=((r=a.flip)==null?void 0:r.overflows)||[];if(h&&$.push(D[k]),m){const z=iT(o,c,j);$.push(D[z[0]],D[z[1]])}if(Y=[...Y,{placement:o,overflows:$}],!$.every(z=>z<=0)){var G,V;const z=(((G=a.flip)==null?void 0:G.index)||0)+1,M=T[z];if(M&&(!(m==="alignment"?E!==Hr(M):!1)||Y.every(R=>Hr(R.placement)===E?R.overflows[0]>0:!0)))return{data:{index:z,overflows:Y},reset:{placement:M}};let F=(V=Y.filter(H=>H.overflows[0]<=0).sort((H,R)=>H.overflows[1]-R.overflows[1])[0])==null?void 0:V.placement;if(!F)switch(y){case"bestFit":{var W;const H=(W=Y.filter(R=>{if(L){const I=Hr(R.placement);return I===E||I==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(I=>I>0).reduce((I,U)=>I+U,0)]).sort((R,I)=>R[1]-I[1])[0])==null?void 0:W[0];H&&(F=H);break}case"initialPlacement":F=u;break}if(o!==F)return{reset:{placement:F}}}return{}}}};function f2(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function p2(e){return nT.some(t=>e[t]>=0)}const xT=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n,platform:r}=t,{strategy:o="referenceHidden",...a}=Co(e,t);switch(o){case"referenceHidden":{const c=await r.detectOverflow(t,{...a,elementContext:"reference"}),u=f2(c,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:p2(u)}}}case"escaped":{const c=await r.detectOverflow(t,{...a,altBoundary:!0}),u=f2(c,n.floating);return{data:{escapedOffsets:u,escaped:p2(u)}}}default:return{}}}}},hb=new Set(["left","top"]);async function vT(e,t){const{placement:n,platform:r,elements:o}=e,a=await(r.isRTL==null?void 0:r.isRTL(o.floating)),c=ko(n),u=Ea(n),p=Hr(n)==="y",f=hb.has(c)?-1:1,h=a&&p?-1:1,m=Co(t,e);let{mainAxis:x,crossAxis:y,alignmentAxis:w}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return u&&typeof w=="number"&&(y=u==="end"?w*-1:w),p?{x:y*h,y:x*f}:{x:x*f,y:y*h}}const yT=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:a,placement:c,middlewareData:u}=t,p=await vT(t,e);return c===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:o+p.x,y:a+p.y,data:{...p,placement:c}}}}},wT=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o,platform:a}=t,{mainAxis:c=!0,crossAxis:u=!1,limiter:p={fn:k=>{let{x:E,y:N}=k;return{x:E,y:N}}},...f}=Co(e,t),h={x:n,y:r},m=await a.detectOverflow(t,f),x=Hr(ko(o)),y=Jg(x);let w=h[y],v=h[x];if(c){const k=y==="y"?"top":"left",E=y==="y"?"bottom":"right",N=w+m[k],j=w-m[E];w=Bm(N,w,j)}if(u){const k=x==="y"?"top":"left",E=x==="y"?"bottom":"right",N=v+m[k],j=v-m[E];v=Bm(N,v,j)}const C=p.fn({...t,[y]:w,[x]:v});return{...C,data:{x:C.x-n,y:C.y-r,enabled:{[y]:c,[x]:u}}}}}},_T=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:a,middlewareData:c}=t,{offset:u=0,mainAxis:p=!0,crossAxis:f=!0}=Co(e,t),h={x:n,y:r},m=Hr(o),x=Jg(m);let y=h[x],w=h[m];const v=Co(u,t),C=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(p){const N=x==="y"?"height":"width",j=a.reference[x]-a.floating[N]+C.mainAxis,P=a.reference[x]+a.reference[N]-C.mainAxis;y<j?y=j:y>P&&(y=P)}if(f){var k,E;const N=x==="y"?"width":"height",j=hb.has(ko(o)),P=a.reference[m]-a.floating[N]+(j&&((k=c.offset)==null?void 0:k[m])||0)+(j?0:C.crossAxis),L=a.reference[m]+a.reference[N]+(j?0:((E=c.offset)==null?void 0:E[m])||0)-(j?C.crossAxis:0);w<P?w=P:w>L&&(w=L)}return{[x]:y,[m]:w}}}},bT=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:a,platform:c,elements:u}=t,{apply:p=()=>{},...f}=Co(e,t),h=await c.detectOverflow(t,f),m=ko(o),x=Ea(o),y=Hr(o)==="y",{width:w,height:v}=a.floating;let C,k;m==="top"||m==="bottom"?(C=m,k=x===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(k=m,C=x==="end"?"top":"bottom");const E=v-h.top-h.bottom,N=w-h.left-h.right,j=ds(v-h[C],E),P=ds(w-h[k],N),L=!t.middlewareData.shift;let T=j,D=P;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(D=N),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(T=E),L&&!x){const Y=An(h.left,0),G=An(h.right,0),V=An(h.top,0),W=An(h.bottom,0);y?D=w-2*(Y!==0||G!==0?Y+G:An(h.left,h.right)):T=v-2*(V!==0||W!==0?V+W:An(h.top,h.bottom))}await p({...t,availableWidth:D,availableHeight:T});const $=await c.getDimensions(u.floating);return w!==$.width||v!==$.height?{reset:{rects:!0}}:{}}}};function ff(){return typeof window<"u"}function Pa(e){return mb(e)?(e.nodeName||"").toLowerCase():"#document"}function $n(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Jr(e){var t;return(t=(mb(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function mb(e){return ff()?e instanceof Node||e instanceof $n(e).Node:!1}function wr(e){return ff()?e instanceof Element||e instanceof $n(e).Element:!1}function Zr(e){return ff()?e instanceof HTMLElement||e instanceof $n(e).HTMLElement:!1}function h2(e){return!ff()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof $n(e).ShadowRoot}const CT=new Set(["inline","contents"]);function fc(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=_r(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!CT.has(o)}const kT=new Set(["table","td","th"]);function NT(e){return kT.has(Pa(e))}const ST=[":popover-open",":modal"];function pf(e){return ST.some(t=>{try{return e.matches(t)}catch{return!1}})}const jT=["transform","translate","scale","rotate","perspective"],ET=["transform","translate","scale","rotate","perspective","filter"],PT=["paint","layout","strict","content"];function n1(e){const t=r1(),n=wr(e)?_r(e):e;return jT.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||ET.some(r=>(n.willChange||"").includes(r))||PT.some(r=>(n.contain||"").includes(r))}function IT(e){let t=fs(e);for(;Zr(t)&&!ga(t);){if(n1(t))return t;if(pf(t))return null;t=fs(t)}return null}function r1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const MT=new Set(["html","body","#document"]);function ga(e){return MT.has(Pa(e))}function _r(e){return $n(e).getComputedStyle(e)}function hf(e){return wr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function fs(e){if(Pa(e)==="html")return e;const t=e.assignedSlot||e.parentNode||h2(e)&&e.host||Jr(e);return h2(t)?t.host:t}function gb(e){const t=fs(e);return ga(t)?e.ownerDocument?e.ownerDocument.body:e.body:Zr(t)&&fc(t)?t:gb(t)}function Yl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=gb(e),a=o===((r=e.ownerDocument)==null?void 0:r.body),c=$n(o);if(a){const u=Hm(c);return t.concat(c,c.visualViewport||[],fc(o)?o:[],u&&n?Yl(u):[])}return t.concat(o,Yl(o,[],n))}function Hm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function xb(e){const t=_r(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Zr(e),a=o?e.offsetWidth:n,c=o?e.offsetHeight:r,u=jd(n)!==a||jd(r)!==c;return u&&(n=a,r=c),{width:n,height:r,$:u}}function o1(e){return wr(e)?e:e.contextElement}function ra(e){const t=o1(e);if(!Zr(t))return Yr(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:a}=xb(t);let c=(a?jd(n.width):n.width)/r,u=(a?jd(n.height):n.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const LT=Yr(0);function vb(e){const t=$n(e);return!r1()||!t.visualViewport?LT:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function TT(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==$n(e)?!1:t}function si(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),a=o1(e);let c=Yr(1);t&&(r?wr(r)&&(c=ra(r)):c=ra(e));const u=TT(a,n,r)?vb(a):Yr(0);let p=(o.left+u.x)/c.x,f=(o.top+u.y)/c.y,h=o.width/c.x,m=o.height/c.y;if(a){const x=$n(a),y=r&&wr(r)?$n(r):r;let w=x,v=Hm(w);for(;v&&r&&y!==w;){const C=ra(v),k=v.getBoundingClientRect(),E=_r(v),N=k.left+(v.clientLeft+parseFloat(E.paddingLeft))*C.x,j=k.top+(v.clientTop+parseFloat(E.paddingTop))*C.y;p*=C.x,f*=C.y,h*=C.x,m*=C.y,p+=N,f+=j,w=$n(v),v=Hm(w)}}return Pd({width:h,height:m,x:p,y:f})}function mf(e,t){const n=hf(e).scrollLeft;return t?t.left+n:si(Jr(e)).left+n}function yb(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-mf(e,n),o=n.top+t.scrollTop;return{x:r,y:o}}function RT(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const a=o==="fixed",c=Jr(r),u=t?pf(t.floating):!1;if(r===c||u&&a)return n;let p={scrollLeft:0,scrollTop:0},f=Yr(1);const h=Yr(0),m=Zr(r);if((m||!m&&!a)&&((Pa(r)!=="body"||fc(c))&&(p=hf(r)),Zr(r))){const y=si(r);f=ra(r),h.x=y.x+r.clientLeft,h.y=y.y+r.clientTop}const x=c&&!m&&!a?yb(c,p):Yr(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-p.scrollLeft*f.x+h.x+x.x,y:n.y*f.y-p.scrollTop*f.y+h.y+x.y}}function AT(e){return Array.from(e.getClientRects())}function zT(e){const t=Jr(e),n=hf(e),r=e.ownerDocument.body,o=An(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=An(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+mf(e);const u=-n.scrollTop;return _r(r).direction==="rtl"&&(c+=An(t.clientWidth,r.clientWidth)-o),{width:o,height:a,x:c,y:u}}const m2=25;function DT(e,t){const n=$n(e),r=Jr(e),o=n.visualViewport;let a=r.clientWidth,c=r.clientHeight,u=0,p=0;if(o){a=o.width,c=o.height;const h=r1();(!h||h&&t==="fixed")&&(u=o.offsetLeft,p=o.offsetTop)}const f=mf(r);if(f<=0){const h=r.ownerDocument,m=h.body,x=getComputedStyle(m),y=h.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,w=Math.abs(r.clientWidth-m.clientWidth-y);w<=m2&&(a-=w)}else f<=m2&&(a+=f);return{width:a,height:c,x:u,y:p}}const OT=new Set(["absolute","fixed"]);function FT(e,t){const n=si(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,a=Zr(e)?ra(e):Yr(1),c=e.clientWidth*a.x,u=e.clientHeight*a.y,p=o*a.x,f=r*a.y;return{width:c,height:u,x:p,y:f}}function g2(e,t,n){let r;if(t==="viewport")r=DT(e,n);else if(t==="document")r=zT(Jr(e));else if(wr(t))r=FT(t,n);else{const o=vb(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Pd(r)}function wb(e,t){const n=fs(e);return n===t||!wr(n)||ga(n)?!1:_r(n).position==="fixed"||wb(n,t)}function $T(e,t){const n=t.get(e);if(n)return n;let r=Yl(e,[],!1).filter(u=>wr(u)&&Pa(u)!=="body"),o=null;const a=_r(e).position==="fixed";let c=a?fs(e):e;for(;wr(c)&&!ga(c);){const u=_r(c),p=n1(c);!p&&u.position==="fixed"&&(o=null),(a?!p&&!o:!p&&u.position==="static"&&!!o&&OT.has(o.position)||fc(c)&&!p&&wb(e,c))?r=r.filter(h=>h!==c):o=u,c=fs(c)}return t.set(e,r),r}function BT(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const c=[...n==="clippingAncestors"?pf(t)?[]:$T(t,this._c):[].concat(n),r],u=c[0],p=c.reduce((f,h)=>{const m=g2(t,h,o);return f.top=An(m.top,f.top),f.right=ds(m.right,f.right),f.bottom=ds(m.bottom,f.bottom),f.left=An(m.left,f.left),f},g2(t,u,o));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function VT(e){const{width:t,height:n}=xb(e);return{width:t,height:n}}function HT(e,t,n){const r=Zr(t),o=Jr(t),a=n==="fixed",c=si(e,!0,a,t);let u={scrollLeft:0,scrollTop:0};const p=Yr(0);function f(){p.x=mf(o)}if(r||!r&&!a)if((Pa(t)!=="body"||fc(o))&&(u=hf(t)),r){const y=si(t,!0,a,t);p.x=y.x+t.clientLeft,p.y=y.y+t.clientTop}else o&&f();a&&!r&&o&&f();const h=o&&!r&&!a?yb(o,u):Yr(0),m=c.left+u.scrollLeft-p.x-h.x,x=c.top+u.scrollTop-p.y-h.y;return{x:m,y:x,width:c.width,height:c.height}}function Zh(e){return _r(e).position==="static"}function x2(e,t){if(!Zr(e)||_r(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Jr(e)===n&&(n=n.ownerDocument.body),n}function _b(e,t){const n=$n(e);if(pf(e))return n;if(!Zr(e)){let o=fs(e);for(;o&&!ga(o);){if(wr(o)&&!Zh(o))return o;o=fs(o)}return n}let r=x2(e,t);for(;r&&NT(r)&&Zh(r);)r=x2(r,t);return r&&ga(r)&&Zh(r)&&!n1(r)?n:r||IT(e)||n}const WT=async function(e){const t=this.getOffsetParent||_b,n=this.getDimensions,r=await n(e.floating);return{reference:HT(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function UT(e){return _r(e).direction==="rtl"}const GT={convertOffsetParentRelativeRectToViewportRelativeRect:RT,getDocumentElement:Jr,getClippingRect:BT,getOffsetParent:_b,getElementRects:WT,getClientRects:AT,getDimensions:VT,getScale:ra,isElement:wr,isRTL:UT};function bb(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function YT(e,t){let n=null,r;const o=Jr(e);function a(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function c(u,p){u===void 0&&(u=!1),p===void 0&&(p=1),a();const f=e.getBoundingClientRect(),{left:h,top:m,width:x,height:y}=f;if(u||t(),!x||!y)return;const w=Ku(m),v=Ku(o.clientWidth-(h+x)),C=Ku(o.clientHeight-(m+y)),k=Ku(h),N={rootMargin:-w+"px "+-v+"px "+-C+"px "+-k+"px",threshold:An(0,ds(1,p))||1};let j=!0;function P(L){const T=L[0].intersectionRatio;if(T!==p){if(!j)return c();T?c(!1,T):r=setTimeout(()=>{c(!1,1e-7)},1e3)}T===1&&!bb(f,e.getBoundingClientRect())&&c(),j=!1}try{n=new IntersectionObserver(P,{...N,root:o.ownerDocument})}catch{n=new IntersectionObserver(P,N)}n.observe(e)}return c(!0),a}function KT(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:p=!1}=r,f=o1(e),h=o||a?[...f?Yl(f):[],...Yl(t)]:[];h.forEach(k=>{o&&k.addEventListener("scroll",n,{passive:!0}),a&&k.addEventListener("resize",n)});const m=f&&u?YT(f,n):null;let x=-1,y=null;c&&(y=new ResizeObserver(k=>{let[E]=k;E&&E.target===f&&y&&(y.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var N;(N=y)==null||N.observe(t)})),n()}),f&&!p&&y.observe(f),y.observe(t));let w,v=p?si(e):null;p&&C();function C(){const k=si(e);v&&!bb(v,k)&&n(),v=k,w=requestAnimationFrame(C)}return n(),()=>{var k;h.forEach(E=>{o&&E.removeEventListener("scroll",n),a&&E.removeEventListener("resize",n)}),m?.(),(k=y)==null||k.disconnect(),y=null,p&&cancelAnimationFrame(w)}}const ZT=yT,XT=wT,qT=gT,QT=bT,JT=xT,v2=mT,eR=_T,tR=(e,t,n)=>{const r=new Map,o={platform:GT,...n},a={...o.platform,_c:r};return hT(e,t,{...o,platform:a})};var nR=typeof document<"u",rR=function(){},ld=nR?b.useLayoutEffect:rR;function Id(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Id(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const a=o[r];if(!(a==="_owner"&&e.$$typeof)&&!Id(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Cb(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function y2(e,t){const n=Cb(e);return Math.round(t*n)/n}function Xh(e){const t=b.useRef(e);return ld(()=>{t.current=e}),t}function oR(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:a,floating:c}={},transform:u=!0,whileElementsMounted:p,open:f}=e,[h,m]=b.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[x,y]=b.useState(r);Id(x,r)||y(r);const[w,v]=b.useState(null),[C,k]=b.useState(null),E=b.useCallback(R=>{R!==L.current&&(L.current=R,v(R))},[]),N=b.useCallback(R=>{R!==T.current&&(T.current=R,k(R))},[]),j=a||w,P=c||C,L=b.useRef(null),T=b.useRef(null),D=b.useRef(h),$=p!=null,Y=Xh(p),G=Xh(o),V=Xh(f),W=b.useCallback(()=>{if(!L.current||!T.current)return;const R={placement:t,strategy:n,middleware:x};G.current&&(R.platform=G.current),tR(L.current,T.current,R).then(I=>{const U={...I,isPositioned:V.current!==!1};z.current&&!Id(D.current,U)&&(D.current=U,wo.flushSync(()=>{m(U)}))})},[x,t,n,G,V]);ld(()=>{f===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,m(R=>({...R,isPositioned:!1})))},[f]);const z=b.useRef(!1);ld(()=>(z.current=!0,()=>{z.current=!1}),[]),ld(()=>{if(j&&(L.current=j),P&&(T.current=P),j&&P){if(Y.current)return Y.current(j,P,W);W()}},[j,P,W,Y,$]);const M=b.useMemo(()=>({reference:L,floating:T,setReference:E,setFloating:N}),[E,N]),F=b.useMemo(()=>({reference:j,floating:P}),[j,P]),H=b.useMemo(()=>{const R={position:n,left:0,top:0};if(!F.floating)return R;const I=y2(F.floating,h.x),U=y2(F.floating,h.y);return u?{...R,transform:"translate("+I+"px, "+U+"px)",...Cb(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:I,top:U}},[n,u,F.floating,h.x,h.y]);return b.useMemo(()=>({...h,update:W,refs:M,elements:F,floatingStyles:H}),[h,W,M,F,H])}const sR=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?v2({element:r.current,padding:o}).fn(n):{}:r?v2({element:r,padding:o}).fn(n):{}}}},iR=(e,t)=>({...ZT(e),options:[e,t]}),aR=(e,t)=>({...XT(e),options:[e,t]}),lR=(e,t)=>({...eR(e),options:[e,t]}),cR=(e,t)=>({...qT(e),options:[e,t]}),uR=(e,t)=>({...QT(e),options:[e,t]}),dR=(e,t)=>({...JT(e),options:[e,t]}),fR=(e,t)=>({...sR(e),options:[e,t]});var pR="Arrow",kb=b.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...a}=e;return l.jsx(Be.svg,{...a,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});kb.displayName=pR;var hR=kb;function Nb(e){const[t,n]=b.useState(void 0);return nn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let c,u;if("borderBoxSize"in a){const p=a.borderBoxSize,f=Array.isArray(p)?p[0]:p;c=f.inlineSize,u=f.blockSize}else c=e.offsetWidth,u=e.offsetHeight;n({width:c,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var s1="Popper",[Sb,gf]=Po(s1),[mR,jb]=Sb(s1),Eb=e=>{const{__scopePopper:t,children:n}=e,[r,o]=b.useState(null);return l.jsx(mR,{scope:t,anchor:r,onAnchorChange:o,children:n})};Eb.displayName=s1;var Pb="PopperAnchor",Ib=b.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,a=jb(Pb,n),c=b.useRef(null),u=Xe(t,c),p=b.useRef(null);return b.useEffect(()=>{const f=p.current;p.current=r?.current||c.current,f!==p.current&&a.onAnchorChange(p.current)}),r?null:l.jsx(Be.div,{...o,ref:u})});Ib.displayName=Pb;var i1="PopperContent",[gR,xR]=Sb(i1),Mb=b.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:a="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:p=!0,collisionBoundary:f=[],collisionPadding:h=0,sticky:m="partial",hideWhenDetached:x=!1,updatePositionStrategy:y="optimized",onPlaced:w,...v}=e,C=jb(i1,n),[k,E]=b.useState(null),N=Xe(t,ee=>E(ee)),[j,P]=b.useState(null),L=Nb(j),T=L?.width??0,D=L?.height??0,$=r+(a!=="center"?"-"+a:""),Y=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},G=Array.isArray(f)?f:[f],V=G.length>0,W={padding:Y,boundary:G.filter(yR),altBoundary:V},{refs:z,floatingStyles:M,placement:F,isPositioned:H,middlewareData:R}=oR({strategy:"fixed",placement:$,whileElementsMounted:(...ee)=>KT(...ee,{animationFrame:y==="always"}),elements:{reference:C.anchor},middleware:[iR({mainAxis:o+D,alignmentAxis:c}),p&&aR({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?lR():void 0,...W}),p&&cR({...W}),uR({...W,apply:({elements:ee,rects:J,availableWidth:le,availableHeight:de})=>{const{width:me,height:te}=J.reference,ae=ee.floating.style;ae.setProperty("--radix-popper-available-width",`${le}px`),ae.setProperty("--radix-popper-available-height",`${de}px`),ae.setProperty("--radix-popper-anchor-width",`${me}px`),ae.setProperty("--radix-popper-anchor-height",`${te}px`)}}),j&&fR({element:j,padding:u}),wR({arrowWidth:T,arrowHeight:D}),x&&dR({strategy:"referenceHidden",...W})]}),[I,U]=Rb(F),O=Kr(w);nn(()=>{H&&O?.()},[H,O]);const B=R.arrow?.x,q=R.arrow?.y,X=R.arrow?.centerOffset!==0,[ne,ie]=b.useState();return nn(()=>{k&&ie(window.getComputedStyle(k).zIndex)},[k]),l.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:H?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ne,"--radix-popper-transform-origin":[R.transformOrigin?.x,R.transformOrigin?.y].join(" "),...R.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(gR,{scope:n,placedSide:I,onArrowChange:P,arrowX:B,arrowY:q,shouldHideArrow:X,children:l.jsx(Be.div,{"data-side":I,"data-align":U,...v,ref:N,style:{...v.style,animation:H?void 0:"none"}})})})});Mb.displayName=i1;var Lb="PopperArrow",vR={top:"bottom",right:"left",bottom:"top",left:"right"},Tb=b.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,a=xR(Lb,r),c=vR[a.placedSide];return l.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:l.jsx(hR,{...o,ref:n,style:{...o.style,display:"block"}})})});Tb.displayName=Lb;function yR(e){return e!==null}var wR=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:o}=t,c=o.arrow?.centerOffset!==0,u=c?0:e.arrowWidth,p=c?0:e.arrowHeight,[f,h]=Rb(n),m={start:"0%",center:"50%",end:"100%"}[h],x=(o.arrow?.x??0)+u/2,y=(o.arrow?.y??0)+p/2;let w="",v="";return f==="bottom"?(w=c?m:`${x}px`,v=`${-p}px`):f==="top"?(w=c?m:`${x}px`,v=`${r.floating.height+p}px`):f==="right"?(w=`${-p}px`,v=c?m:`${y}px`):f==="left"&&(w=`${r.floating.width+p}px`,v=c?m:`${y}px`),{data:{x:w,y:v}}}});function Rb(e){const[t,n="center"]=e.split("-");return[t,n]}var Ab=Eb,zb=Ib,Db=Mb,Ob=Tb;function _R(e){const t=bR(e),n=b.forwardRef((r,o)=>{const{children:a,...c}=r,u=b.Children.toArray(a),p=u.find(kR);if(p){const f=p.props.children,h=u.map(m=>m===p?b.Children.count(f)>1?b.Children.only(null):b.isValidElement(f)?f.props.children:null:m);return l.jsx(t,{...c,ref:o,children:b.isValidElement(f)?b.cloneElement(f,void 0,h):null})}return l.jsx(t,{...c,ref:o,children:a})});return n.displayName=`${e}.Slot`,n}function bR(e){const t=b.forwardRef((n,r)=>{const{children:o,...a}=n;if(b.isValidElement(o)){const c=SR(o),u=NR(a,o.props);return o.type!==b.Fragment&&(u.ref=r?Eo(r,c):c),b.cloneElement(o,u)}return b.Children.count(o)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var CR=Symbol("radix.slottable");function kR(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===CR}function NR(e,t){const n={...t};for(const r in t){const o=e[r],a=t[r];/^on[A-Z]/.test(r)?o&&a?n[r]=(...u)=>{const p=a(...u);return o(...u),p}:o&&(n[r]=o):r==="style"?n[r]={...o,...a}:r==="className"&&(n[r]=[o,a].filter(Boolean).join(" "))}return{...e,...n}}function SR(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Fb(e){const t=b.useRef({value:e,previous:e});return b.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var $b=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),jR="VisuallyHidden",ER=b.forwardRef((e,t)=>l.jsx(Be.span,{...e,ref:t,style:{...$b,...e.style}}));ER.displayName=jR;var PR=[" ","Enter","ArrowUp","ArrowDown"],IR=[" ","Enter"],ii="Select",[xf,vf,MR]=Qg(ii),[Ia]=Po(ii,[MR,gf]),yf=gf(),[LR,gs]=Ia(ii),[TR,RR]=Ia(ii),Bb=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:a,value:c,defaultValue:u,onValueChange:p,dir:f,name:h,autoComplete:m,disabled:x,required:y,form:w}=e,v=yf(t),[C,k]=b.useState(null),[E,N]=b.useState(null),[j,P]=b.useState(!1),L=df(f),[T,D]=ri({prop:r,defaultProp:o??!1,onChange:a,caller:ii}),[$,Y]=ri({prop:c,defaultProp:u,onChange:p,caller:ii}),G=b.useRef(null),V=C?w||!!C.closest("form"):!0,[W,z]=b.useState(new Set),M=Array.from(W).map(F=>F.props.value).join(";");return l.jsx(Ab,{...v,children:l.jsxs(LR,{required:y,scope:t,trigger:C,onTriggerChange:k,valueNode:E,onValueNodeChange:N,valueNodeHasChildren:j,onValueNodeHasChildrenChange:P,contentId:Gr(),value:$,onValueChange:Y,open:T,onOpenChange:D,dir:L,triggerPointerDownPosRef:G,disabled:x,children:[l.jsx(xf.Provider,{scope:t,children:l.jsx(TR,{scope:e.__scopeSelect,onNativeOptionAdd:b.useCallback(F=>{z(H=>new Set(H).add(F))},[]),onNativeOptionRemove:b.useCallback(F=>{z(H=>{const R=new Set(H);return R.delete(F),R})},[]),children:n})}),V?l.jsxs(c5,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:m,value:$,onChange:F=>Y(F.target.value),disabled:x,form:w,children:[$===void 0?l.jsx("option",{value:""}):null,Array.from(W)]},M):null]})})};Bb.displayName=ii;var Vb="SelectTrigger",Hb=b.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,a=yf(n),c=gs(Vb,n),u=c.disabled||r,p=Xe(t,c.onTriggerChange),f=vf(n),h=b.useRef("touch"),[m,x,y]=d5(v=>{const C=f().filter(N=>!N.disabled),k=C.find(N=>N.value===c.value),E=f5(C,v,k);E!==void 0&&c.onValueChange(E.value)}),w=v=>{u||(c.onOpenChange(!0),y()),v&&(c.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return l.jsx(zb,{asChild:!0,...a,children:l.jsx(Be.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":u5(c.value)?"":void 0,...o,ref:p,onClick:Me(o.onClick,v=>{v.currentTarget.focus(),h.current!=="mouse"&&w(v)}),onPointerDown:Me(o.onPointerDown,v=>{h.current=v.pointerType;const C=v.target;C.hasPointerCapture(v.pointerId)&&C.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(w(v),v.preventDefault())}),onKeyDown:Me(o.onKeyDown,v=>{const C=m.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&x(v.key),!(C&&v.key===" ")&&PR.includes(v.key)&&(w(),v.preventDefault())})})})});Hb.displayName=Vb;var Wb="SelectValue",Ub=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:a,placeholder:c="",...u}=e,p=gs(Wb,n),{onValueNodeHasChildrenChange:f}=p,h=a!==void 0,m=Xe(t,p.onValueNodeChange);return nn(()=>{f(h)},[f,h]),l.jsx(Be.span,{...u,ref:m,style:{pointerEvents:"none"},children:u5(p.value)?l.jsx(l.Fragment,{children:c}):a})});Ub.displayName=Wb;var AR="SelectIcon",Gb=b.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return l.jsx(Be.span,{"aria-hidden":!0,...o,ref:t,children:r||""})});Gb.displayName=AR;var zR="SelectPortal",Yb=e=>l.jsx(af,{asChild:!0,...e});Yb.displayName=zR;var ai="SelectContent",Kb=b.forwardRef((e,t)=>{const n=gs(ai,e.__scopeSelect),[r,o]=b.useState();if(nn(()=>{o(new DocumentFragment)},[]),!n.open){const a=r;return a?wo.createPortal(l.jsx(Zb,{scope:e.__scopeSelect,children:l.jsx(xf.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),a):null}return l.jsx(Xb,{...e,ref:t})});Kb.displayName=ai;var fr=10,[Zb,xs]=Ia(ai),DR="SelectContentImpl",OR=_R("SelectContent.RemoveScroll"),Xb=b.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:c,side:u,sideOffset:p,align:f,alignOffset:h,arrowPadding:m,collisionBoundary:x,collisionPadding:y,sticky:w,hideWhenDetached:v,avoidCollisions:C,...k}=e,E=gs(ai,n),[N,j]=b.useState(null),[P,L]=b.useState(null),T=Xe(t,ee=>j(ee)),[D,$]=b.useState(null),[Y,G]=b.useState(null),V=vf(n),[W,z]=b.useState(!1),M=b.useRef(!1);b.useEffect(()=>{if(N)return Vg(N)},[N]),Bg();const F=b.useCallback(ee=>{const[J,...le]=V().map(te=>te.ref.current),[de]=le.slice(-1),me=document.activeElement;for(const te of ee)if(te===me||(te?.scrollIntoView({block:"nearest"}),te===J&&P&&(P.scrollTop=0),te===de&&P&&(P.scrollTop=P.scrollHeight),te?.focus(),document.activeElement!==me))return},[V,P]),H=b.useCallback(()=>F([D,N]),[F,D,N]);b.useEffect(()=>{W&&H()},[W,H]);const{onOpenChange:R,triggerPointerDownPosRef:I}=E;b.useEffect(()=>{if(N){let ee={x:0,y:0};const J=de=>{ee={x:Math.abs(Math.round(de.pageX)-(I.current?.x??0)),y:Math.abs(Math.round(de.pageY)-(I.current?.y??0))}},le=de=>{ee.x<=10&&ee.y<=10?de.preventDefault():N.contains(de.target)||R(!1),document.removeEventListener("pointermove",J),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",J),document.addEventListener("pointerup",le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",J),document.removeEventListener("pointerup",le,{capture:!0})}}},[N,R,I]),b.useEffect(()=>{const ee=()=>R(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[R]);const[U,O]=d5(ee=>{const J=V().filter(me=>!me.disabled),le=J.find(me=>me.ref.current===document.activeElement),de=f5(J,ee,le);de&&setTimeout(()=>de.ref.current.focus())}),B=b.useCallback((ee,J,le)=>{const de=!M.current&&!le;(E.value!==void 0&&E.value===J||de)&&($(ee),de&&(M.current=!0))},[E.value]),q=b.useCallback(()=>N?.focus(),[N]),X=b.useCallback((ee,J,le)=>{const de=!M.current&&!le;(E.value!==void 0&&E.value===J||de)&&G(ee)},[E.value]),ne=r==="popper"?Wm:qb,ie=ne===Wm?{side:u,sideOffset:p,align:f,alignOffset:h,arrowPadding:m,collisionBoundary:x,collisionPadding:y,sticky:w,hideWhenDetached:v,avoidCollisions:C}:{};return l.jsx(Zb,{scope:n,content:N,viewport:P,onViewportChange:L,itemRefCallback:B,selectedItem:D,onItemLeave:q,itemTextRefCallback:X,focusSelectedItem:H,selectedItemText:Y,position:r,isPositioned:W,searchRef:U,children:l.jsx(cf,{as:OR,allowPinchZoom:!0,children:l.jsx(sf,{asChild:!0,trapped:E.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:Me(o,ee=>{E.trigger?.focus({preventScroll:!0}),ee.preventDefault()}),children:l.jsx(of,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:l.jsx(ne,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:ee=>ee.preventDefault(),...k,...ie,onPlaced:()=>z(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:Me(k.onKeyDown,ee=>{const J=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!J&&ee.key.length===1&&O(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let de=V().filter(me=>!me.disabled).map(me=>me.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(de=de.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const me=ee.target,te=de.indexOf(me);de=de.slice(te+1)}setTimeout(()=>F(de)),ee.preventDefault()}})})})})})})});Xb.displayName=DR;var FR="SelectItemAlignedPosition",qb=b.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,a=gs(ai,n),c=xs(ai,n),[u,p]=b.useState(null),[f,h]=b.useState(null),m=Xe(t,T=>h(T)),x=vf(n),y=b.useRef(!1),w=b.useRef(!0),{viewport:v,selectedItem:C,selectedItemText:k,focusSelectedItem:E}=c,N=b.useCallback(()=>{if(a.trigger&&a.valueNode&&u&&f&&v&&C&&k){const T=a.trigger.getBoundingClientRect(),D=f.getBoundingClientRect(),$=a.valueNode.getBoundingClientRect(),Y=k.getBoundingClientRect();if(a.dir!=="rtl"){const me=Y.left-D.left,te=$.left-me,ae=T.left-te,fe=T.width+ae,Le=Math.max(fe,D.width),Re=window.innerWidth-fr,ce=a2(te,[fr,Math.max(fr,Re-Le)]);u.style.minWidth=fe+"px",u.style.left=ce+"px"}else{const me=D.right-Y.right,te=window.innerWidth-$.right-me,ae=window.innerWidth-T.right-te,fe=T.width+ae,Le=Math.max(fe,D.width),Re=window.innerWidth-fr,ce=a2(te,[fr,Math.max(fr,Re-Le)]);u.style.minWidth=fe+"px",u.style.right=ce+"px"}const G=x(),V=window.innerHeight-fr*2,W=v.scrollHeight,z=window.getComputedStyle(f),M=parseInt(z.borderTopWidth,10),F=parseInt(z.paddingTop,10),H=parseInt(z.borderBottomWidth,10),R=parseInt(z.paddingBottom,10),I=M+F+W+R+H,U=Math.min(C.offsetHeight*5,I),O=window.getComputedStyle(v),B=parseInt(O.paddingTop,10),q=parseInt(O.paddingBottom,10),X=T.top+T.height/2-fr,ne=V-X,ie=C.offsetHeight/2,ee=C.offsetTop+ie,J=M+F+ee,le=I-J;if(J<=X){const me=G.length>0&&C===G[G.length-1].ref.current;u.style.bottom="0px";const te=f.clientHeight-v.offsetTop-v.offsetHeight,ae=Math.max(ne,ie+(me?q:0)+te+H),fe=J+ae;u.style.height=fe+"px"}else{const me=G.length>0&&C===G[0].ref.current;u.style.top="0px";const ae=Math.max(X,M+v.offsetTop+(me?B:0)+ie)+le;u.style.height=ae+"px",v.scrollTop=J-X+v.offsetTop}u.style.margin=`${fr}px 0`,u.style.minHeight=U+"px",u.style.maxHeight=V+"px",r?.(),requestAnimationFrame(()=>y.current=!0)}},[x,a.trigger,a.valueNode,u,f,v,C,k,a.dir,r]);nn(()=>N(),[N]);const[j,P]=b.useState();nn(()=>{f&&P(window.getComputedStyle(f).zIndex)},[f]);const L=b.useCallback(T=>{T&&w.current===!0&&(N(),E?.(),w.current=!1)},[N,E]);return l.jsx(BR,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:y,onScrollButtonChange:L,children:l.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:l.jsx(Be.div,{...o,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});qb.displayName=FR;var $R="SelectPopperPosition",Wm=b.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=fr,...a}=e,c=yf(n);return l.jsx(Db,{...c,...a,ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Wm.displayName=$R;var[BR,a1]=Ia(ai,{}),Um="SelectViewport",Qb=b.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...o}=e,a=xs(Um,n),c=a1(Um,n),u=Xe(t,a.onViewportChange),p=b.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(xf.Slot,{scope:n,children:l.jsx(Be.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Me(o.onScroll,f=>{const h=f.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:x}=c;if(x?.current&&m){const y=Math.abs(p.current-h.scrollTop);if(y>0){const w=window.innerHeight-fr*2,v=parseFloat(m.style.minHeight),C=parseFloat(m.style.height),k=Math.max(v,C);if(k<w){const E=k+y,N=Math.min(w,E),j=E-N;m.style.height=N+"px",m.style.bottom==="0px"&&(h.scrollTop=j>0?j:0,m.style.justifyContent="flex-end")}}}p.current=h.scrollTop})})})]})});Qb.displayName=Um;var Jb="SelectGroup",[VR,HR]=Ia(Jb),WR=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=Gr();return l.jsx(VR,{scope:n,id:o,children:l.jsx(Be.div,{role:"group","aria-labelledby":o,...r,ref:t})})});WR.displayName=Jb;var e5="SelectLabel",UR=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=HR(e5,n);return l.jsx(Be.div,{id:o.id,...r,ref:t})});UR.displayName=e5;var Md="SelectItem",[GR,t5]=Ia(Md),n5=b.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:a,...c}=e,u=gs(Md,n),p=xs(Md,n),f=u.value===r,[h,m]=b.useState(a??""),[x,y]=b.useState(!1),w=Xe(t,E=>p.itemRefCallback?.(E,r,o)),v=Gr(),C=b.useRef("touch"),k=()=>{o||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(GR,{scope:n,value:r,disabled:o,textId:v,isSelected:f,onItemTextChange:b.useCallback(E=>{m(N=>N||(E?.textContent??"").trim())},[]),children:l.jsx(xf.ItemSlot,{scope:n,value:r,disabled:o,textValue:h,children:l.jsx(Be.div,{role:"option","aria-labelledby":v,"data-highlighted":x?"":void 0,"aria-selected":f&&x,"data-state":f?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...c,ref:w,onFocus:Me(c.onFocus,()=>y(!0)),onBlur:Me(c.onBlur,()=>y(!1)),onClick:Me(c.onClick,()=>{C.current!=="mouse"&&k()}),onPointerUp:Me(c.onPointerUp,()=>{C.current==="mouse"&&k()}),onPointerDown:Me(c.onPointerDown,E=>{C.current=E.pointerType}),onPointerMove:Me(c.onPointerMove,E=>{C.current=E.pointerType,o?p.onItemLeave?.():C.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Me(c.onPointerLeave,E=>{E.currentTarget===document.activeElement&&p.onItemLeave?.()}),onKeyDown:Me(c.onKeyDown,E=>{p.searchRef?.current!==""&&E.key===" "||(IR.includes(E.key)&&k(),E.key===" "&&E.preventDefault())})})})})});n5.displayName=Md;var bl="SelectItemText",r5=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...a}=e,c=gs(bl,n),u=xs(bl,n),p=t5(bl,n),f=RR(bl,n),[h,m]=b.useState(null),x=Xe(t,k=>m(k),p.onItemTextChange,k=>u.itemTextRefCallback?.(k,p.value,p.disabled)),y=h?.textContent,w=b.useMemo(()=>l.jsx("option",{value:p.value,disabled:p.disabled,children:y},p.value),[p.disabled,p.value,y]),{onNativeOptionAdd:v,onNativeOptionRemove:C}=f;return nn(()=>(v(w),()=>C(w)),[v,C,w]),l.jsxs(l.Fragment,{children:[l.jsx(Be.span,{id:p.textId,...a,ref:x}),p.isSelected&&c.valueNode&&!c.valueNodeHasChildren?wo.createPortal(a.children,c.valueNode):null]})});r5.displayName=bl;var o5="SelectItemIndicator",s5=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return t5(o5,n).isSelected?l.jsx(Be.span,{"aria-hidden":!0,...r,ref:t}):null});s5.displayName=o5;var Gm="SelectScrollUpButton",i5=b.forwardRef((e,t)=>{const n=xs(Gm,e.__scopeSelect),r=a1(Gm,e.__scopeSelect),[o,a]=b.useState(!1),c=Xe(t,r.onScrollButtonChange);return nn(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=p.scrollTop>0;a(f)};const p=n.viewport;return u(),p.addEventListener("scroll",u),()=>p.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),o?l.jsx(l5,{...e,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:p}=n;u&&p&&(u.scrollTop=u.scrollTop-p.offsetHeight)}}):null});i5.displayName=Gm;var Ym="SelectScrollDownButton",a5=b.forwardRef((e,t)=>{const n=xs(Ym,e.__scopeSelect),r=a1(Ym,e.__scopeSelect),[o,a]=b.useState(!1),c=Xe(t,r.onScrollButtonChange);return nn(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=p.scrollHeight-p.clientHeight,h=Math.ceil(p.scrollTop)<f;a(h)};const p=n.viewport;return u(),p.addEventListener("scroll",u),()=>p.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),o?l.jsx(l5,{...e,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:p}=n;u&&p&&(u.scrollTop=u.scrollTop+p.offsetHeight)}}):null});a5.displayName=Ym;var l5=b.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=e,a=xs("SelectScrollButton",n),c=b.useRef(null),u=vf(n),p=b.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return b.useEffect(()=>()=>p(),[p]),nn(()=>{u().find(h=>h.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[u]),l.jsx(Be.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:Me(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(r,50))}),onPointerMove:Me(o.onPointerMove,()=>{a.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(r,50))}),onPointerLeave:Me(o.onPointerLeave,()=>{p()})})}),YR="SelectSeparator",KR=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return l.jsx(Be.div,{"aria-hidden":!0,...r,ref:t})});KR.displayName=YR;var Km="SelectArrow",ZR=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=yf(n),a=gs(Km,n),c=xs(Km,n);return a.open&&c.position==="popper"?l.jsx(Ob,{...o,...r,ref:t}):null});ZR.displayName=Km;var XR="SelectBubbleInput",c5=b.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const o=b.useRef(null),a=Xe(r,o),c=Fb(t);return b.useEffect(()=>{const u=o.current;if(!u)return;const p=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(p,"value").set;if(c!==t&&h){const m=new Event("change",{bubbles:!0});h.call(u,t),u.dispatchEvent(m)}},[c,t]),l.jsx(Be.select,{...n,style:{...$b,...n.style},ref:a,defaultValue:t})});c5.displayName=XR;function u5(e){return e===""||e===void 0}function d5(e){const t=Kr(e),n=b.useRef(""),r=b.useRef(0),o=b.useCallback(c=>{const u=n.current+c;t(u),(function p(f){n.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>p(""),1e3))})(u)},[t]),a=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,a]}function f5(e,t,n){const o=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let c=qR(e,Math.max(a,0));o.length===1&&(c=c.filter(f=>f!==n));const p=c.find(f=>f.textValue.toLowerCase().startsWith(o.toLowerCase()));return p!==n?p:void 0}function qR(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var QR=Bb,JR=Hb,eA=Ub,tA=Gb,nA=Yb,rA=Kb,oA=Qb,sA=n5,iA=r5,aA=s5,lA=i5,cA=a5;function uA({...e}){return l.jsx(QR,{"data-slot":"select",...e})}function dA({...e}){return l.jsx(eA,{"data-slot":"select-value",...e})}function fA({className:e,size:t="default",children:n,...r}){return l.jsxs(JR,{"data-slot":"select-trigger","data-size":t,className:Te("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,l.jsx(tA,{asChild:!0,children:l.jsx(_3,{className:"size-4 opacity-50"})})]})}function pA({className:e,children:t,position:n="popper",...r}){return l.jsx(nA,{children:l.jsxs(rA,{"data-slot":"select-content",className:Te("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[l.jsx(hA,{}),l.jsx(oA,{className:Te("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),l.jsx(mA,{})]})})}function w2({className:e,children:t,...n}){return l.jsxs(sA,{"data-slot":"select-item",className:Te("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[l.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:l.jsx(aA,{children:l.jsx(CI,{className:"size-4"})})}),l.jsx(iA,{children:t})]})}function hA({className:e,...t}){return l.jsx(lA,{"data-slot":"select-scroll-up-button",className:Te("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(SI,{className:"size-4"})})}function mA({className:e,...t}){return l.jsx(cA,{"data-slot":"select-scroll-down-button",className:Te("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(_3,{className:"size-4"})})}function gA({open:e,onOpenChange:t}){const[n,r]=b.useState(""),[o,a]=b.useState(!1),[c,u]=b.useState("google"),p=async()=>{if(!n.trim())return;a(!0);let h={valid:!0,isQuota:!1};if(c==="google"&&(h=await hP(n.trim())),a(!1),h.valid||c==="ark"){const m=c==="google"?"gemini_api_key":"ark_api_key";localStorage.setItem(m,n.trim()),t(!1),r(""),c==="google"&&h.valid?ve.success("API Key validated successfully!"):c==="google"&&h.isQuota?ve.warning("API Key saved, but quota is currently exceeded.",{description:"You may need to wait for the quota to reset or use a different key.",duration:5e3}):c==="ark"&&ve.success("Ark API Key saved successfully!")}else ve.error("Invalid API key",{duration:3e3})},f=()=>{ve.info("Using default API key",{duration:2e3}),localStorage.removeItem("gemini_api_key"),localStorage.removeItem("ark_api_key"),t(!1)};return l.jsx(ib,{open:e,onOpenChange:t,children:l.jsxs(Yg,{className:"sm:max-w-[425px]",children:[l.jsxs(Kg,{children:[l.jsx(Xg,{children:"Configure API Key"}),l.jsx(qg,{children:"Enter your API key for the selected model to enable image generation."})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Vs,{htmlFor:"model-select",children:"Model"}),l.jsxs(uA,{value:c,onValueChange:h=>u(h),children:[l.jsx(fA,{id:"model-select",children:l.jsx(dA,{placeholder:"Select model"})}),l.jsxs(pA,{children:[l.jsx(w2,{value:"google",children:"Google AI Models (Gemini)"}),l.jsx(w2,{value:"ark",children:"Ark Models (Doubao Seedream)"})]})]})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Vs,{htmlFor:"api-key",children:"API Key"}),l.jsx($m,{id:"api-key",type:"password",placeholder:c==="google"?"AIza...":"f424b14b-d977-4266-a21c-769ca254e17a",value:n,onChange:h=>r(h.target.value),onKeyDown:h=>{h.key==="Enter"&&!o&&p()},className:"font-sans text-[length:var(--text-p)]",autoComplete:"off"})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("p",{className:"text-muted-foreground",children:"Your API key is stored locally in your browser and never sent to our servers."}),c==="google"&&l.jsx("a",{href:"https://makersuite.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Get API key from Google AI Studio "}),c==="ark"&&l.jsx("p",{className:"text-sm text-muted-foreground",children:"For Ark models, obtain your API key from the Volcano Engine console."})]})]}),l.jsxs(Zg,{className:"flex gap-2",children:[l.jsx(Tn,{variant:"outline",onClick:f,children:"Use Default"}),l.jsx(Tn,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),l.jsxs(Tn,{onClick:p,disabled:!n.trim()||o,children:[o&&l.jsx(LI,{className:"mr-2 h-4 w-4 animate-spin"}),"Save ",c==="google"&&"& Test"]})]})]})})}var qh="rovingFocusGroup.onEntryFocus",xA={bubbles:!1,cancelable:!0},pc="RovingFocusGroup",[Zm,p5,vA]=Qg(pc),[yA,wf]=Po(pc,[vA]),[wA,_A]=yA(pc),h5=b.forwardRef((e,t)=>l.jsx(Zm.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(Zm.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(bA,{...e,ref:t})})}));h5.displayName=pc;var bA=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:a,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:p,onEntryFocus:f,preventScrollOnEntryFocus:h=!1,...m}=e,x=b.useRef(null),y=Xe(t,x),w=df(a),[v,C]=ri({prop:c,defaultProp:u??null,onChange:p,caller:pc}),[k,E]=b.useState(!1),N=Kr(f),j=p5(n),P=b.useRef(!1),[L,T]=b.useState(0);return b.useEffect(()=>{const D=x.current;if(D)return D.addEventListener(qh,N),()=>D.removeEventListener(qh,N)},[N]),l.jsx(wA,{scope:n,orientation:r,dir:w,loop:o,currentTabStopId:v,onItemFocus:b.useCallback(D=>C(D),[C]),onItemShiftTab:b.useCallback(()=>E(!0),[]),onFocusableItemAdd:b.useCallback(()=>T(D=>D+1),[]),onFocusableItemRemove:b.useCallback(()=>T(D=>D-1),[]),children:l.jsx(Be.div,{tabIndex:k||L===0?-1:0,"data-orientation":r,...m,ref:y,style:{outline:"none",...e.style},onMouseDown:Me(e.onMouseDown,()=>{P.current=!0}),onFocus:Me(e.onFocus,D=>{const $=!P.current;if(D.target===D.currentTarget&&$&&!k){const Y=new CustomEvent(qh,xA);if(D.currentTarget.dispatchEvent(Y),!Y.defaultPrevented){const G=j().filter(F=>F.focusable),V=G.find(F=>F.active),W=G.find(F=>F.id===v),M=[V,W,...G].filter(Boolean).map(F=>F.ref.current);x5(M,h)}}P.current=!1}),onBlur:Me(e.onBlur,()=>E(!1))})})}),m5="RovingFocusGroupItem",g5=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:a,children:c,...u}=e,p=Gr(),f=a||p,h=_A(m5,n),m=h.currentTabStopId===f,x=p5(n),{onFocusableItemAdd:y,onFocusableItemRemove:w,currentTabStopId:v}=h;return b.useEffect(()=>{if(r)return y(),()=>w()},[r,y,w]),l.jsx(Zm.ItemSlot,{scope:n,id:f,focusable:r,active:o,children:l.jsx(Be.span,{tabIndex:m?0:-1,"data-orientation":h.orientation,...u,ref:t,onMouseDown:Me(e.onMouseDown,C=>{r?h.onItemFocus(f):C.preventDefault()}),onFocus:Me(e.onFocus,()=>h.onItemFocus(f)),onKeyDown:Me(e.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){h.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const k=NA(C,h.orientation,h.dir);if(k!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let N=x().filter(j=>j.focusable).map(j=>j.ref.current);if(k==="last")N.reverse();else if(k==="prev"||k==="next"){k==="prev"&&N.reverse();const j=N.indexOf(C.currentTarget);N=h.loop?SA(N,j+1):N.slice(j+1)}setTimeout(()=>x5(N))}}),children:typeof c=="function"?c({isCurrentTabStop:m,hasTabStop:v!=null}):c})})});g5.displayName=m5;var CA={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function kA(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function NA(e,t,n){const r=kA(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return CA[r]}function x5(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function SA(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var v5=h5,y5=g5,_f="Tabs",[jA]=Po(_f,[wf]),w5=wf(),[EA,l1]=jA(_f),_5=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:o,defaultValue:a,orientation:c="horizontal",dir:u,activationMode:p="automatic",...f}=e,h=df(u),[m,x]=ri({prop:r,onChange:o,defaultProp:a??"",caller:_f});return l.jsx(EA,{scope:n,baseId:Gr(),value:m,onValueChange:x,orientation:c,dir:h,activationMode:p,children:l.jsx(Be.div,{dir:h,"data-orientation":c,...f,ref:t})})});_5.displayName=_f;var b5="TabsList",C5=b.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...o}=e,a=l1(b5,n),c=w5(n);return l.jsx(v5,{asChild:!0,...c,orientation:a.orientation,dir:a.dir,loop:r,children:l.jsx(Be.div,{role:"tablist","aria-orientation":a.orientation,...o,ref:t})})});C5.displayName=b5;var k5="TabsTrigger",N5=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:o=!1,...a}=e,c=l1(k5,n),u=w5(n),p=E5(c.baseId,r),f=P5(c.baseId,r),h=r===c.value;return l.jsx(y5,{asChild:!0,...u,focusable:!o,active:h,children:l.jsx(Be.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":f,"data-state":h?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:p,...a,ref:t,onMouseDown:Me(e.onMouseDown,m=>{!o&&m.button===0&&m.ctrlKey===!1?c.onValueChange(r):m.preventDefault()}),onKeyDown:Me(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&c.onValueChange(r)}),onFocus:Me(e.onFocus,()=>{const m=c.activationMode!=="manual";!h&&!o&&m&&c.onValueChange(r)})})})});N5.displayName=k5;var S5="TabsContent",j5=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:o,children:a,...c}=e,u=l1(S5,n),p=E5(u.baseId,r),f=P5(u.baseId,r),h=r===u.value,m=b.useRef(h);return b.useEffect(()=>{const x=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(x)},[]),l.jsx(Io,{present:o||h,children:({present:x})=>l.jsx(Be.div,{"data-state":h?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":p,hidden:!x,id:f,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:x&&a})})});j5.displayName=S5;function E5(e,t){return`${e}-trigger-${t}`}function P5(e,t){return`${e}-content-${t}`}var PA=_5,IA=C5,MA=N5,LA=j5;function TA({className:e,...t}){return l.jsx(PA,{"data-slot":"tabs",className:Te("flex flex-col gap-2",e),...t})}function RA({className:e,...t}){return l.jsx(IA,{"data-slot":"tabs-list",className:Te("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function Zu({className:e,...t}){return l.jsx(MA,{"data-slot":"tabs-trigger",className:Te("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Xu({className:e,...t}){return l.jsx(LA,{"data-slot":"tabs-content",className:Te("flex-1 outline-none",e),...t})}var bf="Switch",[AA]=Po(bf),[zA,DA]=AA(bf),I5=b.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:o,defaultChecked:a,required:c,disabled:u,value:p="on",onCheckedChange:f,form:h,...m}=e,[x,y]=b.useState(null),w=Xe(t,N=>y(N)),v=b.useRef(!1),C=x?h||!!x.closest("form"):!0,[k,E]=ri({prop:o,defaultProp:a??!1,onChange:f,caller:bf});return l.jsxs(zA,{scope:n,checked:k,disabled:u,children:[l.jsx(Be.button,{type:"button",role:"switch","aria-checked":k,"aria-required":c,"data-state":R5(k),"data-disabled":u?"":void 0,disabled:u,value:p,...m,ref:w,onClick:Me(e.onClick,N=>{E(j=>!j),C&&(v.current=N.isPropagationStopped(),v.current||N.stopPropagation())})}),C&&l.jsx(T5,{control:x,bubbles:!v.current,name:r,value:p,checked:k,required:c,disabled:u,form:h,style:{transform:"translateX(-100%)"}})]})});I5.displayName=bf;var M5="SwitchThumb",L5=b.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,o=DA(M5,n);return l.jsx(Be.span,{"data-state":R5(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:t})});L5.displayName=M5;var OA="SwitchBubbleInput",T5=b.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...o},a)=>{const c=b.useRef(null),u=Xe(c,a),p=Fb(n),f=Nb(t);return b.useEffect(()=>{const h=c.current;if(!h)return;const m=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(m,"checked").set;if(p!==n&&y){const w=new Event("click",{bubbles:r});y.call(h,n),h.dispatchEvent(w)}},[p,n,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:u,style:{...o.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});T5.displayName=OA;function R5(e){return e?"checked":"unchecked"}var FA=I5,$A=L5;function BA({className:e,...t}){return l.jsx(FA,{"data-slot":"switch",className:Te("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx($A,{"data-slot":"switch-thumb",className:Te("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const VA=db("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Qh({className:e,variant:t,asChild:n=!1,...r}){const o=n?ub:"span";return l.jsx(o,{"data-slot":"badge",className:Te(VA({variant:t}),e),...r})}function Gi(e){if(e===0)return"0 B";const t=1024,n=["B","KB","MB","GB","TB"],r=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,r)).toFixed(2))+" "+n[r]}function _2(e,t){return t===0?0:Math.round(e/t*100)}function HA(e){const t=e.match(/(\d+\.\d+\.\d+)/);return t?t[1]:e.split(" ")[0]}function WA({open:e,onOpenChange:t}){const{t:n}=rn(),{connect:r,disconnect:o,isConnected:a,serverUrl:c,updateServerUrl:u,models:p,refreshModels:f,queue:h,refreshQueue:m,systemStats:x,refreshSystemStats:y,interrupt:w}=zg(),[v,C]=b.useState("server"),[k,E]=b.useState(c),[N,j]=b.useState(!0),[P,L]=b.useState(!1),[T,D]=b.useState(""),[$,Y]=b.useState("all");b.useEffect(()=>{c&&E(c)},[c]),b.useEffect(()=>{e&&a&&(m(),y())},[e,a,m,y]),b.useEffect(()=>{if(!e)return;const I=setInterval(()=>{a&&(m(),y())},5e3);return()=>clearInterval(I)},[e,a,m,y]);const G=async()=>{if(!k){ve.error("URL");return}L(!0);try{u(k),await r(),ve.success("")}catch{ve.error("URL")}finally{L(!1)}},V=()=>{if(!k){ve.error("URL");return}u(k),localStorage.setItem("auto_reconnect",N.toString()),ve.success("")},W=()=>{o(),ve.success("")},z=async()=>{try{await w(),ve.success("")}catch{ve.error("")}},M=b.useCallback(()=>{const I={};return Object.entries(p).forEach(([U,O])=>{if(!O||O.length===0||$!=="all"&&U!==$)return;const B=O.filter(q=>q.title.toLowerCase().includes(T.toLowerCase())||q.model_name.toLowerCase().includes(T.toLowerCase()));B.length>0&&(I[U]=B)}),I},[p,T,$]),F=Object.keys(p),H=()=>{if(!x)return l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-muted-foreground",children:a?"...":"ComfyUI"})});const{system:I,devices:U}=x,O=_2(I.ram_total-I.ram_free,I.ram_total),B=U[0],q=B?_2(B.vram_total-B.vram_free,B.vram_total):0;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium",children:""}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"p-4 border border-border rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"font-medium",children:""}),l.jsx(Qh,{variant:a?"default":"destructive",className:a?"bg-green-500 hover:bg-green-600":"",children:a?"":""})]}),l.jsx("div",{className:"text-sm text-muted-foreground mt-2",children:c})]}),l.jsxs("div",{className:"p-4 border border-border rounded-lg",children:[l.jsx("div",{className:"font-medium",children:""}),l.jsxs("div",{className:"space-y-2 mt-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:":"}),l.jsx("span",{className:"font-medium text-orange-500",children:h?.queue_running?.length||0})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:":"}),l.jsx("span",{className:"font-medium text-blue-500",children:h?.queue_pending?.length||0})]})]}),(h?.queue_running?.length>0||h?.queue_pending?.length>0)&&l.jsx(Tn,{variant:"destructive",size:"sm",className:"mt-2 w-full",onClick:z,children:""})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium",children:""}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"p-4 border border-border rounded-lg",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("div",{className:"font-medium",children:" (RAM)"}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:[Gi(I.ram_total-I.ram_free)," / ",Gi(I.ram_total)]})]}),l.jsx("div",{className:"h-3 bg-muted rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-green-400 rounded-full transition-all duration-500",style:{width:`${O}%`}})}),l.jsxs("div",{className:"text-sm text-muted-foreground mt-1 text-right",children:[O,"% "]})]}),B&&l.jsxs("div",{className:"p-4 border border-border rounded-lg",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("div",{className:"font-medium",children:" (VRAM)"}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:[Gi(B.vram_total-B.vram_free)," / ",Gi(B.vram_total)]})]}),l.jsx("div",{className:"h-3 bg-muted rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-blue-400 rounded-full transition-all duration-500",style:{width:`${q}%`}})}),l.jsxs("div",{className:"text-sm text-muted-foreground mt-1 text-right",children:[q,"% "]})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium",children:""}),l.jsx("div",{className:"p-4 border border-border rounded-lg",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"ComfyUI:"}),l.jsx("span",{className:"font-medium",children:I.comfyui_version||""})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Python:"}),l.jsx("span",{className:"font-medium",children:HA(I.python_version)})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"PyTorch:"}),l.jsx("span",{className:"font-medium",children:I.pytorch_version||""})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:":"}),l.jsx("span",{className:"font-medium",children:I.os})]})]}),l.jsx("div",{className:"space-y-3",children:B&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"GPU:"}),l.jsx("span",{className:"font-medium text-right max-w-[200px] truncate",title:B.name,children:B.name})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:":"}),l.jsx("span",{className:"font-medium uppercase",children:B.type})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:":"}),l.jsx("span",{className:"font-medium",children:Gi(B.vram_total)})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:":"}),l.jsx("span",{className:"font-medium text-green-500",children:Gi(B.vram_free)})]})]})})]})})]})]})},R=(I,U)=>{const O={checkpoints:"Checkpoints",vae:"VAE",loras:"LoRA",controlnet:"ControlNet",clip:"CLIP",unet:"UNet",style_models:"Style Models",upscale_models:"Upscale Models",embeddings:"Embeddings"};return l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-medium",children:O[I]||I}),l.jsx(Qh,{variant:"secondary",children:U.length})]}),l.jsx("div",{className:"space-y-2 max-h-[250px] overflow-y-auto pr-2",children:U.map((B,q)=>l.jsxs("div",{className:"p-3 border border-border rounded-lg hover:bg-muted/50 transition-colors",children:[l.jsx("div",{className:"font-medium truncate",title:B.title,children:B.title}),B.model_name!==B.title&&l.jsx("div",{className:"text-sm text-muted-foreground truncate",title:B.model_name,children:B.model_name})]},q))})]},I)};return l.jsx(ib,{open:e,onOpenChange:t,children:l.jsxs(Yg,{className:"sm:max-w-[600px] lg:max-w-[900px] max-h-[85vh] overflow-y-auto",children:[l.jsxs(Kg,{children:[l.jsxs(Xg,{className:"flex items-center gap-2",children:["Comfy",l.jsx(Qh,{variant:a?"default":"destructive",className:a?"bg-green-500":"",children:a?"":""})]}),l.jsx(qg,{children:"ComfyUI"})]}),l.jsxs(TA,{value:v,onValueChange:C,className:"w-full",children:[l.jsxs(RA,{className:"grid w-full grid-cols-4",children:[l.jsx(Zu,{value:"server",children:""}),l.jsx(Zu,{value:"models",children:""}),l.jsx(Zu,{value:"workflows",children:""}),l.jsx(Zu,{value:"status",children:""})]}),l.jsx(Xu,{value:"server",className:"mt-4",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Vs,{htmlFor:"server-url",children:"URL"}),l.jsx("span",{className:`text-sm font-medium ${a?"text-green-500":"text-red-500"}`,children:a?"":""})]}),l.jsx($m,{id:"server-url",value:k,onChange:I=>E(I.target.value),placeholder:"http://localhost:8188"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"ComfyUIURL8188"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Vs,{children:""}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx(Tn,{onClick:G,disabled:P||a,variant:"default",children:P?"...":a?"":""}),l.jsx(Tn,{onClick:W,disabled:!a,variant:"outline",children:""})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Vs,{htmlFor:"auto-reconnect",children:""}),l.jsx(BA,{id:"auto-reconnect",checked:N,onCheckedChange:j})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:""})]}),l.jsx(Tn,{onClick:V,className:"w-full",children:""})]})}),l.jsx(Xu,{value:"models",className:"mt-4",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[l.jsx($m,{placeholder:"...",value:T,onChange:I=>D(I.target.value),className:"flex-1"}),l.jsxs("select",{value:$,onChange:I=>Y(I.target.value),className:"px-3 py-2 border border-border rounded-md bg-background",children:[l.jsx("option",{value:"all",children:""}),F.map(I=>l.jsx("option",{value:I,children:I},I))]}),l.jsx(Tn,{onClick:async()=>{try{await f(),ve.success("")}catch{ve.error("")}},variant:"outline",children:""})]}),l.jsx("div",{className:"space-y-4",children:Object.entries(M()).length>0?Object.entries(M()).map(([I,U])=>R(I,U)):l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-muted-foreground",children:a?T?"":"ComfyUI":"ComfyUI"})})})]})}),l.jsx(Xu,{value:"workflows",className:"mt-4",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Vs,{children:""}),l.jsx(Tn,{onClick:()=>{const I=localStorage.getItem("current_workflow");if(I){const U=new Blob([I],{type:"application/json"}),O=URL.createObjectURL(U),B=document.createElement("a");B.href=O,B.download=`workflow_${Date.now()}.json`,B.click(),URL.revokeObjectURL(O),ve.success("")}else ve.error("")},className:"w-full",children:""})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Vs,{children:""}),l.jsx(Tn,{onClick:()=>{const I=document.createElement("input");I.type="file",I.accept=".json",I.onchange=U=>{const O=U.target.files?.[0];if(!O)return;const B=new FileReader;B.onload=q=>{try{const X=q.target?.result,ne=JSON.parse(X);localStorage.setItem("current_workflow",JSON.stringify(ne)),ve.success("")}catch{ve.error("")}},B.readAsText(O)},I.click()},className:"w-full",children:""})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium",children:""}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors",children:[l.jsx("div",{className:"font-medium",children:""}),l.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:""}),l.jsx(Tn,{onClick:()=>{const I={3:{inputs:{seed:Math.floor(Math.random()*1e6),steps:20,cfg:7,sampler_name:"euler",scheduler:"normal",denoise:1,model:["4",0],positive:["6",0],negative:["7",0],latent_image:["5",0]},class_type:"KSampler"},4:{inputs:{ckpt_name:"model.safetensors"},class_type:"CheckpointLoaderSimple"},5:{inputs:{width:512,height:512,batch_size:1},class_type:"EmptyLatentImage"},6:{inputs:{text:"beautiful landscape",clip:["4",1]},class_type:"CLIPTextEncode"},7:{inputs:{text:"",clip:["4",1]},class_type:"CLIPTextEncode"},8:{inputs:{samples:["3",0],vae:["4",2]},class_type:"VAEDecode"},9:{inputs:{filename_prefix:"ComfyUI",images:["8",0]},class_type:"SaveImage"}};localStorage.setItem("current_workflow",JSON.stringify(I)),ve.success("")},className:"mt-3 w-full",children:""})]}),l.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors",children:[l.jsx("div",{className:"font-medium",children:""}),l.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:""}),l.jsx(Tn,{onClick:()=>{ve.info("")},className:"mt-3 w-full",children:""})]})]})]})]})}),l.jsx(Xu,{value:"status",className:"mt-4",children:H()})]}),l.jsx(Zg,{children:l.jsx(Tn,{variant:"outline",onClick:()=>t(!1),children:""})})]})})}function UA({onClose:e}){const{activeWorkflowId:t,removeWorkflow:n}=jt(),r=()=>{t&&t!=="default"&&(n(t),ve.success("Workflow deleted")),e()};return l.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 backdrop-blur-sm",onClick:e,style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999},children:l.jsxs("div",{className:"bg-card border border-border rounded-[20px] p-6 w-[320px] max-w-full flex flex-col gap-6",onClick:o=>o.stopPropagation(),style:{position:"relative",zIndex:1e4},children:[l.jsxs("div",{className:"flex flex-col gap-2 text-center",children:[l.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Delete Workflow?"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Are you sure you want to delete this workflow? This action cannot be undone."})]}),l.jsxs("div",{className:"flex gap-3 justify-center",children:[l.jsx("button",{className:"flex-1 px-4 py-2.5 rounded-full bg-muted text-foreground text-sm font-bold hover:bg-muted/80 transition-colors",onClick:e,children:"Cancel"}),l.jsx("button",{className:"flex-1 px-4 py-2.5 rounded-full bg-destructive text-destructive-foreground text-sm font-bold hover:bg-destructive/90 transition-colors",onClick:r,children:"Delete"})]})]})})}function GA(){return l.jsx("div",{className:"h-[16px] relative w-0",children:l.jsx("div",{className:"absolute inset-[-7.03%_-1.13px]",children:l.jsx("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 2.25 18.25",children:l.jsxs("g",{id:"Frame 2117130796",children:[l.jsx("path",{d:"M1.125 6.125L1.125 1.125",id:"Vector 102",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.25"}),l.jsx("path",{d:"M1.125 17.125L1.125 12.125",id:"Vector 101",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.25"})]})})})})}function YA(){return l.jsx("div",{className:"absolute h-[16px] left-1/2 top-1/2 translate-x-[-50%] translate-y-[-50%] w-0",children:l.jsx("div",{className:"absolute inset-[-7.03%_-1.13px]",children:l.jsx("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 2.25 18.25",children:l.jsxs("g",{id:"Frame 2117130797",children:[l.jsx("path",{d:"M1.125 6.125L1.125 1.125",id:"Vector 102",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.25"}),l.jsx("path",{d:"M1.125 17.125L1.125 12.125",id:"Vector 101",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.25"})]})})})})}function KA(){return l.jsxs("div",{className:"overflow-clip relative shrink-0 size-[24px]",children:[l.jsx("div",{className:"absolute flex h-0 items-center justify-center left-1/2 top-1/2 translate-x-[-50%] translate-y-[-50%] w-[16px]",style:{"--transform-inner-width":"0","--transform-inner-height":"0"},children:l.jsx("div",{className:"flex-none rotate-[-90deg]",children:l.jsx(GA,{})})}),l.jsx(YA,{})]})}function ZA(){return l.jsxs("div",{className:"backdrop-blur-[8px] bg-card content-stretch flex items-center justify-center overflow-clip p-[8px] relative rounded-[9999px] size-full text-foreground",children:[l.jsx(KA,{}),l.jsx("div",{className:"absolute inset-0 pointer-events-none rounded-[inherit] shadow-[inset_0px_0px_0px_0px_white,inset_0px_0px_0px_1px_rgba(255,255,255,0.05)]"})]})}const xo={p10acb280:"M1.875 7.92507L11.625 12.4251",p24ab6f00:"M16 19L7 19C5.34315 19 4 17.6569 4 16L4 7C4 5.89543 4.89543 5 6 5L9.58539 5C10.4708 5 11.2993 5.43645 11.8 6.16667C12.3007 6.89688 13.1292 7.33333 14.0146 7.33333L17 7.33333C18.1046 7.33333 19 8.22876 19 9.33333L19 10",p29b4780:"M13.117 14.4436C13.0529 14.9678 12.5771 15.375 12 15.375L11.8684 15.3671C11.3093 15.3075 10.8751 14.8609 10.8751 14.321L10.874 7.98471L9.43744 9.4189C9.22443 9.6315 8.93577 9.7509 8.63482 9.7509C8.33386 9.7509 8.0452 9.6315 7.83219 9.4189C7.72689 9.3138 7.64334 9.18896 7.58634 9.05153C7.52934 8.9141 7.5 8.76679 7.5 8.61801C7.5 8.46923 7.52934 8.32191 7.58634 8.18448C7.64334 8.04706 7.72689 7.92222 7.83219 7.81711L11.1979 4.4583C11.3031 4.35266 11.4281 4.26884 11.5657 4.21164C11.7034 4.15444 11.8509 4.125 12 4.125C12.1491 4.125 12.2966 4.15444 12.4343 4.21164C12.5719 4.26884 12.6969 4.35266 12.8021 4.4583L16.1678 7.81711C16.2731 7.92222 16.3567 8.04706 16.4137 8.18448C16.4707 8.32191 16.5 8.46923 16.5 8.61801C16.5 8.76679 16.4707 8.9141 16.4137 9.05153C16.3567 9.18896 16.2731 9.3138 16.1678 9.4189C15.9548 9.63115 15.6664 9.75034 15.3657 9.75034C15.0651 9.75034 14.7766 9.63115 14.5637 9.4189L13.1238 7.98359L13.1249 14.3199L13.117 14.4436Z",p2d12d80:"M4.5 16.875V18.375C4.5 19.2034 5.17157 19.875 6 19.875H18C18.8284 19.875 19.5 19.2034 19.5 18.375V16.875",p3106a200:"M12.2891 3.00684L13.2478 3.29115C13.3359 2.99394 13.2812 2.67266 13.0997 2.42135C12.9182 2.17004 12.6305 2.01711 12.3206 2.00733L12.2891 3.00684ZM12 5L11 5V5H12ZM20.9922 11.71L21.9917 11.6783C21.9819 11.3685 21.829 11.0808 21.5777 10.8993C21.3264 10.7178 21.0051 10.6631 20.708 10.7512L20.9922 11.71ZM12.2891 3.00684L11.3303 2.72252C11.1162 3.44452 11 4.20898 11 5L12 5H13C13 4.40583 13.0872 3.83275 13.2478 3.29115L12.2891 3.00684ZM12 5H11C11 9.41828 14.5817 13 19 13V12V11C15.6863 11 13 8.31371 13 5H12ZM19 12V13C19.7919 13 20.5558 12.8823 21.2764 12.6687L20.9922 11.71L20.708 10.7512C20.1654 10.9121 19.5928 11 19 11V12ZM20.9922 11.71L19.9927 11.7416C19.9965 11.8613 20 11.924 20 12H21H22C22 11.8818 21.994 11.7513 21.9917 11.6783L20.9922 11.71ZM21 12H20C20 16.4183 16.4183 20 12 20V21V22C17.5228 22 22 17.5228 22 12H21ZM12 21V20C7.58172 20 4 16.4183 4 12H3H2C2 17.5228 6.47715 22 12 22V21ZM3 12H4C4 7.58172 7.58172 4 12 4V3V2C6.47715 2 2 6.47715 2 12H3ZM12 3V4C12.0764 4 12.1503 4.00296 12.2575 4.00634L12.2891 3.00684L12.3206 2.00733C12.2358 2.00466 12.1171 2 12 2V3Z",p33809c00:"M5.08304 16.2639L6.81206 11.8959C7.265 10.7516 8.37083 10 9.60148 10H19.0573C20.4692 10 21.4366 11.4233 20.917 12.7361L19.1879 17.1041C18.735 18.2484 17.6292 19 16.3985 19H6.94265C5.53079 19 4.56341 17.5767 5.08304 16.2639Z",p356e7680:"M19 21C19 17.134 15.866 14 12 14C8.13401 14 5 17.134 5 21M12 11C9.79086 11 8 9.20914 8 7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7C16 9.20914 14.2091 11 12 11Z",p97656c0:"M13.125 9.25007L7.125 1.00007",p265c6080:"M8.83437 2.35962C9.6476 1.54541 10.9655 1.54469 11.7787 2.35766L13.4408 4.01977C14.2471 4.82612 14.2549 6.13222 13.4584 6.94946L7.3041 13.2629C6.78627 13.7941 6.07565 14.095 5.33437 14.095H3.49941C2.50518 14.0947 1.7115 13.265 1.75332 12.2707L1.83242 10.3987C1.8614 9.70974 2.148 9.05657 2.63515 8.5686L8.83437 2.35962ZM13.6781 12.6291C14.0459 12.6294 14.3441 12.928 14.3441 13.2961C14.3441 13.6643 14.046 13.9629 13.6781 13.9631H9.59609C9.22827 13.9629 8.93008 13.6643 8.93008 13.2961C8.93016 12.928 9.22832 12.6294 9.59609 12.6291H13.6781ZM3.6957 9.62817C3.47428 9.84994 3.34368 10.1471 3.33047 10.4602L3.25136 12.3332C3.24542 12.4753 3.35932 12.594 3.50136 12.594H5.33633C5.67297 12.5939 5.99559 12.4572 6.23086 12.2161L10.4135 7.92407L7.90273 5.41333L3.6957 9.62817ZM10.7191 3.41919C10.4915 3.19178 10.1226 3.19241 9.89492 3.42016L8.96328 4.3518L11.4613 6.84985L12.3861 5.90161C12.609 5.67284 12.6068 5.30706 12.3812 5.0813L10.7191 3.41919Z"};function XA(){return l.jsx("div",{className:"overflow-clip relative shrink-0 size-[20px]",children:l.jsx(ZA,{})})}function qA(){return l.jsx("div",{className:"backdrop-blur-md bg-card content-stretch flex h-[40px] items-center justify-center overflow-clip p-[6px] relative rounded-full shrink-0 w-[64px] border border-border",children:l.jsx(XA,{})})}function QA({label:e,isActive:t,onClick:n,onEdit:r,onDelete:o,t:a}){const c=t&&(r||o);return l.jsxs("div",{className:`group backdrop-blur-md bg-card content-stretch flex items-center overflow-clip h-[40px] px-[16px] py-[6px] relative rounded-full shrink-0 border border-border cursor-pointer transition-colors ${t?"bg-accent/20 border-accent":"hover:bg-muted/50"} ${c?"gap-[7px]":""}`,onClick:n,children:[l.jsx("div",{className:"content-stretch flex h-[40px] items-center justify-center relative rounded-full shrink-0",children:l.jsx("div",{className:`capitalize flex flex-col justify-center leading-[0] relative shrink-0 text-[length:var(--text-h1)] text-foreground font-bold font-sans ${t?"":"opacity-60"}`,children:l.jsx("p",{className:"leading-[normal]",children:e})})}),c&&l.jsxs(l.Fragment,{children:[r&&l.jsx("div",{className:"hidden group-hover:block relative shrink-0 size-[16px] hover:text-accent cursor-pointer text-foreground",onClick:u=>{u.stopPropagation(),r()},title:a("edit"),"aria-label":a("edit_workflow"),children:l.jsx("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 16 16",children:l.jsx("g",{children:l.jsx("path",{d:xo.p265c6080,fill:"currentColor"})})})}),o&&l.jsx("div",{className:"hidden group-hover:block relative shrink-0 size-[16px] hover:text-destructive cursor-pointer text-foreground",onClick:u=>{u.stopPropagation(),o()},title:a("delete"),"aria-label":a("delete_workflow"),children:l.jsx("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 16 16",children:l.jsxs("g",{children:[l.jsx("path",{d:"M12 4L4 12",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),l.jsx("path",{d:"M4 4L12 12",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})]})})})]})]})}function JA({onClick:e}){return l.jsx("div",{className:"backdrop-blur-md bg-card content-stretch flex items-center justify-center overflow-clip py-[6px] relative rounded-full shrink-0 size-[40px] border border-border cursor-pointer hover:bg-muted/50 transition-colors",onClick:e,children:l.jsx("div",{className:"content-stretch flex items-center justify-center relative rounded-full shrink-0 size-[40px]",children:l.jsx(De,{name:"plus",size:18,className:"text-foreground",strokeWidth:2})})})}function ez(){const{importWorkflow:e}=jt(),{t}=rn(),n=()=>{const r=document.createElement("input");r.type="file",r.accept=".json",r.onchange=o=>{const a=o.target.files?.[0];if(!a)return;const c=new FileReader;c.onload=u=>{try{const p=u.target?.result,f=JSON.parse(p);f.nodes&&Array.isArray(f.nodes)?(e(f.nodes,f.edges||[]),ve.success(t("workflow_imported"))):ve.error(t("invalid_workflow_format"))}catch(p){console.error(p),ve.error(t("file_parse_failed"))}},c.readAsText(a)},r.click()};return l.jsx("div",{onClick:n,className:"backdrop-blur-md bg-card/80 content-stretch flex flex-col items-center justify-center px-[20px] py-[6px] relative rounded-full shrink-0 size-[40px] border border-border cursor-pointer hover:bg-muted/50 transition-colors",children:l.jsx("div",{className:"relative shrink-0 size-[20px]",children:l.jsx("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 24 24",children:l.jsxs("g",{children:[l.jsx("path",{d:xo.p29b4780,fill:"var(--foreground)"}),l.jsx("path",{d:xo.p2d12d80,stroke:"var(--foreground)",strokeLinecap:"round",strokeWidth:"2.25"})]})})})})}function qu({active:e,label:t,onClick:n,children:r}){return l.jsxs("button",{onClick:n,className:`
        relative rounded-full flex items-center transition-all duration-300
        ${e?"bg-foreground text-background px-4 py-2 h-[32px] gap-2 justify-start":"bg-transparent text-foreground size-[32px] hover:bg-muted justify-center"}
      `,children:[l.jsx("div",{className:`flex items-center justify-center ${e?"size-[24px]":"size-full"}`,children:r}),e&&t&&l.jsx("div",{className:"capitalize flex flex-col justify-center leading-[0] relative shrink-0 text-[14px] font-bold whitespace-nowrap overflow-hidden",children:l.jsx("p",{className:"leading-[normal]",children:t})})]})}function tz({currentView:e,onViewChange:t,t:n}){return l.jsxs("div",{className:"backdrop-blur-md bg-card content-stretch flex gap-[7px] h-[40px] items-center p-[6px] relative rounded-full shrink-0 border border-border",children:[l.jsx(qu,{active:e==="creation",label:n("creation"),onClick:()=>t("creation"),children:l.jsx("div",{className:"relative shrink-0 size-[13px]",children:l.jsxs("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 15.25 15.25",children:[l.jsx("path",{d:"M1.125 1.125L5.625 5.625",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.25"}),l.jsx("path",{d:"M9.625 5.625L14.125 1.125",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.25"}),l.jsx("path",{d:"M1.125 14.125L5.625 9.625",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.25"}),l.jsx("path",{d:"M9.625 9.625L14.125 14.125",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.25"})]})})}),l.jsx(qu,{active:e==="editor",label:n("editor"),onClick:()=>t("editor"),children:l.jsxs("div",{className:"content-center flex flex-wrap gap-[4px_2px] items-center justify-center relative shrink-0 w-[14px]",children:[l.jsx("div",{className:"h-[13px] relative shrink-0 w-[4.5px]",children:l.jsxs("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 6.5 15",children:[l.jsx("path",{d:"M1 1L5.5 5.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),l.jsx("path",{d:"M1 14L5.5 9.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})]})}),l.jsx("div",{className:"h-[13px] relative shrink-0 w-[4.5px]",children:l.jsxs("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 6.5 15",children:[l.jsx("path",{d:"M5.5 5.5L1 1",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),l.jsx("path",{d:"M5.5 9.5L1 14",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})]})})]})}),l.jsx(qu,{active:e==="inspiration",label:n("inspiration"),onClick:()=>t("inspiration"),children:l.jsx("div",{className:"flex-none rotate-[180deg] scale-y-[-100%]",children:l.jsx("div",{className:"h-[14.25px] relative w-[15.75px]",children:l.jsxs("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 15.75 17.0001",children:[l.jsx("path",{d:xo.p10acb280,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),l.jsx("path",{d:xo.p97656c0,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),l.jsx("path",{d:"M1.125 16.0001H11.625",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})]})})})}),l.jsx(qu,{active:e==="assets",label:n("assets"),onClick:()=>t("assets"),children:l.jsx("div",{className:"relative shrink-0 size-[24px]",children:l.jsx("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 24 24",children:l.jsxs("g",{children:[l.jsx("path",{d:xo.p24ab6f00,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),l.jsx("path",{d:xo.p33809c00,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})]})})})})]})}function nz({currentView:e="editor",onViewChange:t=()=>{}}){const[n,r]=b.useState(!1),[o,a]=b.useState(!1),[c,u]=b.useState(!1),[p,f]=b.useState(!1),[h,m]=b.useState("light"),[x,y]=b.useState(!1),[w,v]=b.useState(null),[C,k]=b.useState(""),{workflows:E,activeWorkflowId:N,setActiveWorkflowId:j,addWorkflow:P,updateWorkflow:L}=jt(),{language:T,setLanguage:D,t:$}=rn();b.useEffect(()=>{try{f(pP())}catch(z){console.warn("Failed to check API configuration:",z),f(!1)}},[]),b.useEffect(()=>{const z=M=>{const F=document.querySelector(".settings-menu-container"),H=document.querySelector('[title=" API "]');F&&H&&!F.contains(M.target)&&!H.contains(M.target)&&u(!1)};return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[]),b.useEffect(()=>{const z=localStorage.getItem(At.THEME);if(z){const M=z==="dark";m(z),document.documentElement.classList.toggle("dark",M)}else{const M=document.documentElement.classList.contains("dark");m(M?"dark":"light")}},[]);const Y=()=>{const z=h==="light"?"dark":"light";m(z),document.documentElement.classList.toggle("dark",z==="dark"),localStorage.setItem(At.THEME,z)},G=z=>{v(z.id),k(z.name)},V=()=>{w&&C.trim()&&(L(w,{name:C.trim()}),v(null),k(""))},W=()=>{v(null),k("")};return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"absolute top-[10px] left-0 right-0 px-[10px] z-10 pointer-events-none",children:l.jsxs("div",{className:"flex items-start justify-between relative size-full pointer-events-auto",children:[l.jsxs("div",{className:"flex-1 basis-0 min-w-0 flex gap-[8px] items-center justify-start relative overflow-x-auto no-scrollbar  ",children:[l.jsx(qA,{}),e==="editor"&&l.jsxs(l.Fragment,{children:[E.map(z=>l.jsx(l.Fragment,{children:l.jsx(QA,{label:z.name,isActive:z.id===N,onClick:()=>j(z.id),onEdit:z.id!=="default"?()=>G(z):void 0,onDelete:z.id!=="default"?()=>{y(!0)}:void 0,t:$},z.id)})),l.jsx(JA,{onClick:P}),l.jsx(ez,{})]})]}),l.jsx("div",{className:"shrink-0 flex flex-col items-center justify-center relative",children:l.jsx(tz,{currentView:e,onViewChange:t,t:$})}),l.jsxs("div",{className:"flex-1 basis-0 min-w-0 flex gap-[8px] items-center justify-end relative",children:[l.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-card border border-border cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>D(T==="zh"?"en":"zh"),title:$(T==="zh"?"switch_to_english":"switch_to_chinese"),children:l.jsx("div",{className:"text-xs font-bold text-foreground",children:T.toUpperCase()})}),l.jsx("div",{className:"backdrop-blur-md bg-card content-stretch flex items-center justify-center overflow-clip py-[6px] relative rounded-full shrink-0 size-[40px] border border-border",children:l.jsx("div",{className:"content-stretch flex items-center justify-center relative rounded-full shrink-0 size-[40px] cursor-pointer hover:bg-muted/50 transition-colors",onClick:Y,children:l.jsx("div",{className:"overflow-clip relative shrink-0 size-[20px]",children:l.jsx("div",{className:"absolute left-1/2 size-[20px] top-1/2 translate-x-[-50%] translate-y-[-50%]",children:l.jsx("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 24 24",children:l.jsx("path",{d:xo.p3106a200,fill:"var(--foreground)"})})})})})}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"backdrop-blur-md bg-card content-stretch flex items-center justify-center overflow-clip py-[6px] relative rounded-full shrink-0 size-[40px] border border-border cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>u(!c),title:$("configure_api_key"),children:l.jsx("div",{className:"content-stretch flex items-center justify-center relative rounded-full shrink-0 size-[44px]",children:l.jsx("div",{className:"relative shrink-0 size-[20px]",children:l.jsx("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 24 24",children:l.jsx("path",{d:xo.p356e7680,stroke:"var(--foreground)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})})})})}),c&&l.jsxs("div",{className:"settings-menu-container absolute right-0 top-full mt-2 backdrop-blur-md bg-card rounded-lg border border-border shadow-lg py-2 min-w-[200px] z-50",children:[l.jsxs("div",{className:"px-4 py-2 hover:bg-muted cursor-pointer flex items-center gap-2",onClick:()=>{a(!0),u(!1)},children:[l.jsx("div",{className:"relative shrink-0 size-[16px]",children:l.jsxs("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 24 24",children:[l.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"var(--foreground)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),l.jsx("path",{d:"M2 17L12 22L22 17",stroke:"var(--foreground)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),l.jsx("path",{d:"M2 12L12 17L22 12",stroke:"var(--foreground)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})]})}),l.jsx("span",{children:"comfy"})]}),l.jsxs("div",{className:"px-4 py-2 hover:bg-muted cursor-pointer flex items-center gap-2",onClick:()=>{r(!0),u(!1)},children:[l.jsx("div",{className:"relative shrink-0 size-[16px]",children:l.jsxs("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 24 24",children:[l.jsx("path",{d:"M12 11C9.79086 11 8 9.20914 8 7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7C16 9.20914 14.2091 11 12 11Z",stroke:"var(--foreground)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),l.jsx("path",{d:"M19 21C19 17.134 15.866 14 12 14C8.13401 14 5 17.134 5 21",stroke:"var(--foreground)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})]})}),l.jsx("span",{children:"API"})]})]})]})]})]})}),w&&l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:l.jsx("div",{className:"backdrop-blur-md bg-card content-stretch flex flex-col items-start justify-center p-[20px] relative rounded-lg shrink-0 border border-border min-w-[300px]",children:l.jsxs("div",{className:"flex flex-col gap-[12px] w-full",children:[l.jsx("label",{className:"text-sm font-medium text-foreground",children:$("workflow_name")}),l.jsx("input",{type:"text",value:C,onChange:z=>k(z.target.value),className:"px-4 py-2 bg-muted rounded-lg border border-border focus:outline-none focus:ring-2 focus:ring-primary/50",placeholder:$("enter_workflow_name")}),l.jsxs("div",{className:"flex gap-[12px] justify-end",children:[l.jsx("button",{onClick:W,className:"px-4 py-2 bg-muted rounded-lg hover:bg-muted/80 transition-colors",children:$("cancel")}),l.jsx("button",{onClick:V,className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:$("save")})]})]})})}),l.jsx(gA,{open:n,onOpenChange:r}),l.jsx(WA,{open:o,onOpenChange:a}),x&&l.jsx(UA,{onClose:()=>y(!1)})]})}function rz(e){const t=oz(e),n=b.forwardRef((r,o)=>{const{children:a,...c}=r,u=b.Children.toArray(a),p=u.find(iz);if(p){const f=p.props.children,h=u.map(m=>m===p?b.Children.count(f)>1?b.Children.only(null):b.isValidElement(f)?f.props.children:null:m);return l.jsx(t,{...c,ref:o,children:b.isValidElement(f)?b.cloneElement(f,void 0,h):null})}return l.jsx(t,{...c,ref:o,children:a})});return n.displayName=`${e}.Slot`,n}function oz(e){const t=b.forwardRef((n,r)=>{const{children:o,...a}=n;if(b.isValidElement(o)){const c=lz(o),u=az(a,o.props);return o.type!==b.Fragment&&(u.ref=r?Eo(r,c):c),b.cloneElement(o,u)}return b.Children.count(o)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var sz=Symbol("radix.slottable");function iz(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===sz}function az(e,t){const n={...t};for(const r in t){const o=e[r],a=t[r];/^on[A-Z]/.test(r)?o&&a?n[r]=(...u)=>{const p=a(...u);return o(...u),p}:o&&(n[r]=o):r==="style"?n[r]={...o,...a}:r==="className"&&(n[r]=[o,a].filter(Boolean).join(" "))}return{...e,...n}}function lz(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Xm=["Enter"," "],cz=["ArrowDown","PageUp","Home"],A5=["ArrowUp","PageDown","End"],uz=[...cz,...A5],dz={ltr:[...Xm,"ArrowRight"],rtl:[...Xm,"ArrowLeft"]},fz={ltr:["ArrowLeft"],rtl:["ArrowRight"]},hc="Menu",[Kl,pz,hz]=Qg(hc),[ui,z5]=Po(hc,[hz,gf,wf]),Cf=gf(),D5=wf(),[mz,di]=ui(hc),[gz,mc]=ui(hc),O5=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:a,modal:c=!0}=e,u=Cf(t),[p,f]=b.useState(null),h=b.useRef(!1),m=Kr(a),x=df(o);return b.useEffect(()=>{const y=()=>{h.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>h.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),l.jsx(Ab,{...u,children:l.jsx(mz,{scope:t,open:n,onOpenChange:m,content:p,onContentChange:f,children:l.jsx(gz,{scope:t,onClose:b.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:h,dir:x,modal:c,children:r})})})};O5.displayName=hc;var xz="MenuAnchor",c1=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=Cf(n);return l.jsx(zb,{...o,...r,ref:t})});c1.displayName=xz;var u1="MenuPortal",[vz,F5]=ui(u1,{forceMount:void 0}),$5=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,a=di(u1,t);return l.jsx(vz,{scope:t,forceMount:n,children:l.jsx(Io,{present:n||a.open,children:l.jsx(af,{asChild:!0,container:o,children:r})})})};$5.displayName=u1;var rr="MenuContent",[yz,d1]=ui(rr),B5=b.forwardRef((e,t)=>{const n=F5(rr,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,a=di(rr,e.__scopeMenu),c=mc(rr,e.__scopeMenu);return l.jsx(Kl.Provider,{scope:e.__scopeMenu,children:l.jsx(Io,{present:r||a.open,children:l.jsx(Kl.Slot,{scope:e.__scopeMenu,children:c.modal?l.jsx(wz,{...o,ref:t}):l.jsx(_z,{...o,ref:t})})})})}),wz=b.forwardRef((e,t)=>{const n=di(rr,e.__scopeMenu),r=b.useRef(null),o=Xe(t,r);return b.useEffect(()=>{const a=r.current;if(a)return Vg(a)},[]),l.jsx(f1,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Me(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),_z=b.forwardRef((e,t)=>{const n=di(rr,e.__scopeMenu);return l.jsx(f1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),bz=rz("MenuContent.ScrollLock"),f1=b.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:c,disableOutsidePointerEvents:u,onEntryFocus:p,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:x,onDismiss:y,disableOutsideScroll:w,...v}=e,C=di(rr,n),k=mc(rr,n),E=Cf(n),N=D5(n),j=pz(n),[P,L]=b.useState(null),T=b.useRef(null),D=Xe(t,T,C.onContentChange),$=b.useRef(0),Y=b.useRef(""),G=b.useRef(0),V=b.useRef(null),W=b.useRef("right"),z=b.useRef(0),M=w?cf:b.Fragment,F=w?{as:bz,allowPinchZoom:!0}:void 0,H=I=>{const U=Y.current+I,O=j().filter(ee=>!ee.disabled),B=document.activeElement,q=O.find(ee=>ee.ref.current===B)?.textValue,X=O.map(ee=>ee.textValue),ne=Rz(X,U,q),ie=O.find(ee=>ee.textValue===ne)?.ref.current;(function ee(J){Y.current=J,window.clearTimeout($.current),J!==""&&($.current=window.setTimeout(()=>ee(""),1e3))})(U),ie&&setTimeout(()=>ie.focus())};b.useEffect(()=>()=>window.clearTimeout($.current),[]),Bg();const R=b.useCallback(I=>W.current===V.current?.side&&zz(I,V.current?.area),[]);return l.jsx(yz,{scope:n,searchRef:Y,onItemEnter:b.useCallback(I=>{R(I)&&I.preventDefault()},[R]),onItemLeave:b.useCallback(I=>{R(I)||(T.current?.focus(),L(null))},[R]),onTriggerLeave:b.useCallback(I=>{R(I)&&I.preventDefault()},[R]),pointerGraceTimerRef:G,onPointerGraceIntentChange:b.useCallback(I=>{V.current=I},[]),children:l.jsx(M,{...F,children:l.jsx(sf,{asChild:!0,trapped:o,onMountAutoFocus:Me(a,I=>{I.preventDefault(),T.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:l.jsx(of,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:x,onDismiss:y,children:l.jsx(v5,{asChild:!0,...N,dir:k.dir,orientation:"vertical",loop:r,currentTabStopId:P,onCurrentTabStopIdChange:L,onEntryFocus:Me(p,I=>{k.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(Db,{role:"menu","aria-orientation":"vertical","data-state":r4(C.open),"data-radix-menu-content":"",dir:k.dir,...E,...v,ref:D,style:{outline:"none",...v.style},onKeyDown:Me(v.onKeyDown,I=>{const O=I.target.closest("[data-radix-menu-content]")===I.currentTarget,B=I.ctrlKey||I.altKey||I.metaKey,q=I.key.length===1;O&&(I.key==="Tab"&&I.preventDefault(),!B&&q&&H(I.key));const X=T.current;if(I.target!==X||!uz.includes(I.key))return;I.preventDefault();const ie=j().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);A5.includes(I.key)&&ie.reverse(),Lz(ie)}),onBlur:Me(e.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout($.current),Y.current="")}),onPointerMove:Me(e.onPointerMove,Zl(I=>{const U=I.target,O=z.current!==I.clientX;if(I.currentTarget.contains(U)&&O){const B=I.clientX>z.current?"right":"left";W.current=B,z.current=I.clientX}}))})})})})})})});B5.displayName=rr;var Cz="MenuGroup",p1=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(Be.div,{role:"group",...r,ref:t})});p1.displayName=Cz;var kz="MenuLabel",V5=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(Be.div,{...r,ref:t})});V5.displayName=kz;var Ld="MenuItem",b2="menu.itemSelect",kf=b.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,a=b.useRef(null),c=mc(Ld,e.__scopeMenu),u=d1(Ld,e.__scopeMenu),p=Xe(t,a),f=b.useRef(!1),h=()=>{const m=a.current;if(!n&&m){const x=new CustomEvent(b2,{bubbles:!0,cancelable:!0});m.addEventListener(b2,y=>r?.(y),{once:!0}),j3(m,x),x.defaultPrevented?f.current=!1:c.onClose()}};return l.jsx(H5,{...o,ref:p,disabled:n,onClick:Me(e.onClick,h),onPointerDown:m=>{e.onPointerDown?.(m),f.current=!0},onPointerUp:Me(e.onPointerUp,m=>{f.current||m.currentTarget?.click()}),onKeyDown:Me(e.onKeyDown,m=>{const x=u.searchRef.current!=="";n||x&&m.key===" "||Xm.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});kf.displayName=Ld;var H5=b.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...a}=e,c=d1(Ld,n),u=D5(n),p=b.useRef(null),f=Xe(t,p),[h,m]=b.useState(!1),[x,y]=b.useState("");return b.useEffect(()=>{const w=p.current;w&&y((w.textContent??"").trim())},[a.children]),l.jsx(Kl.ItemSlot,{scope:n,disabled:r,textValue:o??x,children:l.jsx(y5,{asChild:!0,...u,focusable:!r,children:l.jsx(Be.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:f,onPointerMove:Me(e.onPointerMove,Zl(w=>{r?c.onItemLeave(w):(c.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Me(e.onPointerLeave,Zl(w=>c.onItemLeave(w))),onFocus:Me(e.onFocus,()=>m(!0)),onBlur:Me(e.onBlur,()=>m(!1))})})})}),Nz="MenuCheckboxItem",W5=b.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return l.jsx(Z5,{scope:e.__scopeMenu,checked:n,children:l.jsx(kf,{role:"menuitemcheckbox","aria-checked":Td(n)?"mixed":n,...o,ref:t,"data-state":m1(n),onSelect:Me(o.onSelect,()=>r?.(Td(n)?!0:!n),{checkForDefaultPrevented:!1})})})});W5.displayName=Nz;var U5="MenuRadioGroup",[Sz,jz]=ui(U5,{value:void 0,onValueChange:()=>{}}),G5=b.forwardRef((e,t)=>{const{value:n,onValueChange:r,...o}=e,a=Kr(r);return l.jsx(Sz,{scope:e.__scopeMenu,value:n,onValueChange:a,children:l.jsx(p1,{...o,ref:t})})});G5.displayName=U5;var Y5="MenuRadioItem",K5=b.forwardRef((e,t)=>{const{value:n,...r}=e,o=jz(Y5,e.__scopeMenu),a=n===o.value;return l.jsx(Z5,{scope:e.__scopeMenu,checked:a,children:l.jsx(kf,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":m1(a),onSelect:Me(r.onSelect,()=>o.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});K5.displayName=Y5;var h1="MenuItemIndicator",[Z5,Ez]=ui(h1,{checked:!1}),X5=b.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,a=Ez(h1,n);return l.jsx(Io,{present:r||Td(a.checked)||a.checked===!0,children:l.jsx(Be.span,{...o,ref:t,"data-state":m1(a.checked)})})});X5.displayName=h1;var Pz="MenuSeparator",q5=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(Be.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});q5.displayName=Pz;var Iz="MenuArrow",Q5=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=Cf(n);return l.jsx(Ob,{...o,...r,ref:t})});Q5.displayName=Iz;var Mz="MenuSub",[PF,J5]=ui(Mz),Cl="MenuSubTrigger",e4=b.forwardRef((e,t)=>{const n=di(Cl,e.__scopeMenu),r=mc(Cl,e.__scopeMenu),o=J5(Cl,e.__scopeMenu),a=d1(Cl,e.__scopeMenu),c=b.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:p}=a,f={__scopeMenu:e.__scopeMenu},h=b.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return b.useEffect(()=>h,[h]),b.useEffect(()=>{const m=u.current;return()=>{window.clearTimeout(m),p(null)}},[u,p]),l.jsx(c1,{asChild:!0,...f,children:l.jsx(H5,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":r4(n.open),...e,ref:Eo(t,o.onTriggerChange),onClick:m=>{e.onClick?.(m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Me(e.onPointerMove,Zl(m=>{a.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!n.open&&!c.current&&(a.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:Me(e.onPointerLeave,Zl(m=>{h();const x=n.content?.getBoundingClientRect();if(x){const y=n.content?.dataset.side,w=y==="right",v=w?-5:5,C=x[w?"left":"right"],k=x[w?"right":"left"];a.onPointerGraceIntentChange({area:[{x:m.clientX+v,y:m.clientY},{x:C,y:x.top},{x:k,y:x.top},{x:k,y:x.bottom},{x:C,y:x.bottom}],side:y}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(m),m.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Me(e.onKeyDown,m=>{const x=a.searchRef.current!=="";e.disabled||x&&m.key===" "||dz[r.dir].includes(m.key)&&(n.onOpenChange(!0),n.content?.focus(),m.preventDefault())})})})});e4.displayName=Cl;var t4="MenuSubContent",n4=b.forwardRef((e,t)=>{const n=F5(rr,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,a=di(rr,e.__scopeMenu),c=mc(rr,e.__scopeMenu),u=J5(t4,e.__scopeMenu),p=b.useRef(null),f=Xe(t,p);return l.jsx(Kl.Provider,{scope:e.__scopeMenu,children:l.jsx(Io,{present:r||a.open,children:l.jsx(Kl.Slot,{scope:e.__scopeMenu,children:l.jsx(f1,{id:u.contentId,"aria-labelledby":u.triggerId,...o,ref:f,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{c.isUsingKeyboardRef.current&&p.current?.focus(),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:Me(e.onFocusOutside,h=>{h.target!==u.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Me(e.onEscapeKeyDown,h=>{c.onClose(),h.preventDefault()}),onKeyDown:Me(e.onKeyDown,h=>{const m=h.currentTarget.contains(h.target),x=fz[c.dir].includes(h.key);m&&x&&(a.onOpenChange(!1),u.trigger?.focus(),h.preventDefault())})})})})})});n4.displayName=t4;function r4(e){return e?"open":"closed"}function Td(e){return e==="indeterminate"}function m1(e){return Td(e)?"indeterminate":e?"checked":"unchecked"}function Lz(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Tz(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Rz(e,t,n){const o=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let c=Tz(e,Math.max(a,0));o.length===1&&(c=c.filter(f=>f!==n));const p=c.find(f=>f.toLowerCase().startsWith(o.toLowerCase()));return p!==n?p:void 0}function Az(e,t){const{x:n,y:r}=e;let o=!1;for(let a=0,c=t.length-1;a<t.length;c=a++){const u=t[a],p=t[c],f=u.x,h=u.y,m=p.x,x=p.y;h>r!=x>r&&n<(m-f)*(r-h)/(x-h)+f&&(o=!o)}return o}function zz(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Az(n,t)}function Zl(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Dz=O5,Oz=c1,Fz=$5,$z=B5,Bz=p1,Vz=V5,Hz=kf,Wz=W5,Uz=G5,Gz=K5,Yz=X5,Kz=q5,Zz=Q5,Xz=e4,qz=n4,Nf="DropdownMenu",[Qz]=Po(Nf,[z5]),un=z5(),[Jz,o4]=Qz(Nf),s4=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:a,onOpenChange:c,modal:u=!0}=e,p=un(t),f=b.useRef(null),[h,m]=ri({prop:o,defaultProp:a??!1,onChange:c,caller:Nf});return l.jsx(Jz,{scope:t,triggerId:Gr(),triggerRef:f,contentId:Gr(),open:h,onOpenChange:m,onOpenToggle:b.useCallback(()=>m(x=>!x),[m]),modal:u,children:l.jsx(Dz,{...p,open:h,onOpenChange:m,dir:r,modal:u,children:n})})};s4.displayName=Nf;var i4="DropdownMenuTrigger",a4=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,a=o4(i4,n),c=un(n);return l.jsx(Oz,{asChild:!0,...c,children:l.jsx(Be.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:Eo(t,a.triggerRef),onPointerDown:Me(e.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(a.onOpenToggle(),a.open||u.preventDefault())}),onKeyDown:Me(e.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&a.onOpenToggle(),u.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});a4.displayName=i4;var eD="DropdownMenuPortal",l4=e=>{const{__scopeDropdownMenu:t,...n}=e,r=un(t);return l.jsx(Fz,{...r,...n})};l4.displayName=eD;var c4="DropdownMenuContent",u4=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=o4(c4,n),a=un(n),c=b.useRef(!1);return l.jsx($z,{id:o.contentId,"aria-labelledby":o.triggerId,...a,...r,ref:t,onCloseAutoFocus:Me(e.onCloseAutoFocus,u=>{c.current||o.triggerRef.current?.focus(),c.current=!1,u.preventDefault()}),onInteractOutside:Me(e.onInteractOutside,u=>{const p=u.detail.originalEvent,f=p.button===0&&p.ctrlKey===!0,h=p.button===2||f;(!o.modal||h)&&(c.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});u4.displayName=c4;var tD="DropdownMenuGroup",nD=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=un(n);return l.jsx(Bz,{...o,...r,ref:t})});nD.displayName=tD;var rD="DropdownMenuLabel",oD=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=un(n);return l.jsx(Vz,{...o,...r,ref:t})});oD.displayName=rD;var sD="DropdownMenuItem",d4=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=un(n);return l.jsx(Hz,{...o,...r,ref:t})});d4.displayName=sD;var iD="DropdownMenuCheckboxItem",aD=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=un(n);return l.jsx(Wz,{...o,...r,ref:t})});aD.displayName=iD;var lD="DropdownMenuRadioGroup",cD=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=un(n);return l.jsx(Uz,{...o,...r,ref:t})});cD.displayName=lD;var uD="DropdownMenuRadioItem",dD=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=un(n);return l.jsx(Gz,{...o,...r,ref:t})});dD.displayName=uD;var fD="DropdownMenuItemIndicator",pD=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=un(n);return l.jsx(Yz,{...o,...r,ref:t})});pD.displayName=fD;var hD="DropdownMenuSeparator",mD=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=un(n);return l.jsx(Kz,{...o,...r,ref:t})});mD.displayName=hD;var gD="DropdownMenuArrow",xD=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=un(n);return l.jsx(Zz,{...o,...r,ref:t})});xD.displayName=gD;var vD="DropdownMenuSubTrigger",yD=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=un(n);return l.jsx(Xz,{...o,...r,ref:t})});yD.displayName=vD;var wD="DropdownMenuSubContent",_D=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=un(n);return l.jsx(qz,{...o,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_D.displayName=wD;var bD=s4,CD=a4,kD=l4,ND=u4,SD=d4;function Jh({...e}){return l.jsx(bD,{"data-slot":"dropdown-menu",...e})}function em({...e}){return l.jsx(CD,{"data-slot":"dropdown-menu-trigger",...e})}function tm({className:e,sideOffset:t=4,...n}){return l.jsx(kD,{children:l.jsx(ND,{"data-slot":"dropdown-menu-content",sideOffset:t,className:Te("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...n})})}function Or({className:e,inset:t,variant:n="default",...r}){return l.jsx(SD,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:Te("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}const f4={"to-figure":{label:"",prompt:"turn this photo into a character figure. Behind it, place a box with the character's image printed on it, and a computer showing the Blender modeling process on its screen. In front of the box, add a round plastic base with the character figure standing on it. set the scene indoors if possible",inputs:[{label:"Image",type:"image"}],outputs:[{label:"Image",type:"image"}]},"change-angle":{label:"",prompt:"change the Camera anglo a high-angled selfie perspective looking down at the woman, while preserving her exact facial features, expression, and clothing, Maintain the same living room interior background with the sofa, natural lighting, and overall photographic composition and style.",inputs:[{label:"Image",type:"image"}],outputs:[{label:"Image",type:"image"}]},"arch-to-model":{label:"",prompt:"convert this photo into a architecture model. Behind the model, there should be a cardboard box with an image of the architecture from the photo on it. There should also be a computer, with the content on the computer screen showing the Blender modeling process of the figurine. In front of the cardboard box, place a cardstock and put the architecture model from the photo I provided on it. I hope the PVC material can be clearly presented. It would be even better if the background is indoors.",inputs:[{label:"Image",type:"image"}],outputs:[{label:"Image",type:"image"}]},"combine-objects":{label:"",prompt:"",inputs:[{label:"Images",type:"image",acceptMultiple:!0}],outputs:[{label:"Image",type:"image"}]},"high-res":{label:"",prompt:"Enhance this image to high resolution",inputs:[{label:"Image",type:"image"}],outputs:[{label:"Image",type:"image"}]},"to-line-art":{label:"",prompt:"",inputs:[{label:"Image",type:"image"}],outputs:[{label:"Image",type:"image"}]},"colorize-by-palette":{label:"",prompt:"",inputs:[{label:"Image",type:"image"},{label:"Palette",type:"image"}],outputs:[{label:"Image",type:"image"}]},"generate-char-sheet":{label:"",prompt:"Character Design: , , Expression Sheet, Pose Sheet  , Costume Design",inputs:[{label:"Image",type:"image"}],outputs:[{label:"Image",type:"image"}]},"virtual-real-combo":{label:"/",prompt:"",inputs:[{label:"Image",type:"image"}],outputs:[{label:"Image",type:"image"}]},"anime-to-real":{label:"",prompt:"Generate a highly detailed photo of a girl cosplaying this illustration, at Comiket. Exactly replicate the same pose, body posture, hand gestures, facial expression, and camera framing as in the original illustration. Keep the same angle, perspective, and composition, without any deviation",inputs:[{label:"Image",type:"image"}],outputs:[{label:"Image",type:"image"}]},"pose-reference":{label:"",prompt:"",inputs:[{label:"Person",type:"image"},{label:"Pose",type:"image"}],outputs:[{label:"Image",type:"image"}]},"to-action-figure":{label:"",prompt:"Transform the person in the photo into a highly detailed action figure. Place the action figure inside its original toy packaging box, which should be styled like a collectible item. The box should have dynamic artwork and a clear plastic window showing the figure. Place the box in a clean, professional studio environment, like for a product photoshoot. Visualize this in a highly realistic way with attention to fine details on both the figure and the packaging.",inputs:[{label:"Image",type:"image"}],outputs:[{label:"Image",type:"image"}]},"to-funko-pop":{label:" Funko Pop",prompt:"Transform the person in the photo into the style of a Funko Pop figure packaging box, presented in an isometric perspective. Label the packaging with the title 'ZHOGUE'. Inside the box, showcase the figure based on the person in the photo, accompanied by their essential items (such as cosmetics, bags, or others). Next to the box, also display the actual figure itself outside of the packaging, rendered in a realistic and lifelike style.",inputs:[{label:"Image",type:"image"}],outputs:[{label:"Image",type:"image"}]},"to-lego":{label:"",prompt:"Transform the person in the photo into the style of a LEGO minifigure packaging box, presented in an isometric perspective. Label the packaging with the title 'ZHOGUE'. Inside the box, showcase the LEGO minifigure based on the person in the photo, accompanied by their essential items (such as cosmetics, bags, or others) as LEGO accessories. Next to the box, also display the actual LEGO minifigure itself outside of the packaging, rendered in a realistic and lifelike style.",inputs:[{label:"Image",type:"image"}],outputs:[{label:"Image",type:"image"}]},"to-knit-doll":{label:"",prompt:"A close-up, professionally composed photograph showing a handmade crocheted yarn doll being gently held in both hands. The doll has a rounded shape and an adorable chibi-style appearance, with vivid color contrasts and rich details. The hands holding the doll appear natural and tender, with clearly visible finger posture, and the skin texture and light-shadow transitions look soft and realistic, conveying a warm, tangible touch. The background is slightly blurred, depicting an indoor setting with a warm wooden tabletop and natural light streaming in through a window, creating a cozy and intimate atmosphere. The overall image conveys a sense of exquisite craftsmanship and a cherished, heartwarming emotion.",inputs:[{label:"Image",type:"image"}],outputs:[{label:"Image",type:"image"}]},"to-barbie":{label:"",prompt:"Transform the person in the photo into the style of a Barbie doll packaging box, presented in an isometric perspective. Label the packaging with the title 'ZHOGUE'. Inside the box, showcase the Barbie doll version of the person from the photo, accompanied by their essential items (such as cosmetics, bags, or others) designed as stylish Barbie accessories. Next to the box, also display the actual Barbie doll itself outside of the packaging, rendered in a realistic and lifelike style, resembling official Barbie promotional renders",inputs:[{label:"Image",type:"image"}],outputs:[{label:"Image",type:"image"}]},"to-gundam":{label:"",prompt:"Transform the person in the photo into the style of a Gundam model kit packaging box, presented in an isometric perspective. Label the packaging with the title 'ZHOGUE'. Inside the box, showcase a Gundam-style mecha version of the person from the photo, accompanied by their essential items (such as cosmetics, bags, or others) redesigned as futuristic mecha accessories. The packaging should resemble authentic Gunpla boxes, with technical illustrations, instruction-manual style details, and sci-fi typography. Next to the box, also display the actual Gundam-style mecha figure itself outside of the packaging, rendered in a realistic and lifelike style, similar to official Bandai promotional renders.",inputs:[{label:"Image",type:"image"}],outputs:[{label:"Image",type:"image"}]},"generate-child":{label:"",prompt:"",inputs:[{label:"Parent 1",type:"image"},{label:"Parent 2",type:"image"}],outputs:[{label:"Image",type:"image"}]},"product-render":{label:"",prompt:"turn this illustration of a perfume into a realistic version, Frosted glass bottle with a marble cap",inputs:[{label:"Design",type:"image"}],outputs:[{label:"Image",type:"image"}]},"pro-photo":{label:"",prompt:"Transform the person in the photo into highly stylized ultra-realistic portrait, with sharp facial features and flawless fair skin, standing confidently against a bold green gradient background. Dramatic, cinematic lighting highlights her facial structure, evoking the look of a luxury fashion magazine cover. Editorial photography style, high-detail, 4K resolution, symmetrical composition, minimalistic background",inputs:[{label:"Image",type:"image"}],outputs:[{label:"Image",type:"image"}]},"lighting-reference":{label:"",prompt:"",inputs:[{label:"Subject",type:"image"},{label:"Light Ref",type:"image"}],outputs:[{label:"Image",type:"image"}]},"generate-process":{label:"",prompt:"",inputs:[{label:"Subject",type:"image"}],outputs:[{label:"Image",type:"image"}]},"to-realistic":{label:"",prompt:"turn this illustration into realistic version",inputs:[{label:"Image",type:"image"}],outputs:[{label:"Image",type:"image"}]},"to-keychain":{label:"",prompt:"  ",inputs:[{label:"Subject & Bag",type:"image"}],outputs:[{label:"Image",type:"image"}]},"add-effect":{label:"",prompt:"",inputs:[{label:"Base",type:"image"},{label:"Effect",type:"image"}],outputs:[{label:"Image",type:"image"}]},"product-packaging":{label:"",prompt:"",inputs:[{label:"Sticker",type:"image"},{label:"Box",type:"image"}],outputs:[{label:"Image",type:"image"}]},"virtual-makeup":{label:"",prompt:"",inputs:[{label:"Face",type:"image"},{label:"Makeup",type:"image"}],outputs:[{label:"Image",type:"image"}]},"expression-reference":{label:"",prompt:"",inputs:[{label:"Face",type:"image"},{label:"Expression",type:"image"}],outputs:[{label:"Image",type:"image"}]}};function jD(){return Object.entries(f4).map(([e,t])=>({value:e,label:t.label}))}function ED(e){return f4[e]}function PD({src:e,alt:t,width:n=76,height:r=52,className:o=""}){return l.jsx("img",{src:e,alt:t,width:n,height:r,className:`object-cover ${o}`,style:{width:`${n}px`,height:`${r}px`}})}function ID({src:e,alt:t,className:n=""}){return l.jsx("div",{className:"w-[76px] h-[52px] rounded-[8px] overflow-hidden bg-white border border-border/20",children:l.jsx(PD,{src:e,alt:t,width:76,height:52,className:n})})}function MD({onClose:e}){const{addNode:t}=jt(),n=[{id:1,name:"",image:"https://trae-api-cn.mchost.guru/api/ide/v1/text_to_image?prompt=A%20young%20Asian%20girl%20with%20short%20black%20hair%20and%20glasses,%20wearing%20a%20black%20crop%20top%20and%20light%20blue%20wide-leg%20pants,%20full%20body,%203D%20rendering,%20clean%20background&image_size=portrait_4_3"},{id:2,name:"",image:"https://trae-api-cn.mchost.guru/api/ide/v1/text_to_image?prompt=A%20young%20Asian%20girl%20with%20short%20black%20hair%20and%20glasses,%20wearing%20a%20black%20crop%20top%20and%20light%20blue%20wide-leg%20pants,%20full%20body,%203D%20rendering,%20clean%20background&image_size=portrait_4_3"}],r=a=>{const c=`character-${Date.now()}`,u={x:window.innerWidth/2-100+Math.random()*50,y:window.innerHeight/2-50+Math.random()*50};t({id:c,type:"character",position:u,data:{label:a.name,characters:[a]}}),ve.success(`: ${a.name}`),e()},o=()=>{ve.success("...")};return l.jsxs("div",{className:"fixed top-1/2 -translate-y-1/2 z-50 border border-border/20 rounded-[16px] p-[8px] w-[220px] shadow-xl max-h-[calc(100vh-96px)] overflow-y-auto bg-card backdrop-blur-xl",style:{left:"64px"},children:[l.jsx("div",{className:"flex justify-center items-center gap-[10px] px-[8px] py-[4px] mb-[8px]",children:l.jsx("h3",{className:"text-[12px] font-bold text-muted-foreground",children:""})}),l.jsx("div",{className:"flex flex-col gap-[8px] mb-[8px]",children:n.map(a=>l.jsxs("div",{className:"flex items-center gap-[4px] w-full cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>r(a),children:[l.jsxs("div",{className:"flex items-center gap-[6px] flex-1 bg-muted rounded-[30px] px-[10px] py-[4px] h-[32px]",children:[l.jsx(De,{name:"userCircle",size:16,strokeWidth:1.28,className:"text-current"}),l.jsx("span",{className:"text-[12px] font-medium text-foreground",children:a.name})]}),l.jsx(ID,{src:a.image,alt:a.name})]},a.id))}),l.jsx("div",{className:"h-[1px] bg-border my-[8px] mx-[10px]"}),l.jsxs("div",{className:"flex items-center justify-center gap-[6px] bg-muted rounded-[15px] px-[10px] py-[4px] h-[32px] hover:bg-muted/80 transition-colors cursor-pointer",onClick:o,children:[l.jsx("span",{className:"text-[12px] font-medium text-muted-foreground",children:""}),l.jsx(De,{name:"plus",size:12,strokeWidth:1.5,className:"text-muted-foreground"})]})]})}function LD({active:e}){return l.jsxs("div",{className:"relative size-[24px]",children:[l.jsx("div",{className:`absolute border-2 border-solid left-[2px] rounded-[7px] size-[20px] top-[2px] transition-colors duration-200 ${e?"border-primary":"border-current"}`}),l.jsx("div",{className:`absolute border-2 border-solid left-[8px] rounded-[3px] size-[8px] top-[8px] transition-colors duration-200 ${e?"border-primary":"border-current"}`})]})}function TD({active:e}){const t={star1:"M1.91718 0.792179C1.75304 1.33202 1.33118 1.75462 0.792179 1.91887C1.33118 2.08322 1.75304 2.50572 1.91718 3.04556C2.08121 2.50572 2.50307 2.08322 3.04218 1.91887C2.50307 1.75462 2.08121 1.33202 1.91718 0.792179Z",star2:"M1.44645 0.597673C1.32261 1.00497 1.00433 1.32381 0.597673 1.44772C1.00433 1.57172 1.32261 1.89048 1.44645 2.29777C1.57021 1.89048 1.88849 1.57172 2.29522 1.44772C1.88849 1.32381 1.57021 1.00497 1.44645 0.597673Z"};return l.jsxs("div",{className:"relative size-[24px]",children:[l.jsx("div",{className:"absolute left-[13.5px] top-[3px] w-[3.8px] h-[3.8px]",children:l.jsx("svg",{viewBox:"0 0 3.83436 3.83774",className:"size-full overflow-visible",children:l.jsx("path",{d:t.star1,className:`transition-colors duration-200 ${e?"stroke-primary":"stroke-current"}`,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})}),l.jsx("div",{className:"absolute left-[16.5px] top-[9px] w-[2.9px] h-[2.9px]",children:l.jsx("svg",{viewBox:"0 0 2.89289 2.89545",className:"size-full overflow-visible",children:l.jsx("path",{d:t.star2,className:`transition-colors duration-200 ${e?"stroke-primary":"stroke-current"}`,strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})}),l.jsx("div",{className:"absolute left-[3.78px] top-[5.28px] size-[16.44px] flex items-center justify-center -rotate-45",children:l.jsxs("div",{className:"flex flex-col gap-[1.5px] items-center w-[3.75px]",children:[l.jsx("div",{className:"size-[6px] flex items-center justify-center",children:l.jsx("div",{className:"relative rounded-[1.5px] size-[3.75px]",children:l.jsx("div",{className:`absolute inset-[-1.125px] border-[2.25px] border-solid rounded-[2.625px] transition-colors duration-200 ${e?"border-primary":"border-current"}`})})}),l.jsx("div",{className:`h-[12px] w-[3px] rounded-[1.5px] transition-colors duration-200 ${e?"bg-primary":"bg-current"}`})]})})]})}function C2({active:e}){return l.jsx("div",{className:"relative size-[24px] flex items-center justify-center",children:l.jsxs("svg",{viewBox:"0 0 31 21",className:"w-[31px] h-[21px] scale-[1]",preserveAspectRatio:"xMidYMid meet",children:[l.jsx("circle",{cx:"9.5",cy:"4",r:"3",className:`transition-colors duration-200 ${e?"stroke-primary":"stroke-current"}`,strokeWidth:"2",fill:"none"}),l.jsx("circle",{cx:"21.5",cy:"17",r:"3",className:`transition-colors duration-200 ${e?"stroke-primary":"stroke-current"}`,strokeWidth:"2",fill:"none"}),l.jsx("path",{d:"M13.1852 4H21.0592C23.2428 4 23.8463 6.99993 21.8326 7.84439L9.16739 13.1556C7.15369 14.0001 7.75725 17 9.94084 17H17.8519",className:`transition-colors duration-200 ${e?"stroke-primary":"stroke-current"}`,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})})}function nm(){return l.jsx("div",{className:"h-0 relative shrink-0 w-[8px]",children:l.jsx("div",{className:"absolute inset-[-0.5px_0]",children:l.jsx("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 8 1",children:l.jsx("path",{d:"M0 0.5H8",stroke:"currentColor",strokeOpacity:"0.1",className:"text-foreground"})})})})}function RD(){const{addNode:e,setIsProcessing:t,setNodes:n,setEdges:r,nodes:o,edges:a}=jt(),{t:c}=rn(),[u,p]=b.useState(null),[f,h]=b.useState(!1),m=jD(),x=(w,v)=>{const C=`${w}-${Date.now()}`,k={x:window.innerWidth/2-100+Math.random()*50,y:window.innerHeight/2-50+Math.random()*50};let E={label:v},N=[];w==="imageEditor"?(N=[{id:`model-${Date.now()}`,label:"Gemini 2.5 Flash",type:"model",value:"gemini-2.5-flash-image"},{id:`mode-${Date.now()}`,label:"",type:"mode"},{id:`img-${Date.now()}`,label:"1",type:"image"}],E.inputs=N):w==="videoCreation"||w==="videoProduction"?(N=[{id:`img-${Date.now()}`,label:"",type:"image"},{id:`preset-${Date.now()}`,label:"",type:"preset"}],E.inputs=N):w==="textInput"?E={...E,text:""}:w==="character"&&(E={...E,characters:[]}),e({id:C,type:w==="imageEditor"||w==="videoCreation"||w==="videoProduction"||w==="imageReconstruction"?"imageEditorNode":w,position:k,data:E}),p(null)},y=w=>{const v=ED(w);if(!v)return;const C=`preset-${Date.now()}`,k={x:window.innerWidth/2-100,y:window.innerHeight/2-50},E=v.inputs.map((N,j)=>({id:`input-${Date.now()}-${j}`,label:N.label,type:N.type}));v.prompt,e({id:C,type:"imageEditorNode",position:k,data:{label:v.label,inputs:E}}),ve.success(`: ${v.label}`),p(null)};return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed left-[10px] top-1/2 -translate-y-1/2 z-50 flex flex-col items-center",children:l.jsxs("div",{className:"backdrop-blur-[10px] backdrop-filter bg-card/80 flex flex-col gap-[8px] items-center overflow-clip px-[8px] py-[16px] rounded-[9999px] w-[52px] border border-border/10",children:[l.jsxs(Jh,{open:u==="input",onOpenChange:w=>p(w?"input":null),children:[l.jsx(em,{asChild:!0,children:l.jsx("button",{className:"flex items-center justify-center rounded-[9999px] shrink-0 size-[24px] hover:opacity-70 transition-opacity focus:outline-none",children:l.jsx(LD,{active:u==="input"})})}),l.jsxs(tm,{side:"right",align:"start",sideOffset:16,className:"w-[200px] bg-card rounded-[16px] p-[8px] border-border/20 ",children:[l.jsx("div",{className:"px-[8px] py-[4px] opacity-40 text-xs text-foreground font-bold",children:c("nav_input")}),l.jsxs(Or,{onClick:()=>x("textInput",c("nav_text")),className:"h-[32px] rounded-[30px] flex items-center gap-[8px] px-[10px] py-[4px] hover:bg-secondary cursor-pointer focus:bg-secondary",children:[l.jsx(zm,{className:"size-[16px]",strokeWidth:2}),l.jsx("span",{className:"font-medium text-[12px]",children:c("nav_text")})]}),l.jsxs(Or,{onClick:()=>x("imageInput",c("nav_image")),className:"h-[32px] rounded-[30px] flex items-center gap-[8px] px-[10px] py-[4px] hover:bg-secondary cursor-pointer focus:bg-secondary",children:[l.jsx(ho,{className:"size-[16px]",strokeWidth:2}),l.jsx("span",{className:"font-medium text-[12px]",children:c("nav_image")})]}),l.jsxs(Or,{onClick:()=>x("videoInput",c("nav_video")),className:"h-[32px] rounded-[30px] flex items-center gap-[8px] px-[10px] py-[4px] hover:bg-secondary cursor-pointer focus:bg-secondary",children:[l.jsx(Pl,{className:"size-[16px]",strokeWidth:2}),l.jsx("span",{className:"font-medium text-[12px]",children:c("nav_video")})]}),l.jsx("div",{className:"h-px bg-border/10 mx-[10px] my-[4px]"}),l.jsx("div",{className:"px-[8px] py-[4px] opacity-40 text-xs text-foreground font-bold",children:c("nav_output")}),l.jsxs(Or,{onClick:()=>x("textPreview",c("nav_text_preview")),className:"h-[32px] rounded-[30px] flex items-center gap-[8px] px-[10px] py-[4px] hover:bg-secondary cursor-pointer focus:bg-secondary",children:[l.jsx(zm,{className:"size-[16px]",strokeWidth:2}),l.jsx("span",{className:"font-medium text-[12px]",children:c("nav_text_preview")})]}),l.jsxs(Or,{onClick:()=>x("preview",c("nav_image_preview")),className:"h-[32px] rounded-[30px] flex items-center gap-[8px] px-[10px] py-[4px] hover:bg-secondary cursor-pointer focus:bg-secondary",children:[l.jsx(ho,{className:"size-[16px]",strokeWidth:2}),l.jsx("span",{className:"font-medium text-[12px]",children:c("nav_image_preview")})]}),l.jsxs(Or,{onClick:()=>x("videoPreview",c("nav_video_preview")),className:"h-[32px] rounded-[30px] flex items-center gap-[8px] px-[10px] py-[4px] hover:bg-secondary cursor-pointer focus:bg-secondary",children:[l.jsx(Pl,{className:"size-[16px]",strokeWidth:2}),l.jsx("span",{className:"font-medium text-[12px]",children:c("nav_video_preview")})]})]})]}),l.jsx(nm,{}),l.jsxs(Jh,{open:u==="processing",onOpenChange:w=>p(w?"processing":null),children:[l.jsx(em,{asChild:!0,children:l.jsx("button",{className:"flex items-center justify-center rounded-[9999px] shrink-0 size-[24px] hover:opacity-70 transition-opacity focus:outline-none",children:l.jsx(TD,{active:u==="processing"})})}),l.jsxs(tm,{side:"right",align:"center",sideOffset:16,className:"w-[200px] bg-card rounded-[16px] p-[8px] border-border/20",children:[l.jsx("div",{className:"px-[8px] py-[4px] opacity-40 text-xs text-foreground font-bold",children:c("nav_processing")}),l.jsxs(Or,{onClick:()=>x("imageEditor",c("nav_image_editor")),className:"h-[32px] rounded-[30px] flex items-center gap-[8px] px-[10px] py-[4px] hover:bg-secondary cursor-pointer focus:bg-secondary",children:[l.jsx(ho,{className:"size-[16px]",strokeWidth:2}),l.jsx("span",{className:"font-medium text-[length:var(--text-p)]",children:c("nav_image_editor")})]}),l.jsxs(Or,{onClick:()=>x("imageReconstruction",c("nav_image_reconstruction")),className:"h-[32px] rounded-[30px] flex items-center gap-[8px] px-[10px] py-[4px] hover:bg-secondary cursor-pointer focus:bg-secondary",children:[l.jsx(ho,{className:"size-[16px]",strokeWidth:2}),l.jsx("span",{className:"font-medium text-[length:var(--text-p)]",children:c("nav_image_reconstruction")})]}),l.jsxs(Or,{onClick:()=>x("videoProduction",c("nav_video_production")),className:"h-[32px] rounded-[30px] flex items-center gap-[8px] px-[10px] py-[4px] hover:bg-secondary cursor-pointer focus:bg-secondary",children:[l.jsx(Pl,{className:"size-[16px]",strokeWidth:2}),l.jsx("span",{className:"font-medium text-[12px]",children:c("nav_video_production")})]})]})]}),l.jsx(nm,{}),l.jsxs(Jh,{open:u==="preset",onOpenChange:w=>p(w?"preset":null),children:[l.jsx(em,{asChild:!0,children:l.jsx("button",{className:"flex items-center justify-center rounded-[9999px] shrink-0 size-[24px] hover:opacity-70 transition-opacity focus:outline-none",children:l.jsx(C2,{active:u==="preset"})})}),l.jsxs(tm,{side:"right",align:"end",sideOffset:16,className:"w-[200px] bg-card rounded-[16px] p-[8px] border-border/20 max-h-[400px] overflow-y-auto hide-scrollbar",children:[l.jsx("div",{className:"px-[8px] py-[4px] opacity-40 text-xs text-foreground font-bold",children:c("nav_preset")}),m.map(w=>l.jsxs(Or,{onClick:()=>y(w.value),className:"h-[32px] rounded-[30px] flex items-center gap-[8px] px-[10px] py-[4px] hover:bg-secondary cursor-pointer focus:bg-secondary",children:[l.jsx("div",{className:"size-[16px] flex items-center justify-center",children:l.jsx(C2,{active:!1})}),l.jsx("span",{className:"font-medium text-[12px] truncate",children:w.label})]},w.value))]})]}),l.jsx(nm,{}),l.jsx("button",{className:"flex items-center justify-center rounded-[9999px] shrink-0 size-[24px] hover:opacity-70 transition-opacity focus:outline-none",onClick:()=>h(!f),children:l.jsx(De,{name:"userCircle",size:24,className:`transition-colors duration-200 ${f?"text-primary":"text-current"}`,strokeWidth:1.28})})]})}),f&&l.jsx(MD,{onClose:()=>h(!1)})]})}const es={label:{en:"None",zh:""},value:"None"},k2=[{id:"gender",name:{en:" Gender",zh:" "},options:[es,{label:{en:"Man",zh:""},value:"Man"},{label:{en:"Woman",zh:""},value:"Woman"}]},{id:"age",name:{en:" Age",zh:" "},options:[es,{label:{en:"Teenager (13-19)",zh:" (13-19)"},value:"Teenager"},{label:{en:"Young Adult (20-29)",zh:" (20-29)"},value:"Young Adult"},{label:{en:"Mid-Young Adult (30-49)",zh:" (30-49)"},value:"Mid-Young Adult"},{label:{en:"Middle-aged Adult (50-69)",zh:" (50-69)"},value:"Middle-aged Adult"},{label:{en:"Senior (70+)",zh:" (70+)"},value:"Senior"}]},{id:"body_weight",name:{en:" Body Weight",zh:" "},options:[es,{label:{en:"Underweight",zh:""},value:"Underweight"},{label:{en:"Normal weight",zh:""},value:"Normal weight"},{label:{en:"Overweight",zh:""},value:"Overweight"},{label:{en:"Obese",zh:""},value:"Obese"}]},{id:"face_shape",name:{en:" Face Shape",zh:" "},options:[es,{label:{en:"Oval",zh:""},value:"Oval"},{label:{en:"Round",zh:""},value:"Round"},{label:{en:"Square",zh:""},value:"Square"},{label:{en:"Heart-shaped",zh:""},value:"Heart-shaped"},{label:{en:"Long",zh:""},value:"Long"},{label:{en:"Rectangle",zh:""},value:"Rectangle"},{label:{en:"Triangle",zh:""},value:"Triangle"},{label:{en:"Inverted Triangle",zh:""},value:"Inverted Triangle"},{label:{en:"Pear-shaped",zh:""},value:"Pear-shaped"},{label:{en:"Oblong",zh:""},value:"Oblong"}]},{id:"skin_details",name:{en:" Skin Details",zh:" "},options:[es,{label:{en:"Smooth skin",zh:""},value:"Smooth skin"},{label:{en:"Spotted skin",zh:""},value:"Spotted skin"},{label:{en:"Dull skin",zh:""},value:"Dull skin"},{label:{en:"Healthy glow",zh:""},value:"Healthy glow"},{label:{en:"Natural skin tone",zh:""},value:"Natural skin tone"},{label:{en:"Acne/Freckles",zh:"/"},value:"Acne/Freckles"},{label:{en:"Wrinkles/Aged look",zh:"/"},value:"Wrinkles/Aged look"}]},{id:"skin_texture",name:{en:" Skin Texture",zh:" "},options:[es,{label:{en:"Flawless skin",zh:""},value:"Flawless skin"},{label:{en:"Textured skin",zh:""},value:"Textured skin"},{label:{en:"Matte skin",zh:""},value:"Matte skin"},{label:{en:"Glossy skin",zh:""},value:"Glossy skin"},{label:{en:"Enhanced detail texture",zh:""},value:"Enhanced detail texture"}]},{id:"hairstyle",name:{en:" Hairstyle",zh:" "},options:[es,{label:{en:"Asymmetrical cut",zh:""},value:"Asymmetrical cut"},{label:{en:"Blunt cut",zh:""},value:"Blunt cut"},{label:{en:"Bob cut",zh:""},value:"Bob cut"},{label:{en:"Buzz cut",zh:""},value:"Buzz cut"},{label:{en:"Choppy cut",zh:""},value:"Choppy cut"},{label:{en:"Curtain bangs",zh:""},value:"Curtain bangs"},{label:{en:"Faux hawk",zh:""},value:"Faux hawk"},{label:{en:"Layered cut",zh:""},value:"Layered cut"},{label:{en:"Long bob",zh:""},value:"Long bob"},{label:{en:"Mohawk",zh:""},value:"Mohawk"},{label:{en:"Pixie cut",zh:""},value:"Pixie cut"},{label:{en:"Shag cut",zh:""},value:"Shag cut"},{label:{en:"Undercut",zh:""},value:"Undercut"},{label:{en:"French braids",zh:""},value:"French braids"},{label:{en:"Box braids",zh:""},value:"Box braids"},{label:{en:"Dreadlocks",zh:""},value:"Dreadlocks"}]},{id:"hair_color",name:{en:" Hair Color",zh:" "},options:[es,{label:{en:"Black",zh:""},value:"Black"},{label:{en:"Brown",zh:""},value:"Brown"},{label:{en:"Blonde",zh:""},value:"Blonde"},{label:{en:"Red",zh:""},value:"Red"},{label:{en:"Auburn",zh:""},value:"Auburn"},{label:{en:"Gray",zh:""},value:"Gray"},{label:{en:"White",zh:""},value:"White"},{label:{en:"Salt and pepper",zh:""},value:"Salt and pepper"}]}];function AD({onSwitchToEditor:e}){const[t,n]=b.useState({online:!1,models:[]}),[r,o]=b.useState(!1),[a,c]=b.useState({top:0,left:0}),u=b.useRef(null),{images:p,setProcessedImage:f,prompt:h,setPrompt:m,isProcessing:x,setIsProcessing:y,selectedModel:w,setSelectedModel:v,selectedQuantity:C,setSelectedQuantity:k,selectedAspectRatio:E,setSelectedAspectRatio:N,selectedQuality:j,setSelectedQuality:P,guidanceScale:L,setGuidanceScale:T,seed:D,setSeed:$,facialSelections:Y,setFacialSelections:G,enableStates:V,setEnableStates:W}=jt(),{addAsset:z}=dc(),{t:M,language:F}=rn(),[H,R]=b.useState(null),I=b.useRef(null),[U,O]=b.useState([]),[B,q]=b.useState(0),[X,ne]=b.useState(!1),[ie,ee]=b.useState(!1),J=b.useRef(null),le=b.useRef(null),de=[{value:"1:1",label:"1:1",icon:"square"},{value:"16:9",label:"16:9",icon:"landscape"},{value:"9:16",label:"9:16",icon:"portrait"},{value:"4:3",label:"4:3",icon:"landscape"},{value:"3:4",label:"3:4",icon:"portrait"},{value:"3:2",label:"3:2",icon:"landscape"},{value:"2:3",label:"2:3",icon:"portrait"}],me=[{value:"512",label:"512 ()"},{value:"1K",label:"1K"},{value:"2K",label:"2K"},{value:"4K",label:"4K ()"}];b.useEffect(()=>{const ce=ye=>{I.current&&!I.current.contains(ye.target)&&R(null)};return document.addEventListener("mousedown",ce),()=>document.removeEventListener("mousedown",ce)},[]),b.useEffect(()=>{y(!1)},[]),b.useEffect(()=>{const ce=async()=>{const Ee=await xP();n(Ee)};ce();const ye=setInterval(ce,3e4);return()=>clearInterval(ye)},[]),b.useEffect(()=>{const ce=()=>{if(u.current&&r){const ye=u.current.getBoundingClientRect();c({top:ye.top-4,left:ye.left})}};return r&&(ce(),window.addEventListener("scroll",ce,!0),window.addEventListener("resize",ce)),()=>{window.removeEventListener("scroll",ce,!0),window.removeEventListener("resize",ce)}},[r]),b.useEffect(()=>{const ce=ye=>{if(u.current&&!u.current.contains(ye.target)){const Ee=document.getElementById("model-dropdown-portal");Ee&&!Ee.contains(ye.target)&&o(!1)}if(J.current&&!J.current.contains(ye.target)){const Ee=document.getElementById("aspect-dropdown-portal");Ee&&!Ee.contains(ye.target)&&ne(!1)}if(le.current&&!le.current.contains(ye.target)){const Ee=document.getElementById("quality-dropdown-portal");Ee&&!Ee.contains(ye.target)&&ee(!1)}};return(r||X||ie)&&document.addEventListener("mousedown",ce),()=>document.removeEventListener("mousedown",ce)},[r,X,ie]);const te=(ce,ye)=>{G(Ee=>({...Ee,[ce]:ye})),R(null)},ae=(ce,ye)=>{const Ee=k2.find(Ue=>Ue.id===ce);if(!Ee)return ye;const qe=Ee.options.find(Ue=>Ue.value===ye);return qe?F==="zh"?qe.label.zh:qe.label.en:ye},fe=async()=>{console.log("handleGenerate called");const ce=Le(),ye=ce?`${ce}

User additional prompt: ${h}`:h;if(!ye.trim()){ve.error(M("please_enter_prompt"));return}try{y(!0),console.log("Selected model:",w),console.log("Selected aspect ratio:",E),console.log("Selected quality:",j);const Ee=Object.keys(p).filter(zt=>zt.startsWith("temp-image-")),qe=Ee.length>0?Ee.sort().reverse()[0]:null,Ue=qe?p[qe]:null,_e=[];if(Ue){const zt=Ue.startsWith("data:")?Ue.split(",")[1]:Ue,$e=Ue.startsWith("data:")?Ue.split(";")[0].split(":")[1]:"image/png";_e.push({base64:zt,mimeType:$e})}console.log("Generating image with prompt:",ye),console.log("Connected images:",_e.length);const we=await e3(_e,ye,{imageWeight:80,aspectRatio:E,model:w,imageSize:j,guidance_scale:L,seed:D});if(console.log("Generated image result:",we?"success":"failed"),console.log("Result type:",typeof we),console.log("Result length:",we?.length),we&&typeof we=="string"&&we.length>100){const zt=we.startsWith("data:")?we:`data:image/png;base64,${we}`;console.log("Image data prepared, length:",zt.length);const $e=[zt];O($e),q(0),$e.forEach((Qe,Ht)=>{const Pt=`temp-result-${Date.now()}-${Ht}`;f(Pt,Qe),z({id:Pt,name:`Generated ${Date.now()}-${Ht}`,type:"image",url:Qe,timestamp:Date.now()})}),ve.success(M("image_generated_success"))}else console.error("Invalid result:",we),ve.error(M("generation_failed_no_data"))}catch(Ee){console.error("Image generation failed:",Ee),ve.error(M("image_generation_failed")+": "+(Ee.message||M("unknown_error")))}finally{y(!1)}},Le=()=>{const ce=[];if(V.facialFeatures){const ye=[];Y.gender!=="None"&&ye.push(`Gender: ${Y.gender}`),Y.age!=="None"&&ye.push(`Age: ${Y.age}`),Y.body_weight!=="None"&&ye.push(`Body type: ${Y.body_weight}`),Y.face_shape!=="None"&&ye.push(`Face shape: ${Y.face_shape}`),Y.skin_details!=="None"&&ye.push(`Skin details: ${Y.skin_details}`),Y.skin_texture!=="None"&&ye.push(`Skin texture: ${Y.skin_texture}`),Y.hairstyle!=="None"&&ye.push(`Hairstyle: ${Y.hairstyle}`),Y.hair_color!=="None"&&ye.push(`Hair color: ${Y.hair_color}`),ye.length>0&&ce.push(`Character settings: ${ye.join(", ")}`)}return V.cameraControl&&ce.push("Camera settings: 50mm lens, f/2.8 aperture, 1/125s shutter speed, ISO 100, eye-level angle"),V.imageStyle&&ce.push("Style: natural photography style, medium depth of field"),ce.join(". ")},Re=ce=>{W({...V,[ce]:!V[ce]})};return l.jsx("div",{className:"w-full h-full flex flex-col bg-background relative z-0",style:{paddingTop:"60px"},children:l.jsx("div",{className:"flex flex-1 overflow-hidden gap-[10px] p-[10px]",children:l.jsxs("div",{className:"flex flex-1 gap-[10px]",children:[l.jsxs("div",{className:"flex-shrink-0 flex flex-col gap-[10px] overflow-y-auto items-stretch left-panel-scroll",style:{width:"480px",scrollbarWidth:"none",msOverflowStyle:"none"},children:[l.jsxs("div",{className:"w-full rounded-[20px] px-2 py-4 bg-[rgba(0,0,0,0.03)] dark:bg-[rgba(255,255,255,0.05)]",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(De,{name:"userCircle",size:20,className:"text-foreground"}),l.jsx("h3",{className:"text-base font-bold text-foreground",children:M("character_settings")})]}),l.jsxs("div",{className:"w-full rounded-[20px] p-[8px] mb-3 bg-creation-card-bg",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsxs("div",{className:"flex items-center gap-[6px] flex-1",children:[l.jsx(De,{name:"faceExtract",size:16,className:"text-foreground"}),l.jsx("span",{className:"text-[13px] font-medium text-foreground",children:M("facial_feature_extraction")})]}),l.jsx("button",{className:"flex items-center justify-center rounded-full bg-black/[0.03] dark:bg-white/[0.1]",style:{width:"36px",height:"36px"},children:l.jsx(De,{name:"plus",size:16,strokeWidth:1.5,className:"text-foreground"})}),l.jsx("button",{className:"flex items-center justify-center rounded-full border border-foreground",style:{width:"36px",height:"36px"},children:l.jsx(De,{name:"refresh",size:16,className:"text-foreground"})})]}),l.jsx("div",{className:"w-full h-[2px] bg-border mb-3"}),l.jsx("div",{className:"flex flex-col gap-1 mb-3",ref:I,children:k2.map(ce=>l.jsxs("div",{className:"relative",children:[l.jsxs("div",{className:"flex items-center justify-between p-2 cursor-pointer rounded-lg",style:{backgroundColor:"transparent"},onClick:()=>R(H===ce.id?null:ce.id),children:[l.jsx("span",{className:"text-[13px] text-foreground",children:F==="zh"?ce.name.zh:ce.name.en}),l.jsxs("div",{className:"flex items-center gap-[10px]",children:[l.jsx("span",{className:`text-[13px] font-medium ${Y[ce.id]==="None"?"text-muted-foreground":"text-foreground"}`,children:ae(ce.id,Y[ce.id])}),l.jsx(De,{name:"chevronDown",size:20,className:`transition-transform ${H===ce.id?"rotate-180":""}`})]})]}),H===ce.id&&l.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 bg-card rounded-lg shadow-lg border border-border z-50 max-h-48 overflow-y-auto",children:ce.options.map(ye=>l.jsx("div",{className:`px-3 py-2 text-[13px] cursor-pointer hover:bg-muted/50 ${Y[ce.id]===ye.value?"bg-primary/10 text-primary font-medium":"text-foreground"}`,onClick:Ee=>{Ee.stopPropagation(),te(ce.id,ye.value)},children:F==="zh"?ye.label.zh:ye.label.en},ye.value))})]},ce.id))}),l.jsx("div",{className:"w-full h-[2px] bg-border mb-3"}),l.jsxs("div",{className:"flex items-center justify-end gap-2 px-2 py-[10px]",children:[l.jsx("span",{className:"text-[13px] text-foreground",children:M("enable")}),l.jsx("div",{className:`w-12 h-7 rounded-full p-1 flex cursor-pointer transition-all duration-200 ${V.facialFeatures?"bg-primary":""}`,style:{backgroundColor:V.facialFeatures?void 0:"rgba(0, 0, 0, 0.05)"},onClick:()=>Re("facialFeatures"),children:l.jsx("div",{className:`w-5 h-5 rounded-full shadow-md transition-transform duration-200 bg-white dark:bg-[#323232] ${V.facialFeatures?"translate-x-5":"translate-x-0"}`})})]})]}),l.jsxs("div",{className:"w-full rounded-[16px] p-4 mb-3 bg-creation-card-bg",style:{marginTop:"8px"},children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(De,{name:"pose",size:20,className:"text-foreground"}),l.jsx("span",{className:"text-sm font-medium text-foreground",children:M("pose_reference")})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{className:"flex items-center justify-center rounded-full bg-black/[0.03] dark:bg-white/[0.1]",style:{width:"36px",height:"36px"},children:l.jsx(De,{name:"refresh",size:20,className:"text-foreground"})}),l.jsx("button",{className:"flex items-center justify-center rounded-full bg-black/[0.03] dark:bg-white/[0.1]",style:{width:"36px",height:"36px"},children:l.jsx(De,{name:"plus",size:20,className:"text-foreground"})})]})]}),l.jsx("div",{className:"w-full h-[2px] bg-border mb-4"}),l.jsx("div",{className:"flex items-center gap-3 mb-4",children:l.jsx("div",{className:"w-20 h-24 rounded-lg bg-muted flex items-center justify-center overflow-hidden border border-primary",children:l.jsx("img",{src:"../.figma/image/mliv6m2e-midq3sr.png",className:"w-full h-full object-cover"})})}),l.jsx("div",{className:"w-full h-[2px] bg-border mb-4"}),l.jsxs("div",{className:"flex items-center justify-between px-2",children:[l.jsx("span",{className:"text-sm font-medium text-foreground",children:M("enable")}),l.jsx("div",{className:`w-12 h-7 rounded-full p-1 flex cursor-pointer transition-all duration-200 ${V.poseReference?"bg-primary":""}`,style:{backgroundColor:V.poseReference?void 0:"rgba(0, 0, 0, 0.05)"},onClick:()=>Re("poseReference"),children:l.jsx("div",{className:`w-5 h-5 rounded-full shadow-md transition-transform duration-200 bg-white dark:bg-[#323232] ${V.poseReference?"translate-x-5":"translate-x-0"}`})})]})]}),l.jsxs("div",{className:"w-full rounded-[16px] p-4 bg-creation-card-bg",style:{marginTop:"8px"},children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(De,{name:"tshirt",size:20,className:"text-foreground"}),l.jsx("span",{className:"text-sm font-medium text-foreground",children:M("clothing")})]}),l.jsx("button",{className:"flex items-center justify-center rounded-full bg-black/[0.03] dark:bg-white/[0.1]",style:{width:"36px",height:"36px"},children:l.jsx(De,{name:"plus",size:20,className:"text-foreground"})})]}),l.jsx("div",{className:"w-full h-[2px] bg-border mb-4"}),l.jsxs("div",{className:"flex flex-wrap gap-3 mb-4 px-2",children:[l.jsx("span",{className:"px-4 py-2 rounded-full bg-muted text-sm font-medium text-foreground",children:M("all")}),l.jsx("span",{className:"px-4 py-2 rounded-full bg-muted text-sm font-medium text-foreground",children:M("tops_outerwear")}),l.jsx("span",{className:"px-4 py-2 rounded-full bg-muted text-sm font-medium text-foreground",children:M("bottoms")}),l.jsx("span",{className:"px-4 py-2 rounded-full bg-foreground text-sm font-medium text-card",children:M("dresses")}),l.jsx("span",{className:"px-4 py-2 rounded-full bg-muted text-sm font-medium text-foreground",children:M("footwear")}),l.jsx("span",{className:"px-4 py-2 rounded-full bg-muted text-sm font-medium text-foreground",children:M("accessories")}),l.jsx("span",{className:"px-4 py-2 rounded-full bg-muted text-sm font-medium text-foreground",children:M("other")})]}),l.jsxs("div",{className:"flex items-center gap-3 mb-4 px-2",children:[l.jsx("div",{className:"w-24 h-24 rounded-lg bg-muted flex items-center justify-center overflow-hidden",children:l.jsx("img",{src:"../.figma/image/mliv6m2e-lzto829.png",className:"w-full h-full object-cover"})}),l.jsx("button",{className:"flex items-center justify-center w-12 h-12 rounded-lg bg-muted",children:l.jsx(De,{name:"plus",size:24,className:"text-foreground"})})]}),l.jsx("div",{className:"w-full h-[2px] bg-border mb-4"}),l.jsxs("div",{className:"flex items-center justify-between px-2",children:[l.jsx("span",{className:"text-sm font-medium text-foreground",children:M("enable")}),l.jsx("div",{className:`w-12 h-7 rounded-full p-1 flex cursor-pointer transition-all duration-200 ${V.clothing?"bg-primary":""}`,style:{backgroundColor:V.clothing?void 0:"rgba(0, 0, 0, 0.05)"},onClick:()=>Re("clothing"),children:l.jsx("div",{className:`w-5 h-5 rounded-full shadow-md transition-transform duration-200 bg-white dark:bg-[#323232] ${V.clothing?"translate-x-5":"translate-x-0"}`})})]})]})]}),l.jsxs("div",{className:"w-full rounded-[20px] px-2 py-4 bg-[rgba(0,0,0,0.03)] dark:bg-[rgba(255,255,255,0.05)]",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(De,{name:"userCircle",size:20,className:"text-foreground"}),l.jsx("h3",{className:"text-base font-bold text-foreground",children:M("scene_composition")})]}),l.jsxs("div",{className:"rounded-[20px] p-[8px] mb-3 bg-creation-card-bg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(De,{name:"cameraControl",size:20,className:"text-foreground"}),l.jsx("span",{className:"text-sm font-medium text-foreground",children:M("camera_control")})]}),l.jsx("div",{className:"flex items-center gap-3",children:l.jsx("button",{className:"flex items-center justify-center rounded-full border border-foreground",style:{width:"36px",height:"36px"},children:l.jsx(De,{name:"settings",size:20,className:"text-foreground"})})})]}),l.jsx("div",{className:"w-full h-[2px] bg-border mb-4"}),l.jsxs("div",{className:"grid grid-cols-1 gap-1 mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-2",children:[l.jsxs("span",{className:"text-sm text-foreground",children:[" ",M("lens_type")]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-medium text-foreground",children:M("none")}),l.jsx(De,{name:"chevronDown",size:16,className:"text-muted-foreground"})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-2",children:[l.jsxs("span",{className:"text-sm text-foreground",children:[" ",M("focal_length")]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-medium text-foreground",children:"50mm"}),l.jsx(De,{name:"chevronDown",size:16,className:"text-muted-foreground"})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-2",children:[l.jsxs("span",{className:"text-sm text-foreground",children:[" ",M("aperture")]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-medium text-foreground",children:"f/2.8"}),l.jsx(De,{name:"chevronDown",size:16,className:"text-muted-foreground"})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-2",children:[l.jsxs("span",{className:"text-sm text-foreground",children:[" ",M("shutter_speed")]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-medium text-foreground",children:"1/125s"}),l.jsx(De,{name:"chevronDown",size:16,className:"text-muted-foreground"})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-2",children:[l.jsxs("span",{className:"text-sm text-foreground",children:[" ",M("iso_value")]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-medium text-foreground",children:"100"}),l.jsx(De,{name:"chevronDown",size:16,className:"text-muted-foreground"})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-2",children:[l.jsxs("span",{className:"text-sm text-foreground",children:[" ",M("shooting_angle")]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-medium text-foreground",children:M("eye_level")}),l.jsx(De,{name:"chevronDown",size:16,className:"text-muted-foreground"})]})]})]}),l.jsx("div",{className:"w-full h-[2px] bg-border mb-4"}),l.jsxs("div",{className:"flex items-center justify-between px-2",children:[l.jsx("span",{className:"text-sm font-medium text-foreground",children:M("enable")}),l.jsx("div",{className:`w-12 h-7 rounded-full p-1 flex cursor-pointer transition-all duration-200 ${V.cameraControl?"bg-primary":""}`,style:{backgroundColor:V.cameraControl?void 0:"rgba(0, 0, 0, 0.05)"},onClick:()=>Re("cameraControl"),children:l.jsx("div",{className:`w-5 h-5 rounded-full shadow-md transition-transform duration-200 bg-white dark:bg-[#323232] ${V.cameraControl?"translate-x-5":"translate-x-0"}`})})]})]}),l.jsxs("div",{className:"rounded-[20px] p-[8px] bg-white dark:bg-[#323232]",style:{marginTop:"8px"},children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(De,{name:"imageStyle",size:20,className:"text-foreground"}),l.jsx("span",{className:"text-sm font-medium text-foreground",children:M("image_style")})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{className:"flex items-center justify-center rounded-full bg-black/[0.03] dark:bg-white/[0.1]",style:{width:"36px",height:"36px"},children:l.jsx(De,{name:"refresh",size:20,className:"text-foreground"})}),l.jsx("button",{className:"flex items-center justify-center rounded-full border border-foreground",style:{width:"36px",height:"36px"},children:l.jsx(De,{name:"settings",size:20,className:"text-foreground"})})]})]}),l.jsx("div",{className:"w-full h-[2px] bg-border mb-4"}),l.jsxs("div",{className:"grid grid-cols-1 gap-1 mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-2",children:[l.jsxs("span",{className:"text-sm text-foreground",children:[" ",M("portrait_type")]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-medium text-foreground",children:M("none")}),l.jsx(De,{name:"chevronDown",size:16,className:"text-muted-foreground"})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-2",children:[l.jsxs("span",{className:"text-sm text-foreground",children:[" ",M("imaging_style")]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-medium text-foreground",children:M("natural")}),l.jsx(De,{name:"chevronDown",size:16,className:"text-muted-foreground"})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-2",children:[l.jsxs("span",{className:"text-sm text-foreground",children:[" ",M("art_style")]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-medium text-foreground",children:M("none")}),l.jsx(De,{name:"chevronDown",size:16,className:"text-muted-foreground"})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-2",children:[l.jsxs("span",{className:"text-sm text-foreground",children:[" ",M("art_effect")]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-medium text-foreground",children:M("none")}),l.jsx(De,{name:"chevronDown",size:16,className:"text-muted-foreground"})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-2",children:[l.jsxs("span",{className:"text-sm text-foreground",children:[" ",M("depth_of_field")]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-medium text-foreground",children:M("medium")}),l.jsx(De,{name:"chevronDown",size:16,className:"text-muted-foreground"})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-2",children:[l.jsxs("span",{className:"text-sm text-foreground",children:[" ",M("photo_effect")]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-medium text-foreground",children:M("none")}),l.jsx(De,{name:"chevronDown",size:16,className:"text-muted-foreground"})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-2",children:[l.jsxs("span",{className:"text-sm text-foreground",children:[" ",M("special_effect")]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-medium text-foreground",children:M("none")}),l.jsx(De,{name:"chevronDown",size:16,className:"text-muted-foreground"})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-2",children:[l.jsxs("span",{className:"text-sm text-foreground",children:[" ",M("post_processing")]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-medium text-foreground",children:M("none")}),l.jsx(De,{name:"chevronDown",size:16,className:"text-muted-foreground"})]})]})]}),l.jsx("div",{className:"w-full h-[2px] bg-border mb-4"}),l.jsxs("div",{className:"flex items-center justify-between px-2",children:[l.jsx("span",{className:"text-sm font-medium text-foreground",children:M("enable")}),l.jsx("div",{className:`w-12 h-7 rounded-full p-1 flex cursor-pointer transition-all duration-200 ${V.imageStyle?"bg-primary":""}`,style:{backgroundColor:V.imageStyle?void 0:"rgba(0, 0, 0, 0.05)"},onClick:()=>Re("imageStyle"),children:l.jsx("div",{className:`w-5 h-5 rounded-full shadow-md transition-transform duration-200 bg-white dark:bg-[#323232] ${V.imageStyle?"translate-x-5":"translate-x-0"}`})})]})]})]}),l.jsxs("div",{className:"w-full rounded-[20px] px-2 py-4 bg-[rgba(0,0,0,0.03)] dark:bg-[rgba(255,255,255,0.05)]",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(De,{name:"wand",size:20,className:"text-foreground"}),l.jsx("h3",{className:"text-base font-bold text-foreground",children:M("style_settings")})]}),l.jsxs("div",{className:"rounded-[20px] p-[8px] mb-3 bg-creation-card-bg",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(De,{name:"wand",size:20,className:"text-foreground"}),l.jsx("span",{className:"text-sm font-medium text-foreground",children:M("visual_deconstruction")})]})}),l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"w-16 h-16 rounded-lg bg-muted flex items-center justify-center overflow-hidden outline outline-1 outline-primary",children:l.jsx("img",{src:"../.figma/image/mliv6m2e-xqjh207.png",className:"w-full h-full object-cover"})}),l.jsx("div",{className:"flex items-center gap-3",children:l.jsx("button",{className:"flex items-center justify-center rounded-full bg-black/[0.03] dark:bg-white/[0.1]",style:{width:"36px",height:"36px"},children:l.jsx(De,{name:"refresh",size:20,className:"text-foreground"})})})]}),l.jsx("div",{className:"w-full h-[2px] bg-border mb-4"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 px-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-foreground",children:M("english")}),l.jsx("span",{className:"text-sm text-muted-foreground",children:M("chinese")})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-foreground",children:M("description")}),l.jsx("span",{className:"text-sm text-muted-foreground",children:M("matrix")})]})]}),l.jsx("div",{className:"bg-muted/50 rounded-lg p-3 mb-4 mx-2",children:l.jsx("p",{className:"text-sm text-foreground",children:"Cinematic mirror selfie of an elegant woman in a shimmering champagne gown holding a vintage camera. Dressing room setting with soft studio lighting, Dutch angle composition, and shallow depth of field. High-end fashion aesthetic with bokeh backstage details."})}),l.jsx("div",{className:"w-full h-[2px] bg-border mb-4"}),l.jsxs("div",{className:"flex items-center justify-between px-2",children:[l.jsx("span",{className:"text-sm font-medium text-foreground",children:M("enable")}),l.jsx("div",{className:`w-12 h-7 rounded-full p-1 flex cursor-pointer transition-all duration-200 ${V.visualDeconstruction?"bg-primary":""}`,style:{backgroundColor:V.visualDeconstruction?void 0:"rgba(0, 0, 0, 0.05)"},onClick:()=>Re("visualDeconstruction"),children:l.jsx("div",{className:`w-5 h-5 rounded-full shadow-md transition-transform duration-200 bg-white dark:bg-[#323232] ${V.visualDeconstruction?"translate-x-5":"translate-x-0"}`})})]})]}),l.jsx("div",{className:"rounded-[20px] p-[8px] bg-white dark:bg-[#323232]",style:{marginTop:"8px"},children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(De,{name:"wand",size:20,className:"text-foreground"}),l.jsx("span",{className:"text-sm font-medium text-foreground",children:M("prompt_preset")})]}),l.jsx("button",{className:"flex items-center justify-center rounded-full bg-black/[0.03] dark:bg-white/[0.1]",style:{width:"36px",height:"36px"},children:l.jsx(De,{name:"plus",size:20,className:"text-foreground"})})]})})]})]}),l.jsxs("div",{className:"flex-1 flex flex-col p-[10px] overflow-y-auto rounded-[20px] bg-[rgba(0,0,0,0.03)] dark:bg-[rgba(255,255,255,0.05)]",children:[l.jsx("div",{className:"flex items-start justify-between w-full mb-4",children:l.jsx("div",{className:"flex items-center justify-center gap-2 rounded-[11px] bg-muted px-3 py-2",children:l.jsx("span",{className:"text-[13px] font-medium text-foreground",children:M("generation_results")})})}),l.jsxs("div",{className:"flex-1 flex items-start justify-between gap-4 relative min-h-[300px]",children:[l.jsx("div",{className:"flex-1 flex items-center justify-center w-full h-full",children:U.length>0&&U[B]&&U[B].length>100?l.jsx("img",{src:U[B],className:"rounded-xl object-contain max-w-full max-h-[400px]",alt:"Generated result",onError:ce=>{console.error("Image loading failed"),O([]),ve.error("")}}):l.jsx("div",{className:"flex items-center justify-center w-full h-full min-h-[300px] text-muted-foreground",children:l.jsx("span",{children:M("no_generated_images")})})}),U.length>0&&l.jsx("div",{className:"flex flex-col gap-1 absolute right-0 top-0",children:U.map((ce,ye)=>l.jsx("div",{className:`flex items-center rounded-xl p-[3px] cursor-pointer ${B===ye?"border border-black":""}`,style:{width:"56px"},onClick:()=>q(ye),children:l.jsx("img",{src:ce,className:"w-12 h-12 rounded-lg object-cover",alt:`Result ${ye+1}`})},ye))})]}),l.jsxs("div",{className:"rounded-[24px] border border-border px-4 py-4 bg-creation-card-bg",children:[l.jsxs("div",{className:"mb-3",children:[l.jsx("p",{className:"text-[13px] font-medium text-foreground mb-2",children:M("prompt_supplement")}),l.jsx("textarea",{className:"w-full h-[100px] resize-none border-none focus:ring-0 bg-transparent outline-none font-normal text-foreground text-sm",placeholder:M("describe_image"),value:h,onChange:ce=>m(ce.target.value)})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"relative",ref:u,children:[l.jsxs("div",{className:"flex items-center gap-1 rounded-full bg-muted border border-border px-4 h-10 cursor-pointer hover:bg-muted/80 transition-colors",onClick:()=>o(!r),children:[l.jsx(De,{name:"settings",size:16,className:"text-foreground"}),l.jsx("span",{className:"text-xs text-muted-foreground max-w-[120px] truncate",children:Zt.SUPPORTED_MODELS.find(ce=>ce.id===w)?.label||w}),n3(w)&&l.jsx("span",{className:`w-2 h-2 rounded-full ${t.online?"bg-green-500":"bg-red-500"}`}),l.jsx(De,{name:"chevronUp",size:12,className:"text-muted-foreground"})]}),r&&wo.createPortal(l.jsxs("div",{id:"model-dropdown-portal",className:"fixed bg-card rounded-lg shadow-lg border border-border z-[9999] min-w-[200px] max-h-64 overflow-y-auto",style:{top:a.top,left:a.left,transform:"translateY(-100%)"},children:[Zt.SUPPORTED_MODELS.map(ce=>{const ye=ce.type==="local",Ee=ye&&!t.online;return l.jsxs("div",{className:`px-3 py-2 text-xs cursor-pointer flex items-center justify-between ${Ee?"text-muted-foreground cursor-not-allowed":w===ce.id?"bg-primary/10 text-primary font-medium":"text-foreground hover:bg-muted"}`,onClick:()=>{Ee||(v(ce.id),o(!1))},children:[l.jsx("span",{children:ce.label}),ye&&l.jsx("span",{className:`w-2 h-2 rounded-full ${t.online?"bg-green-500":"bg-red-500"}`})]},ce.id)}),!t.online&&l.jsx("div",{className:"px-3 py-2 text-xs text-muted-foreground border-t border-border",children:M("local_server_offline")})]}),document.body)]}),l.jsxs("div",{className:"flex items-center gap-2 rounded-full bg-muted border border-border px-4 h-10",children:[l.jsx("span",{className:"text-[10px] font-bold text-muted-foreground uppercase",children:M("quantity")}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("div",{className:`flex items-center justify-center rounded-lg ${C===1?"bg-primary text-primary-foreground":"text-muted-foreground"}`,style:{width:"28px",height:"28px"},onClick:()=>k(1),children:l.jsx("span",{className:"text-xs font-bold",children:"1"})}),l.jsx("div",{className:`flex items-center justify-center rounded-lg ${C===2?"bg-primary text-primary-foreground":"text-muted-foreground"}`,style:{width:"28px",height:"28px"},onClick:()=>k(2),children:l.jsx("span",{className:"text-xs font-bold",children:"2"})}),l.jsx("div",{className:`flex items-center justify-center rounded-lg ${C===4?"bg-primary text-primary-foreground":"text-muted-foreground"}`,style:{width:"28px",height:"28px"},onClick:()=>k(4),children:l.jsx("span",{className:"text-xs font-bold",children:"4"})})]})]}),l.jsxs("div",{className:"relative",ref:J,children:[l.jsxs("div",{className:"flex items-center gap-2 rounded-full bg-muted border border-border px-4 h-10 cursor-pointer hover:bg-muted/80 transition-colors",onClick:()=>ne(!X),children:[l.jsx("div",{className:`border-2 border-primary ${E==="1:1"?"w-4 h-4 rounded-md":E==="9:16"||E==="2:3"?"w-3 h-4 rounded-sm":"w-4 h-3 rounded-sm"}`}),l.jsx("span",{className:"text-xs font-bold text-foreground",children:E}),l.jsx(De,{name:"chevronUp",size:12,className:"text-muted-foreground"})]}),X&&wo.createPortal(l.jsx("div",{id:"aspect-dropdown-portal",className:"fixed bg-card rounded-lg shadow-lg border border-border z-[9999] min-w-[120px] p-2",style:{top:J.current?J.current.getBoundingClientRect().top-4:0,left:J.current?J.current.getBoundingClientRect().left:0,transform:"translateY(-100%)"},children:l.jsx("div",{className:"grid grid-cols-4 gap-1",children:de.map(ce=>l.jsxs("div",{className:`flex flex-col items-center justify-center p-2 rounded-lg cursor-pointer transition-colors ${E===ce.value?"bg-primary/10 text-primary":"text-foreground hover:bg-muted"}`,onClick:()=>{N(ce.value),ne(!1)},children:[l.jsx("div",{className:`border-2 ${ce.value==="1:1"?"w-4 h-4 rounded-md":ce.value==="9:16"||ce.value==="2:3"?"w-3 h-4 rounded-sm":"w-4 h-3 rounded-sm"} ${E===ce.value?"border-primary":"border-foreground"}`}),l.jsx("span",{className:"text-[10px] mt-1",children:ce.label})]},ce.value))})}),document.body)]}),l.jsxs("div",{className:"relative",ref:le,children:[l.jsxs("div",{className:"flex items-center gap-2 rounded-full bg-muted border border-border px-4 h-10 cursor-pointer hover:bg-muted/80 transition-colors",onClick:()=>ee(!ie),children:[l.jsx(De,{name:"sparkle",size:14,className:"text-foreground"}),l.jsx("span",{className:"text-xs font-bold text-foreground",children:j}),l.jsx(De,{name:"chevronUp",size:12,className:"text-muted-foreground"})]}),ie&&wo.createPortal(l.jsx("div",{id:"quality-dropdown-portal",className:"fixed bg-card rounded-lg shadow-lg border border-border z-[9999] min-w-[120px] overflow-hidden",style:{top:le.current?le.current.getBoundingClientRect().top-4:0,left:le.current?le.current.getBoundingClientRect().left:0,transform:"translateY(-100%)"},children:me.map(ce=>l.jsx("div",{className:`px-3 py-2 text-xs cursor-pointer ${j===ce.value?"bg-primary/10 text-primary font-medium":"text-foreground hover:bg-muted"}`,onClick:()=>{P(ce.value),ee(!1)},children:ce.label},ce.value))}),document.body)]})]}),l.jsxs("button",{type:"button",className:"flex items-center justify-center gap-2 rounded-full bg-primary px-7 h-10 hover:opacity-90 transition-opacity relative z-10",onClick:ce=>{ce.preventDefault(),ce.stopPropagation(),console.log("Button clicked!"),fe()},style:{opacity:x?.7:1},disabled:x,children:[l.jsx(De,{name:"sparkle",size:20,className:"text-primary-foreground"}),l.jsx("span",{className:"text-sm font-medium text-primary-foreground",children:M(x?"generating":"generate")})]})]})]})]})]})})})}const zD=({asset:e,isOpen:t,onClose:n,onUsePrompt:r,onToggleFavorite:o,onDelete:a,language:c})=>{const[u,p]=b.useState(1),[f,h]=b.useState(!1);if(b.useEffect(()=>(t?(h(!0),document.body.style.overflow="hidden"):document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]),!e)return null;const m=async()=>{try{const v=e.images[0],C=new window.Image;C.crossOrigin="anonymous",C.onload=()=>{const k=document.createElement("canvas");k.width=C.naturalWidth,k.height=C.naturalHeight;const E=k.getContext("2d");E&&(E.drawImage(C,0,0),k.toBlob(N=>{if(N){const j=window.URL.createObjectURL(N),P=document.createElement("a");P.href=j,P.download=`${(e.title||"asset").replace(/[^a-zA-Z0-9\u4e00-\u9fa5]/g,"_")}-${Date.now()}.png`,document.body.appendChild(P),P.click(),document.body.removeChild(P),window.URL.revokeObjectURL(j),ve.success(c==="zh"?"":"Downloaded successfully")}},"image/png"))},C.onerror=()=>{window.open(v,"_blank"),ve.success(c==="zh"?"":"Opened in new tab")},C.src=v}catch(v){console.error("Download failed:",v),ve.error(c==="zh"?"":"Download failed")}},x=()=>{h(!1),setTimeout(()=>{p(1),n()},200)},y=()=>{window.confirm(c==="zh"?"":"Are you sure you want to delete this asset?")&&(a(e.id),x())},w=e.generationParams;return l.jsx("div",{className:Te("fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm cursor-pointer overflow-hidden transition-opacity duration-200",f?"opacity-100":"opacity-0 pointer-events-none"),onClick:x,children:l.jsxs("div",{className:Te("relative w-full max-w-6xl mx-4 flex flex-col lg:flex-row gap-4 transition-all duration-300",f?"scale-100 opacity-100":"scale-95 opacity-0"),onClick:v=>v.stopPropagation(),children:[l.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center min-w-0 bg-card/95 backdrop-blur-md rounded-xl border border-border p-4 overflow-hidden relative min-h-[300px] h-[50vh] sm:h-[55vh] md:h-[60vh] lg:h-[70vh] lg:max-h-[80vh]",children:[l.jsx("button",{onClick:x,className:"absolute top-2 right-2 p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors z-20",children:l.jsx($g,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{className:"text-white/60 text-sm mb-2 text-center shrink-0",children:[c==="zh"?"":"Scroll to zoom"," | ",Math.round(u*100),"%"]}),l.jsx("div",{className:"relative overflow-hidden rounded-lg bg-black/40 flex items-center justify-center flex-1 min-h-0 w-full",children:l.jsx("img",{src:e.images[0],alt:e.title,className:"max-w-full max-h-full object-contain transition-transform duration-100",style:{transform:`scale(${u})`},draggable:!1,onWheel:v=>{v.preventDefault(),v.stopPropagation();const C=v.deltaY>0?-.1:.1;p(k=>Math.min(Math.max(k+C,.5),5))}})})]}),l.jsxs("div",{className:"w-full lg:w-80 flex flex-col bg-card/95 backdrop-blur-md rounded-xl border border-border overflow-hidden shrink-0 min-h-[280px] max-h-[40vh] sm:max-h-[45vh] md:max-h-[50vh] lg:max-h-[80vh] lg:h-[70vh]",children:[l.jsxs("div",{className:"p-4 border-b border-border shrink-0",children:[l.jsx("h3",{className:"text-lg font-semibold text-foreground truncate",children:e.title}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:e.date})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0 overscroll-contain",children:[w&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs("h4",{className:"text-sm font-medium text-foreground flex items-center gap-2",children:[l.jsxs("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),c==="zh"?"":"Generation Parameters"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[w.modelLabel&&l.jsxs("div",{className:"bg-secondary/50 rounded-lg p-2",children:[l.jsx("span",{className:"text-muted-foreground text-xs",children:c==="zh"?"":"Model"}),l.jsx("p",{className:"text-foreground font-medium truncate",children:w.modelLabel})]}),w.aspectRatio&&l.jsxs("div",{className:"bg-secondary/50 rounded-lg p-2",children:[l.jsx("span",{className:"text-muted-foreground text-xs",children:c==="zh"?"":"Ratio"}),l.jsx("p",{className:"text-foreground font-medium",children:w.aspectRatio})]}),w.resolution&&l.jsxs("div",{className:"bg-secondary/50 rounded-lg p-2",children:[l.jsx("span",{className:"text-muted-foreground text-xs",children:c==="zh"?"":"Resolution"}),l.jsxs("p",{className:"text-foreground font-medium",children:[w.resolution.width,"",w.resolution.height]})]}),w.quality&&l.jsxs("div",{className:"bg-secondary/50 rounded-lg p-2",children:[l.jsx("span",{className:"text-muted-foreground text-xs",children:c==="zh"?"":"Quality"}),l.jsx("p",{className:"text-foreground font-medium",children:w.quality})]}),w.steps&&l.jsxs("div",{className:"bg-secondary/50 rounded-lg p-2",children:[l.jsx("span",{className:"text-muted-foreground text-xs",children:c==="zh"?"":"Steps"}),l.jsx("p",{className:"text-foreground font-medium",children:w.steps})]}),w.cfg!==void 0&&l.jsxs("div",{className:"bg-secondary/50 rounded-lg p-2",children:[l.jsx("span",{className:"text-muted-foreground text-xs",children:"CFG"}),l.jsx("p",{className:"text-foreground font-medium",children:w.cfg})]}),w.seed!==void 0&&l.jsxs("div",{className:"bg-secondary/50 rounded-lg p-2 col-span-2",children:[l.jsx("span",{className:"text-muted-foreground text-xs",children:c==="zh"?"":"Seed"}),l.jsx("p",{className:"text-foreground font-medium font-mono text-xs",children:w.seed})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("h4",{className:"text-sm font-medium text-foreground flex items-center gap-2",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),c==="zh"?"":"Prompt"]}),l.jsx("div",{className:"bg-secondary/50 rounded-lg p-3 max-h-32 overflow-y-auto",children:l.jsx("p",{className:"text-sm text-foreground whitespace-pre-wrap break-words",children:e.prompt||(c==="zh"?"":"No prompt")})})]}),e.tags&&e.tags.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("h4",{className:"text-sm font-medium text-foreground flex items-center gap-2",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),c==="zh"?"":"Tags"]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map((v,C)=>l.jsx("span",{className:"px-2 py-1 bg-secondary rounded-full text-xs text-muted-foreground",children:v},C))})]})]}),l.jsx("div",{className:"p-4 border-t border-border bg-secondary/30",children:l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("button",{onClick:()=>o(e.id),className:Te("p-2.5 rounded-full transition-colors",e.isFavorite?"bg-red-500/80 text-white hover:bg-red-500":"bg-secondary text-foreground hover:bg-secondary/80"),title:c==="zh"?"":"Favorite",children:l.jsx(k3,{className:Te("w-5 h-5",e.isFavorite&&"fill-white")})}),l.jsx("button",{onClick:()=>{x(),r(e.prompt,e)},className:"p-2.5 rounded-full bg-secondary text-foreground hover:bg-secondary/80 transition-colors",title:c==="zh"?"":"Use Prompt",children:l.jsx(N3,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>{navigator.clipboard.writeText(e.prompt),ve.success(c==="zh"?"":"Prompt copied")},className:"p-2.5 rounded-full bg-secondary text-foreground hover:bg-secondary/80 transition-colors",title:c==="zh"?"":"Copy Prompt",children:l.jsx(b3,{className:"w-5 h-5"})}),l.jsx("button",{onClick:m,className:"p-2.5 rounded-full bg-secondary text-foreground hover:bg-secondary/80 transition-colors",title:c==="zh"?"":"Download",children:l.jsx(C3,{className:"w-5 h-5"})}),l.jsx("button",{onClick:y,className:"p-2.5 rounded-full bg-red-500/20 text-red-500 hover:bg-red-500/30 transition-colors",title:c==="zh"?"":"Delete",children:l.jsx(S3,{className:"w-5 h-5"})})]})})]})]})})},N2=({asset:e,onUsePrompt:t,onToggleFavorite:n,onDelete:r,onClick:o,language:a})=>{const[c,u]=b.useState(!1),p=async f=>{f.stopPropagation();try{const h=e.images[0],m=new window.Image;m.crossOrigin="anonymous",m.onload=()=>{const x=document.createElement("canvas");x.width=m.naturalWidth,x.height=m.naturalHeight;const y=x.getContext("2d");y&&(y.drawImage(m,0,0),x.toBlob(w=>{if(w){const v=window.URL.createObjectURL(w),C=document.createElement("a");C.href=v,C.download=`${(e.title||"asset").replace(/[^a-zA-Z0-9\u4e00-\u9fa5]/g,"_")}-${Date.now()}.png`,document.body.appendChild(C),C.click(),document.body.removeChild(C),window.URL.revokeObjectURL(v),ve.success(a==="zh"?"":"Downloaded successfully")}},"image/png"))},m.onerror=()=>{window.open(h,"_blank"),ve.success(a==="zh"?"":"Opened in new tab")},m.src=h}catch(h){console.error("Download failed:",h),ve.error(a==="zh"?"":"Download failed")}};return l.jsxs("div",{className:"asset-image-item overflow-hidden rounded-[50px] relative group cursor-pointer",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),onClick:o,children:[l.jsx("img",{src:e.images[0],alt:e.title,className:"w-full h-auto object-cover transition-transform duration-300 group-hover:scale-105"}),l.jsxs("div",{className:Te("absolute inset-0 bg-black/40 flex flex-col justify-end p-4 transition-opacity duration-300",c?"opacity-100":"opacity-0"),children:[l.jsx("p",{className:"text-white text-sm font-medium mb-3 truncate",children:e.title}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:f=>{f.stopPropagation(),n(e.id)},className:Te("p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors",e.isFavorite&&"bg-red-500/80 hover:bg-red-500"),title:a==="zh"?"":"Favorite",children:l.jsx(k3,{className:Te("w-4 h-4 text-white",e.isFavorite&&"fill-white")})}),l.jsx("button",{onClick:f=>{f.stopPropagation(),t(e.prompt,e)},className:"p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors",title:a==="zh"?"":"Use Prompt",children:l.jsx(N3,{className:"w-4 h-4 text-white"})}),l.jsx("button",{onClick:f=>{f.stopPropagation(),navigator.clipboard.writeText(e.prompt),ve.success(a==="zh"?"":"Prompt copied")},className:"p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors",title:a==="zh"?"":"Copy Prompt",children:l.jsx(b3,{className:"w-4 h-4 text-white"})}),l.jsx("button",{onClick:p,className:"p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors",title:a==="zh"?"":"Download",children:l.jsx(C3,{className:"w-4 h-4 text-white"})}),l.jsx("button",{onClick:f=>{f.stopPropagation(),r(e.id)},className:"p-2 rounded-full bg-white/20 hover:bg-red-500/80 transition-colors",title:a==="zh"?"":"Delete",children:l.jsx(S3,{className:"w-4 h-4 text-white"})})]})]})]})},DD=({onSwitchToEditor:e})=>{const{assets:t,toggleFavorite:n,deleteAsset:r}=dc(),{importWorkflow:o,setActiveWorkflowId:a}=jt(),{language:c,t:u}=rn(),[p,f]=b.useState(()=>typeof window<"u"&&localStorage.getItem("assets-category")||"all"),[h,m]=b.useState(()=>typeof window<"u"&&localStorage.getItem("assets-filter")||"recent"),[x,y]=b.useState(""),[w,v]=b.useState(()=>typeof window<"u"&&localStorage.getItem("assets-grid-size")||"75%"),[C,k]=b.useState(null),[E,N]=b.useState(!1),j={"100%":{gridTemplateColumns:"repeat(2, 1fr)"},"75%":{gridTemplateColumns:"repeat(4, 1fr)"},"50%":{gridTemplateColumns:"repeat(6, 1fr)"}},P=V=>{k(V),N(!0)},L=()=>{N(!1),k(null)},T=t.filter(V=>{const W=p==="all"||V.type===p,z=h==="recent"||V.isFavorite,M=V.title.toLowerCase().includes(x.toLowerCase())||V.prompt.toLowerCase().includes(x.toLowerCase());return W&&z&&M}),D=(V,W)=>{try{if(e(),W.type==="workflow"&&W.workflowData){const z=JSON.parse(W.workflowData),{nodes:M,edges:F}=z;o(M,F),ve.success(u("workflow_import_success"))}else{const z=[{id:`node-${Date.now()}`,type:"imageEditor",position:{x:200,y:200},data:{label:"Image Editor",prompt:V,preset:"imagen-3",mode:"",steps:4}},{id:`node-${Date.now()+1}`,type:"preview",position:{x:600,y:200},data:{label:"Preview"}}],M=[{id:`edge-${Date.now()}`,source:z[0].id,target:z[1].id,animated:!0,type:"deletable"}];o(z,M),ve.success("")}}catch(z){console.error("Failed to create new canvas:",z),ve.error(u("canvas_create_failed"))}},$=V=>{const W=V.currentTarget.dataset.size;!W||W===w||(v(W),localStorage.setItem("assets-grid-size",W))},Y=V=>{f(V),localStorage.setItem("assets-category",V)},G=V=>{m(V),localStorage.setItem("assets-filter",V)};return l.jsxs("div",{className:"absolute inset-0 top-[64px] overflow-y-auto p-6 bg-background",children:[l.jsx("div",{className:"max-w-5xl mx-auto mb-8",children:l.jsx("h1",{className:"text-[21px] font-medium text-foreground mb-2",children:u("asset_library")})}),l.jsx("div",{className:"max-w-5xl mx-auto mb-8",children:l.jsxs("div",{className:"relative w-full",children:[l.jsx("input",{type:"text",placeholder:c==="zh"?"...":"Search prompts...",value:x,onChange:V=>y(V.target.value),className:"w-full pl-11 pr-4 py-3 bg-[rgba(28,28,28,0.05)] rounded-2xl focus:outline-none focus:ring-2 focus:ring-primary/50 text-base transition-all"}),l.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground",children:l.jsx(De,{name:"search",size:20,className:"text-muted-foreground"})})]})}),l.jsx("div",{className:"max-w-5xl mx-auto mb-8",children:l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[l.jsxs("div",{className:"flex flex-wrap gap-4",children:[l.jsx("button",{onClick:()=>Y("all"),className:Te("px-4 py-2 rounded-full font-medium transition-all",p==="all"?"border border-foreground text-foreground bg-background":"text-muted-foreground hover:text-foreground"),children:c==="zh"?"":"All"}),l.jsx("button",{onClick:()=>Y("image"),className:Te("px-4 py-2 rounded-full font-medium transition-all",p==="image"?"border border-foreground text-foreground bg-background":"text-muted-foreground hover:text-foreground"),children:c==="zh"?"":"Images"}),l.jsx("button",{onClick:()=>Y("text"),className:Te("px-4 py-2 rounded-full font-medium transition-all",p==="text"?"border border-foreground text-foreground bg-background":"text-muted-foreground hover:text-foreground"),children:c==="zh"?"":"Text"}),l.jsx("button",{onClick:()=>Y("video"),className:Te("px-4 py-2 rounded-full font-medium transition-all",p==="video"?"border border-foreground text-foreground bg-background":"text-muted-foreground hover:text-foreground"),children:u("videos")}),l.jsx("button",{onClick:()=>Y("workflow"),className:Te("px-4 py-2 rounded-full font-medium transition-all",p==="workflow"?"border border-foreground text-foreground bg-background":"text-muted-foreground hover:text-foreground"),children:u("workflows")}),l.jsx("button",{onClick:()=>Y("character"),className:Te("px-4 py-2 rounded-full font-medium transition-all",p==="character"?"border border-foreground text-foreground bg-background":"text-muted-foreground hover:text-foreground"),children:u("characters")})]}),l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsxs("div",{className:"flex gap-4",children:[l.jsx("button",{onClick:()=>G("recent"),className:Te("px-4 py-2 rounded-full font-medium transition-all",h==="recent"?"border border-foreground text-foreground bg-background":"bg-background text-muted-foreground hover:text-foreground"),children:u("recent")}),l.jsx("button",{onClick:()=>G("favorite"),className:Te("px-4 py-2 rounded-full font-medium transition-all",h==="favorite"?"border border-foreground text-foreground bg-background":"bg-background text-muted-foreground hover:text-foreground"),children:c==="zh"?"":"Favorites"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{"data-size":"100%",onClick:V=>$(V),className:Te("px-3 py-1.5 rounded-full text-sm font-medium transition-all",w==="100%"?"border border-foreground text-foreground bg-background":"bg-background text-muted-foreground hover:text-foreground"),children:c==="zh"?"":"Large"}),l.jsx("button",{"data-size":"75%",onClick:V=>$(V),className:Te("px-3 py-1.5 rounded-full text-sm font-medium transition-all",w==="75%"?"border border-foreground text-foreground bg-background":"bg-background text-muted-foreground hover:text-foreground"),children:c==="zh"?"":"Medium"}),l.jsx("button",{"data-size":"50%",onClick:V=>$(V),className:Te("px-3 py-1.5 rounded-full text-sm font-medium transition-all",w==="50%"?"border border-foreground text-foreground bg-background":"bg-background text-muted-foreground hover:text-foreground"),children:u("small")})]})]})]})}),l.jsx("div",{className:"max-w-5xl mx-auto","data-size-grid":w,children:T.length===0?l.jsxs("div",{className:"text-center py-20 text-muted-foreground",children:[l.jsx("div",{className:"mb-4 opacity-50",children:l.jsx(De,{name:"search",size:48,className:"text-muted-foreground mx-auto"})}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:u("no_assets_found")}),l.jsx("p",{className:"text-sm",children:u("try_adjust_filters")})]}):l.jsxs("div",{className:"space-y-8",children:[l.jsx("div",{children:l.jsx("div",{className:"grid gap-5 transition-all duration-300",style:j[w],children:T.slice(0,5).map(V=>l.jsx(N2,{asset:V,onUsePrompt:D,onToggleFavorite:n,onDelete:r,onClick:()=>P(V),language:c},V.id))})}),l.jsx("div",{children:l.jsx("div",{className:"grid gap-5 transition-all duration-300",style:j[w],children:T.slice(5).map(V=>l.jsx(N2,{asset:V,onUsePrompt:D,onToggleFavorite:n,onDelete:r,onClick:()=>P(V),language:c},V.id))})})]})}),l.jsx(zD,{asset:C,isOpen:E,onClose:L,onUsePrompt:D,onToggleFavorite:n,onDelete:r,language:c})]})};function fo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p4(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}/*!
 * GSAP 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Bn={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},xa={duration:.5,overwrite:!1,delay:0},g1,Yt,lt,tr=1e8,et=1/tr,qm=Math.PI*2,OD=qm/4,FD=0,h4=Math.sqrt,$D=Math.cos,BD=Math.sin,Vt=function(t){return typeof t=="string"},wt=function(t){return typeof t=="function"},No=function(t){return typeof t=="number"},x1=function(t){return typeof t>"u"},Xr=function(t){return typeof t=="object"},Cn=function(t){return t!==!1},v1=function(){return typeof window<"u"},Qu=function(t){return wt(t)||Vt(t)},m4=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},tn=Array.isArray,VD=/random\([^)]+\)/g,HD=/,\s*/g,S2=/(?:-?\.?\d|\.)+/gi,g4=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Xi=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,rm=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,x4=/[+-]=-?[.\d]+/,WD=/[^,'"\[\]\s]+/gi,UD=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,mt,Fr,Qm,y1,Hn={},Rd={},v4,y4=function(t){return(Rd=va(t,Hn))&&jn},w1=function(t,n){return console.warn("Invalid property",t,"set to",n,"Missing plugin? gsap.registerPlugin()")},Xl=function(t,n){return!n&&console.warn(t)},w4=function(t,n){return t&&(Hn[t]=n)&&Rd&&(Rd[t]=n)||Hn},ql=function(){return 0},GD={suppressEvents:!0,isStart:!0,kill:!1},cd={suppressEvents:!0,kill:!1},YD={suppressEvents:!0},_1={},as=[],Jm={},_4,Rn={},om={},j2=30,ud=[],b1="",C1=function(t){var n=t[0],r,o;if(Xr(n)||wt(n)||(t=[t]),!(r=(n._gsap||{}).harness)){for(o=ud.length;o--&&!ud[o].targetTest(n););r=ud[o]}for(o=t.length;o--;)t[o]&&(t[o]._gsap||(t[o]._gsap=new U4(t[o],r)))||t.splice(o,1);return t},Ys=function(t){return t._gsap||C1(nr(t))[0]._gsap},b4=function(t,n,r){return(r=t[n])&&wt(r)?t[n]():x1(r)&&t.getAttribute&&t.getAttribute(n)||r},kn=function(t,n){return(t=t.split(",")).forEach(n)||t},Ct=function(t){return Math.round(t*1e5)/1e5||0},ht=function(t){return Math.round(t*1e7)/1e7||0},oa=function(t,n){var r=n.charAt(0),o=parseFloat(n.substr(2));return t=parseFloat(t),r==="+"?t+o:r==="-"?t-o:r==="*"?t*o:t/o},KD=function(t,n){for(var r=n.length,o=0;t.indexOf(n[o])<0&&++o<r;);return o<r},Ad=function(){var t=as.length,n=as.slice(0),r,o;for(Jm={},as.length=0,r=0;r<t;r++)o=n[r],o&&o._lazy&&(o.render(o._lazy[0],o._lazy[1],!0)._lazy=0)},k1=function(t){return!!(t._initted||t._startAt||t.add)},C4=function(t,n,r,o){as.length&&!Yt&&Ad(),t.render(n,r,!!(Yt&&n<0&&k1(t))),as.length&&!Yt&&Ad()},k4=function(t){var n=parseFloat(t);return(n||n===0)&&(t+"").match(WD).length<2?n:Vt(t)?t.trim():t},N4=function(t){return t},Wn=function(t,n){for(var r in n)r in t||(t[r]=n[r]);return t},ZD=function(t){return function(n,r){for(var o in r)o in n||o==="duration"&&t||o==="ease"||(n[o]=r[o])}},va=function(t,n){for(var r in n)t[r]=n[r];return t},E2=function e(t,n){for(var r in n)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(t[r]=Xr(n[r])?e(t[r]||(t[r]={}),n[r]):n[r]);return t},zd=function(t,n){var r={},o;for(o in t)o in n||(r[o]=t[o]);return r},Il=function(t){var n=t.parent||mt,r=t.keyframes?ZD(tn(t.keyframes)):Wn;if(Cn(t.inherit))for(;n;)r(t,n.vars.defaults),n=n.parent||n._dp;return t},XD=function(t,n){for(var r=t.length,o=r===n.length;o&&r--&&t[r]===n[r];);return r<0},S4=function(t,n,r,o,a){var c=t[o],u;if(a)for(u=n[a];c&&c[a]>u;)c=c._prev;return c?(n._next=c._next,c._next=n):(n._next=t[r],t[r]=n),n._next?n._next._prev=n:t[o]=n,n._prev=c,n.parent=n._dp=t,n},Sf=function(t,n,r,o){r===void 0&&(r="_first"),o===void 0&&(o="_last");var a=n._prev,c=n._next;a?a._next=c:t[r]===n&&(t[r]=c),c?c._prev=a:t[o]===n&&(t[o]=a),n._next=n._prev=n.parent=null},ps=function(t,n){t.parent&&(!n||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},Ks=function(t,n){if(t&&(!n||n._end>t._dur||n._start<0))for(var r=t;r;)r._dirty=1,r=r.parent;return t},qD=function(t){for(var n=t.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return t},eg=function(t,n,r,o){return t._startAt&&(Yt?t._startAt.revert(cd):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(n,!0,o))},QD=function e(t){return!t||t._ts&&e(t.parent)},P2=function(t){return t._repeat?ya(t._tTime,t=t.duration()+t._rDelay)*t:0},ya=function(t,n){var r=Math.floor(t=ht(t/n));return t&&r===t?r-1:r},Dd=function(t,n){return(t-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},jf=function(t){return t._end=ht(t._start+(t._tDur/Math.abs(t._ts||t._rts||et)||0))},Ef=function(t,n){var r=t._dp;return r&&r.smoothChildTiming&&t._ts&&(t._start=ht(r._time-(t._ts>0?n/t._ts:((t._dirty?t.totalDuration():t._tDur)-n)/-t._ts)),jf(t),r._dirty||Ks(r,t)),t},j4=function(t,n){var r;if((n._time||!n._dur&&n._initted||n._start<t._time&&(n._dur||!n.add))&&(r=Dd(t.rawTime(),n),(!n._dur||gc(0,n.totalDuration(),r)-n._tTime>et)&&n.render(r,!0)),Ks(t,n)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(r=t;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;t._zTime=-et}},Vr=function(t,n,r,o){return n.parent&&ps(n),n._start=ht((No(r)?r:r||t!==mt?er(t,r,n):t._time)+n._delay),n._end=ht(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),S4(t,n,"_first","_last",t._sort?"_start":0),tg(n)||(t._recent=n),o||j4(t,n),t._ts<0&&Ef(t,t._tTime),t},E4=function(t,n){return(Hn.ScrollTrigger||w1("scrollTrigger",n))&&Hn.ScrollTrigger.create(n,t)},P4=function(t,n,r,o,a){if(S1(t,n,a),!t._initted)return 1;if(!r&&t._pt&&!Yt&&(t._dur&&t.vars.lazy!==!1||!t._dur&&t.vars.lazy)&&_4!==Dn.frame)return as.push(t),t._lazy=[a,o],1},JD=function e(t){var n=t.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||e(n))},tg=function(t){var n=t.data;return n==="isFromStart"||n==="isStart"},eO=function(t,n,r,o){var a=t.ratio,c=n<0||!n&&(!t._start&&JD(t)&&!(!t._initted&&tg(t))||(t._ts<0||t._dp._ts<0)&&!tg(t))?0:1,u=t._rDelay,p=0,f,h,m;if(u&&t._repeat&&(p=gc(0,t._tDur,n),h=ya(p,u),t._yoyo&&h&1&&(c=1-c),h!==ya(t._tTime,u)&&(a=1-c,t.vars.repeatRefresh&&t._initted&&t.invalidate())),c!==a||Yt||o||t._zTime===et||!n&&t._zTime){if(!t._initted&&P4(t,n,o,r,p))return;for(m=t._zTime,t._zTime=n||(r?et:0),r||(r=n&&!m),t.ratio=c,t._from&&(c=1-c),t._time=0,t._tTime=p,f=t._pt;f;)f.r(c,f.d),f=f._next;n<0&&eg(t,n,r,!0),t._onUpdate&&!r&&On(t,"onUpdate"),p&&t._repeat&&!r&&t.parent&&On(t,"onRepeat"),(n>=t._tDur||n<0)&&t.ratio===c&&(c&&ps(t,1),!r&&!Yt&&(On(t,c?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=n)},tO=function(t,n,r){var o;if(r>n)for(o=t._first;o&&o._start<=r;){if(o.data==="isPause"&&o._start>n)return o;o=o._next}else for(o=t._last;o&&o._start>=r;){if(o.data==="isPause"&&o._start<n)return o;o=o._prev}},wa=function(t,n,r,o){var a=t._repeat,c=ht(n)||0,u=t._tTime/t._tDur;return u&&!o&&(t._time*=c/t._dur),t._dur=c,t._tDur=a?a<0?1e10:ht(c*(a+1)+t._rDelay*a):c,u>0&&!o&&Ef(t,t._tTime=t._tDur*u),t.parent&&jf(t),r||Ks(t.parent,t),t},I2=function(t){return t instanceof cn?Ks(t):wa(t,t._dur)},nO={_start:0,endTime:ql,totalDuration:ql},er=function e(t,n,r){var o=t.labels,a=t._recent||nO,c=t.duration()>=tr?a.endTime(!1):t._dur,u,p,f;return Vt(n)&&(isNaN(n)||n in o)?(p=n.charAt(0),f=n.substr(-1)==="%",u=n.indexOf("="),p==="<"||p===">"?(u>=0&&(n=n.replace(/=/,"")),(p==="<"?a._start:a.endTime(a._repeat>=0))+(parseFloat(n.substr(1))||0)*(f?(u<0?a:r).totalDuration()/100:1)):u<0?(n in o||(o[n]=c),o[n]):(p=parseFloat(n.charAt(u-1)+n.substr(u+1)),f&&r&&(p=p/100*(tn(r)?r[0]:r).totalDuration()),u>1?e(t,n.substr(0,u-1),r)+p:c+p)):n==null?c:+n},Ml=function(t,n,r){var o=No(n[1]),a=(o?2:1)+(t<2?0:1),c=n[a],u,p;if(o&&(c.duration=n[1]),c.parent=r,t){for(u=c,p=r;p&&!("immediateRender"in u);)u=p.vars.defaults||{},p=Cn(p.vars.inherit)&&p.parent;c.immediateRender=Cn(u.immediateRender),t<2?c.runBackwards=1:c.startAt=n[a-1]}return new St(n[0],c,n[a+1])},vs=function(t,n){return t||t===0?n(t):n},gc=function(t,n,r){return r<t?t:r>n?n:r},en=function(t,n){return!Vt(t)||!(n=UD.exec(t))?"":n[1]},rO=function(t,n,r){return vs(r,function(o){return gc(t,n,o)})},ng=[].slice,I4=function(t,n){return t&&Xr(t)&&"length"in t&&(!n&&!t.length||t.length-1 in t&&Xr(t[0]))&&!t.nodeType&&t!==Fr},oO=function(t,n,r){return r===void 0&&(r=[]),t.forEach(function(o){var a;return Vt(o)&&!n||I4(o,1)?(a=r).push.apply(a,nr(o)):r.push(o)})||r},nr=function(t,n,r){return lt&&!n&&lt.selector?lt.selector(t):Vt(t)&&!r&&(Qm||!_a())?ng.call((n||y1).querySelectorAll(t),0):tn(t)?oO(t,r):I4(t)?ng.call(t,0):t?[t]:[]},rg=function(t){return t=nr(t)[0]||Xl("Invalid scope")||{},function(n){var r=t.current||t.nativeElement||t;return nr(n,r.querySelectorAll?r:r===t?Xl("Invalid scope")||y1.createElement("div"):t)}},M4=function(t){return t.sort(function(){return .5-Math.random()})},L4=function(t){if(wt(t))return t;var n=Xr(t)?t:{each:t},r=Zs(n.ease),o=n.from||0,a=parseFloat(n.base)||0,c={},u=o>0&&o<1,p=isNaN(o)||u,f=n.axis,h=o,m=o;return Vt(o)?h=m={center:.5,edges:.5,end:1}[o]||0:!u&&p&&(h=o[0],m=o[1]),function(x,y,w){var v=(w||n).length,C=c[v],k,E,N,j,P,L,T,D,$;if(!C){if($=n.grid==="auto"?0:(n.grid||[1,tr])[1],!$){for(T=-tr;T<(T=w[$++].getBoundingClientRect().left)&&$<v;);$<v&&$--}for(C=c[v]=[],k=p?Math.min($,v)*h-.5:o%$,E=$===tr?0:p?v*m/$-.5:o/$|0,T=0,D=tr,L=0;L<v;L++)N=L%$-k,j=E-(L/$|0),C[L]=P=f?Math.abs(f==="y"?j:N):h4(N*N+j*j),P>T&&(T=P),P<D&&(D=P);o==="random"&&M4(C),C.max=T-D,C.min=D,C.v=v=(parseFloat(n.amount)||parseFloat(n.each)*($>v?v-1:f?f==="y"?v/$:$:Math.max($,v/$))||0)*(o==="edges"?-1:1),C.b=v<0?a-v:a,C.u=en(n.amount||n.each)||0,r=r&&v<0?V4(r):r}return v=(C[x]-C.min)/C.max||0,ht(C.b+(r?r(v):v)*C.v)+C.u}},og=function(t){var n=Math.pow(10,((t+"").split(".")[1]||"").length);return function(r){var o=ht(Math.round(parseFloat(r)/t)*t*n);return(o-o%1)/n+(No(r)?0:en(r))}},T4=function(t,n){var r=tn(t),o,a;return!r&&Xr(t)&&(o=r=t.radius||tr,t.values?(t=nr(t.values),(a=!No(t[0]))&&(o*=o)):t=og(t.increment)),vs(n,r?wt(t)?function(c){return a=t(c),Math.abs(a-c)<=o?a:c}:function(c){for(var u=parseFloat(a?c.x:c),p=parseFloat(a?c.y:0),f=tr,h=0,m=t.length,x,y;m--;)a?(x=t[m].x-u,y=t[m].y-p,x=x*x+y*y):x=Math.abs(t[m]-u),x<f&&(f=x,h=m);return h=!o||f<=o?t[h]:c,a||h===c||No(c)?h:h+en(c)}:og(t))},R4=function(t,n,r,o){return vs(tn(t)?!n:r===!0?!!(r=0):!o,function(){return tn(t)?t[~~(Math.random()*t.length)]:(r=r||1e-5)&&(o=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((t-r/2+Math.random()*(n-t+r*.99))/r)*r*o)/o})},sO=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(o){return n.reduce(function(a,c){return c(a)},o)}},iO=function(t,n){return function(r){return t(parseFloat(r))+(n||en(r))}},aO=function(t,n,r){return z4(t,n,0,1,r)},A4=function(t,n,r){return vs(r,function(o){return t[~~n(o)]})},lO=function e(t,n,r){var o=n-t;return tn(t)?A4(t,e(0,t.length),n):vs(r,function(a){return(o+(a-t)%o)%o+t})},cO=function e(t,n,r){var o=n-t,a=o*2;return tn(t)?A4(t,e(0,t.length-1),n):vs(r,function(c){return c=(a+(c-t)%a)%a||0,t+(c>o?a-c:c)})},Ql=function(t){return t.replace(VD,function(n){var r=n.indexOf("[")+1,o=n.substring(r||7,r?n.indexOf("]"):n.length-1).split(HD);return R4(r?o:+o[0],r?0:+o[1],+o[2]||1e-5)})},z4=function(t,n,r,o,a){var c=n-t,u=o-r;return vs(a,function(p){return r+((p-t)/c*u||0)})},uO=function e(t,n,r,o){var a=isNaN(t+n)?0:function(y){return(1-y)*t+y*n};if(!a){var c=Vt(t),u={},p,f,h,m,x;if(r===!0&&(o=1)&&(r=null),c)t={p:t},n={p:n};else if(tn(t)&&!tn(n)){for(h=[],m=t.length,x=m-2,f=1;f<m;f++)h.push(e(t[f-1],t[f]));m--,a=function(w){w*=m;var v=Math.min(x,~~w);return h[v](w-v)},r=n}else o||(t=va(tn(t)?[]:{},t));if(!h){for(p in n)N1.call(u,t,p,"get",n[p]);a=function(w){return P1(w,u)||(c?t.p:t)}}}return vs(r,a)},M2=function(t,n,r){var o=t.labels,a=tr,c,u,p;for(c in o)u=o[c]-n,u<0==!!r&&u&&a>(u=Math.abs(u))&&(p=c,a=u);return p},On=function(t,n,r){var o=t.vars,a=o[n],c=lt,u=t._ctx,p,f,h;if(a)return p=o[n+"Params"],f=o.callbackScope||t,r&&as.length&&Ad(),u&&(lt=u),h=p?a.apply(f,p):a.call(f),lt=c,h},kl=function(t){return ps(t),t.scrollTrigger&&t.scrollTrigger.kill(!!Yt),t.progress()<1&&On(t,"onInterrupt"),t},qi,D4=[],O4=function(t){if(t)if(t=!t.name&&t.default||t,v1()||t.headless){var n=t.name,r=wt(t),o=n&&!r&&t.init?function(){this._props=[]}:t,a={init:ql,render:P1,add:N1,kill:SO,modifier:NO,rawVars:0},c={targetTest:0,get:0,getSetter:E1,aliases:{},register:0};if(_a(),t!==o){if(Rn[n])return;Wn(o,Wn(zd(t,a),c)),va(o.prototype,va(a,zd(t,c))),Rn[o.prop=n]=o,t.targetTest&&(ud.push(o),_1[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}w4(n,o),t.register&&t.register(jn,o,Nn)}else D4.push(t)},Je=255,Nl={aqua:[0,Je,Je],lime:[0,Je,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Je],navy:[0,0,128],white:[Je,Je,Je],olive:[128,128,0],yellow:[Je,Je,0],orange:[Je,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Je,0,0],pink:[Je,192,203],cyan:[0,Je,Je],transparent:[Je,Je,Je,0]},sm=function(t,n,r){return t+=t<0?1:t>1?-1:0,(t*6<1?n+(r-n)*t*6:t<.5?r:t*3<2?n+(r-n)*(2/3-t)*6:n)*Je+.5|0},F4=function(t,n,r){var o=t?No(t)?[t>>16,t>>8&Je,t&Je]:0:Nl.black,a,c,u,p,f,h,m,x,y,w;if(!o){if(t.substr(-1)===","&&(t=t.substr(0,t.length-1)),Nl[t])o=Nl[t];else if(t.charAt(0)==="#"){if(t.length<6&&(a=t.charAt(1),c=t.charAt(2),u=t.charAt(3),t="#"+a+a+c+c+u+u+(t.length===5?t.charAt(4)+t.charAt(4):"")),t.length===9)return o=parseInt(t.substr(1,6),16),[o>>16,o>>8&Je,o&Je,parseInt(t.substr(7),16)/255];t=parseInt(t.substr(1),16),o=[t>>16,t>>8&Je,t&Je]}else if(t.substr(0,3)==="hsl"){if(o=w=t.match(S2),!n)p=+o[0]%360/360,f=+o[1]/100,h=+o[2]/100,c=h<=.5?h*(f+1):h+f-h*f,a=h*2-c,o.length>3&&(o[3]*=1),o[0]=sm(p+1/3,a,c),o[1]=sm(p,a,c),o[2]=sm(p-1/3,a,c);else if(~t.indexOf("="))return o=t.match(g4),r&&o.length<4&&(o[3]=1),o}else o=t.match(S2)||Nl.transparent;o=o.map(Number)}return n&&!w&&(a=o[0]/Je,c=o[1]/Je,u=o[2]/Je,m=Math.max(a,c,u),x=Math.min(a,c,u),h=(m+x)/2,m===x?p=f=0:(y=m-x,f=h>.5?y/(2-m-x):y/(m+x),p=m===a?(c-u)/y+(c<u?6:0):m===c?(u-a)/y+2:(a-c)/y+4,p*=60),o[0]=~~(p+.5),o[1]=~~(f*100+.5),o[2]=~~(h*100+.5)),r&&o.length<4&&(o[3]=1),o},$4=function(t){var n=[],r=[],o=-1;return t.split(ls).forEach(function(a){var c=a.match(Xi)||[];n.push.apply(n,c),r.push(o+=c.length+1)}),n.c=r,n},L2=function(t,n,r){var o="",a=(t+o).match(ls),c=n?"hsla(":"rgba(",u=0,p,f,h,m;if(!a)return t;if(a=a.map(function(x){return(x=F4(x,n,1))&&c+(n?x[0]+","+x[1]+"%,"+x[2]+"%,"+x[3]:x.join(","))+")"}),r&&(h=$4(t),p=r.c,p.join(o)!==h.c.join(o)))for(f=t.replace(ls,"1").split(Xi),m=f.length-1;u<m;u++)o+=f[u]+(~p.indexOf(u)?a.shift()||c+"0,0,0,0)":(h.length?h:a.length?a:r).shift());if(!f)for(f=t.split(ls),m=f.length-1;u<m;u++)o+=f[u]+a[u];return o+f[m]},ls=(function(){var e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",t;for(t in Nl)e+="|"+t+"\\b";return new RegExp(e+")","gi")})(),dO=/hsl[a]?\(/,B4=function(t){var n=t.join(" "),r;if(ls.lastIndex=0,ls.test(n))return r=dO.test(n),t[1]=L2(t[1],r),t[0]=L2(t[0],r,$4(t[1])),!0},Jl,Dn=(function(){var e=Date.now,t=500,n=33,r=e(),o=r,a=1e3/240,c=a,u=[],p,f,h,m,x,y,w=function v(C){var k=e()-o,E=C===!0,N,j,P,L;if((k>t||k<0)&&(r+=k-n),o+=k,P=o-r,N=P-c,(N>0||E)&&(L=++m.frame,x=P-m.time*1e3,m.time=P=P/1e3,c+=N+(N>=a?4:a-N),j=1),E||(p=f(v)),j)for(y=0;y<u.length;y++)u[y](P,x,L,C)};return m={time:0,frame:0,tick:function(){w(!0)},deltaRatio:function(C){return x/(1e3/(C||60))},wake:function(){v4&&(!Qm&&v1()&&(Fr=Qm=window,y1=Fr.document||{},Hn.gsap=jn,(Fr.gsapVersions||(Fr.gsapVersions=[])).push(jn.version),y4(Rd||Fr.GreenSockGlobals||!Fr.gsap&&Fr||{}),D4.forEach(O4)),h=typeof requestAnimationFrame<"u"&&requestAnimationFrame,p&&m.sleep(),f=h||function(C){return setTimeout(C,c-m.time*1e3+1|0)},Jl=1,w(2))},sleep:function(){(h?cancelAnimationFrame:clearTimeout)(p),Jl=0,f=ql},lagSmoothing:function(C,k){t=C||1/0,n=Math.min(k||33,t)},fps:function(C){a=1e3/(C||240),c=m.time*1e3+a},add:function(C,k,E){var N=k?function(j,P,L,T){C(j,P,L,T),m.remove(N)}:C;return m.remove(C),u[E?"unshift":"push"](N),_a(),N},remove:function(C,k){~(k=u.indexOf(C))&&u.splice(k,1)&&y>=k&&y--},_listeners:u},m})(),_a=function(){return!Jl&&Dn.wake()},Ge={},fO=/^[\d.\-M][\d.\-,\s]/,pO=/["']/g,hO=function(t){for(var n={},r=t.substr(1,t.length-3).split(":"),o=r[0],a=1,c=r.length,u,p,f;a<c;a++)p=r[a],u=a!==c-1?p.lastIndexOf(","):p.length,f=p.substr(0,u),n[o]=isNaN(f)?f.replace(pO,"").trim():+f,o=p.substr(u+1).trim();return n},mO=function(t){var n=t.indexOf("(")+1,r=t.indexOf(")"),o=t.indexOf("(",n);return t.substring(n,~o&&o<r?t.indexOf(")",r+1):r)},gO=function(t){var n=(t+"").split("("),r=Ge[n[0]];return r&&n.length>1&&r.config?r.config.apply(null,~t.indexOf("{")?[hO(n[1])]:mO(t).split(",").map(k4)):Ge._CE&&fO.test(t)?Ge._CE("",t):r},V4=function(t){return function(n){return 1-t(1-n)}},H4=function e(t,n){for(var r=t._first,o;r;)r instanceof cn?e(r,n):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==n&&(r.timeline?e(r.timeline,n):(o=r._ease,r._ease=r._yEase,r._yEase=o,r._yoyo=n)),r=r._next},Zs=function(t,n){return t&&(wt(t)?t:Ge[t]||gO(t))||n},fi=function(t,n,r,o){r===void 0&&(r=function(p){return 1-n(1-p)}),o===void 0&&(o=function(p){return p<.5?n(p*2)/2:1-n((1-p)*2)/2});var a={easeIn:n,easeOut:r,easeInOut:o},c;return kn(t,function(u){Ge[u]=Hn[u]=a,Ge[c=u.toLowerCase()]=r;for(var p in a)Ge[c+(p==="easeIn"?".in":p==="easeOut"?".out":".inOut")]=Ge[u+"."+p]=a[p]}),a},W4=function(t){return function(n){return n<.5?(1-t(1-n*2))/2:.5+t((n-.5)*2)/2}},im=function e(t,n,r){var o=n>=1?n:1,a=(r||(t?.3:.45))/(n<1?n:1),c=a/qm*(Math.asin(1/o)||0),u=function(h){return h===1?1:o*Math.pow(2,-10*h)*BD((h-c)*a)+1},p=t==="out"?u:t==="in"?function(f){return 1-u(1-f)}:W4(u);return a=qm/a,p.config=function(f,h){return e(t,f,h)},p},am=function e(t,n){n===void 0&&(n=1.70158);var r=function(c){return c?--c*c*((n+1)*c+n)+1:0},o=t==="out"?r:t==="in"?function(a){return 1-r(1-a)}:W4(r);return o.config=function(a){return e(t,a)},o};kn("Linear,Quad,Cubic,Quart,Quint,Strong",function(e,t){var n=t<5?t+1:t;fi(e+",Power"+(n-1),t?function(r){return Math.pow(r,n)}:function(r){return r},function(r){return 1-Math.pow(1-r,n)},function(r){return r<.5?Math.pow(r*2,n)/2:1-Math.pow((1-r)*2,n)/2})});Ge.Linear.easeNone=Ge.none=Ge.Linear.easeIn;fi("Elastic",im("in"),im("out"),im());(function(e,t){var n=1/t,r=2*n,o=2.5*n,a=function(u){return u<n?e*u*u:u<r?e*Math.pow(u-1.5/t,2)+.75:u<o?e*(u-=2.25/t)*u+.9375:e*Math.pow(u-2.625/t,2)+.984375};fi("Bounce",function(c){return 1-a(1-c)},a)})(7.5625,2.75);fi("Expo",function(e){return Math.pow(2,10*(e-1))*e+e*e*e*e*e*e*(1-e)});fi("Circ",function(e){return-(h4(1-e*e)-1)});fi("Sine",function(e){return e===1?1:-$D(e*OD)+1});fi("Back",am("in"),am("out"),am());Ge.SteppedEase=Ge.steps=Hn.SteppedEase={config:function(t,n){t===void 0&&(t=1);var r=1/t,o=t+(n?0:1),a=n?1:0,c=1-et;return function(u){return((o*gc(0,c,u)|0)+a)*r}}};xa.ease=Ge["quad.out"];kn("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(e){return b1+=e+","+e+"Params,"});var U4=function(t,n){this.id=FD++,t._gsap=this,this.target=t,this.harness=n,this.get=n?n.get:b4,this.set=n?n.getSetter:E1},ec=(function(){function e(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,wa(this,+n.duration,1,1),this.data=n.data,lt&&(this._ctx=lt,lt.data.push(this)),Jl||Dn.wake()}var t=e.prototype;return t.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},t.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},t.totalDuration=function(r){return arguments.length?(this._dirty=0,wa(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(r,o){if(_a(),!arguments.length)return this._tTime;var a=this._dp;if(a&&a.smoothChildTiming&&this._ts){for(Ef(this,r),!a._dp||a.parent||j4(a,this);a&&a.parent;)a.parent._time!==a._start+(a._ts>=0?a._tTime/a._ts:(a.totalDuration()-a._tTime)/-a._ts)&&a.totalTime(a._tTime,!0),a=a.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Vr(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!o||this._initted&&Math.abs(this._zTime)===et||!this._initted&&this._dur&&r||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),C4(this,r,o)),this},t.time=function(r,o){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+P2(this))%(this._dur+this._rDelay)||(r?this._dur:0),o):this._time},t.totalProgress=function(r,o){return arguments.length?this.totalTime(this.totalDuration()*r,o):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},t.progress=function(r,o){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+P2(this),o):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(r,o){var a=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*a,o):this._repeat?ya(this._tTime,a)+1:1},t.timeScale=function(r,o){if(!arguments.length)return this._rts===-et?0:this._rts;if(this._rts===r)return this;var a=this.parent&&this._ts?Dd(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-et?0:this._rts,this.totalTime(gc(-Math.abs(this._delay),this.totalDuration(),a),o!==!1),jf(this),qD(this)},t.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(_a(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==et&&(this._tTime-=et)))),this):this._ps},t.startTime=function(r){if(arguments.length){this._start=ht(r);var o=this.parent||this._dp;return o&&(o._sort||!this.parent)&&Vr(o,this,this._start-this._delay),this}return this._start},t.endTime=function(r){return this._start+(Cn(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(r){var o=this.parent||this._dp;return o?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Dd(o.rawTime(r),this):this._tTime:this._tTime},t.revert=function(r){r===void 0&&(r=YD);var o=Yt;return Yt=r,k1(this)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),Yt=o,this},t.globalTime=function(r){for(var o=this,a=arguments.length?r:o.rawTime();o;)a=o._start+a/(Math.abs(o._ts)||1),o=o._dp;return!this.parent&&this._sat?this._sat.globalTime(r):a},t.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,I2(this)):this._repeat===-2?1/0:this._repeat},t.repeatDelay=function(r){if(arguments.length){var o=this._time;return this._rDelay=r,I2(this),o?this.time(o):this}return this._rDelay},t.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},t.seek=function(r,o){return this.totalTime(er(this,r),Cn(o))},t.restart=function(r,o){return this.play().totalTime(r?-this._delay:0,Cn(o)),this._dur||(this._zTime=-et),this},t.play=function(r,o){return r!=null&&this.seek(r,o),this.reversed(!1).paused(!1)},t.reverse=function(r,o){return r!=null&&this.seek(r||this.totalDuration(),o),this.reversed(!0).paused(!1)},t.pause=function(r,o){return r!=null&&this.seek(r,o),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-et:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-et,this},t.isActive=function(){var r=this.parent||this._dp,o=this._start,a;return!!(!r||this._ts&&this._initted&&r.isActive()&&(a=r.rawTime(!0))>=o&&a<this.endTime(!0)-et)},t.eventCallback=function(r,o,a){var c=this.vars;return arguments.length>1?(o?(c[r]=o,a&&(c[r+"Params"]=a),r==="onUpdate"&&(this._onUpdate=o)):delete c[r],this):c[r]},t.then=function(r){var o=this,a=o._prom;return new Promise(function(c){var u=wt(r)?r:N4,p=function(){var h=o.then;o.then=null,a&&a(),wt(u)&&(u=u(o))&&(u.then||u===o)&&(o.then=h),c(u),o.then=h};o._initted&&o.totalProgress()===1&&o._ts>=0||!o._tTime&&o._ts<0?p():o._prom=p})},t.kill=function(){kl(this)},e})();Wn(ec.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-et,_prom:0,_ps:!1,_rts:1});var cn=(function(e){p4(t,e);function t(r,o){var a;return r===void 0&&(r={}),a=e.call(this,r)||this,a.labels={},a.smoothChildTiming=!!r.smoothChildTiming,a.autoRemoveChildren=!!r.autoRemoveChildren,a._sort=Cn(r.sortChildren),mt&&Vr(r.parent||mt,fo(a),o),r.reversed&&a.reverse(),r.paused&&a.paused(!0),r.scrollTrigger&&E4(fo(a),r.scrollTrigger),a}var n=t.prototype;return n.to=function(o,a,c){return Ml(0,arguments,this),this},n.from=function(o,a,c){return Ml(1,arguments,this),this},n.fromTo=function(o,a,c,u){return Ml(2,arguments,this),this},n.set=function(o,a,c){return a.duration=0,a.parent=this,Il(a).repeatDelay||(a.repeat=0),a.immediateRender=!!a.immediateRender,new St(o,a,er(this,c),1),this},n.call=function(o,a,c){return Vr(this,St.delayedCall(0,o,a),c)},n.staggerTo=function(o,a,c,u,p,f,h){return c.duration=a,c.stagger=c.stagger||u,c.onComplete=f,c.onCompleteParams=h,c.parent=this,new St(o,c,er(this,p)),this},n.staggerFrom=function(o,a,c,u,p,f,h){return c.runBackwards=1,Il(c).immediateRender=Cn(c.immediateRender),this.staggerTo(o,a,c,u,p,f,h)},n.staggerFromTo=function(o,a,c,u,p,f,h,m){return u.startAt=c,Il(u).immediateRender=Cn(u.immediateRender),this.staggerTo(o,a,u,p,f,h,m)},n.render=function(o,a,c){var u=this._time,p=this._dirty?this.totalDuration():this._tDur,f=this._dur,h=o<=0?0:ht(o),m=this._zTime<0!=o<0&&(this._initted||!f),x,y,w,v,C,k,E,N,j,P,L,T;if(this!==mt&&h>p&&o>=0&&(h=p),h!==this._tTime||c||m){if(u!==this._time&&f&&(h+=this._time-u,o+=this._time-u),x=h,j=this._start,N=this._ts,k=!N,m&&(f||(u=this._zTime),(o||!a)&&(this._zTime=o)),this._repeat){if(L=this._yoyo,C=f+this._rDelay,this._repeat<-1&&o<0)return this.totalTime(C*100+o,a,c);if(x=ht(h%C),h===p?(v=this._repeat,x=f):(P=ht(h/C),v=~~P,v&&v===P&&(x=f,v--),x>f&&(x=f)),P=ya(this._tTime,C),!u&&this._tTime&&P!==v&&this._tTime-P*C-this._dur<=0&&(P=v),L&&v&1&&(x=f-x,T=1),v!==P&&!this._lock){var D=L&&P&1,$=D===(L&&v&1);if(v<P&&(D=!D),u=D?0:h%f?f:h,this._lock=1,this.render(u||(T?0:ht(v*C)),a,!f)._lock=0,this._tTime=h,!a&&this.parent&&On(this,"onRepeat"),this.vars.repeatRefresh&&!T&&(this.invalidate()._lock=1,P=v),u&&u!==this._time||k!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(f=this._dur,p=this._tDur,$&&(this._lock=2,u=D?f:-1e-4,this.render(u,!0),this.vars.repeatRefresh&&!T&&this.invalidate()),this._lock=0,!this._ts&&!k)return this;H4(this,T)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(E=tO(this,ht(u),ht(x)),E&&(h-=x-(x=E._start))),this._tTime=h,this._time=x,this._act=!N,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=o,u=0),!u&&h&&f&&!a&&!P&&(On(this,"onStart"),this._tTime!==h))return this;if(x>=u&&o>=0)for(y=this._first;y;){if(w=y._next,(y._act||x>=y._start)&&y._ts&&E!==y){if(y.parent!==this)return this.render(o,a,c);if(y.render(y._ts>0?(x-y._start)*y._ts:(y._dirty?y.totalDuration():y._tDur)+(x-y._start)*y._ts,a,c),x!==this._time||!this._ts&&!k){E=0,w&&(h+=this._zTime=-et);break}}y=w}else{y=this._last;for(var Y=o<0?o:x;y;){if(w=y._prev,(y._act||Y<=y._end)&&y._ts&&E!==y){if(y.parent!==this)return this.render(o,a,c);if(y.render(y._ts>0?(Y-y._start)*y._ts:(y._dirty?y.totalDuration():y._tDur)+(Y-y._start)*y._ts,a,c||Yt&&k1(y)),x!==this._time||!this._ts&&!k){E=0,w&&(h+=this._zTime=Y?-et:et);break}}y=w}}if(E&&!a&&(this.pause(),E.render(x>=u?0:-et)._zTime=x>=u?1:-1,this._ts))return this._start=j,jf(this),this.render(o,a,c);this._onUpdate&&!a&&On(this,"onUpdate",!0),(h===p&&this._tTime>=this.totalDuration()||!h&&u)&&(j===this._start||Math.abs(N)!==Math.abs(this._ts))&&(this._lock||((o||!f)&&(h===p&&this._ts>0||!h&&this._ts<0)&&ps(this,1),!a&&!(o<0&&!u)&&(h||u||!p)&&(On(this,h===p&&o>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(h<p&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(o,a){var c=this;if(No(a)||(a=er(this,a,o)),!(o instanceof ec)){if(tn(o))return o.forEach(function(u){return c.add(u,a)}),this;if(Vt(o))return this.addLabel(o,a);if(wt(o))o=St.delayedCall(0,o);else return this}return this!==o?Vr(this,o,a):this},n.getChildren=function(o,a,c,u){o===void 0&&(o=!0),a===void 0&&(a=!0),c===void 0&&(c=!0),u===void 0&&(u=-tr);for(var p=[],f=this._first;f;)f._start>=u&&(f instanceof St?a&&p.push(f):(c&&p.push(f),o&&p.push.apply(p,f.getChildren(!0,a,c)))),f=f._next;return p},n.getById=function(o){for(var a=this.getChildren(1,1,1),c=a.length;c--;)if(a[c].vars.id===o)return a[c]},n.remove=function(o){return Vt(o)?this.removeLabel(o):wt(o)?this.killTweensOf(o):(o.parent===this&&Sf(this,o),o===this._recent&&(this._recent=this._last),Ks(this))},n.totalTime=function(o,a){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=ht(Dn.time-(this._ts>0?o/this._ts:(this.totalDuration()-o)/-this._ts))),e.prototype.totalTime.call(this,o,a),this._forcing=0,this):this._tTime},n.addLabel=function(o,a){return this.labels[o]=er(this,a),this},n.removeLabel=function(o){return delete this.labels[o],this},n.addPause=function(o,a,c){var u=St.delayedCall(0,a||ql,c);return u.data="isPause",this._hasPause=1,Vr(this,u,er(this,o))},n.removePause=function(o){var a=this._first;for(o=er(this,o);a;)a._start===o&&a.data==="isPause"&&ps(a),a=a._next},n.killTweensOf=function(o,a,c){for(var u=this.getTweensOf(o,c),p=u.length;p--;)os!==u[p]&&u[p].kill(o,a);return this},n.getTweensOf=function(o,a){for(var c=[],u=nr(o),p=this._first,f=No(a),h;p;)p instanceof St?KD(p._targets,u)&&(f?(!os||p._initted&&p._ts)&&p.globalTime(0)<=a&&p.globalTime(p.totalDuration())>a:!a||p.isActive())&&c.push(p):(h=p.getTweensOf(u,a)).length&&c.push.apply(c,h),p=p._next;return c},n.tweenTo=function(o,a){a=a||{};var c=this,u=er(c,o),p=a,f=p.startAt,h=p.onStart,m=p.onStartParams,x=p.immediateRender,y,w=St.to(c,Wn({ease:a.ease||"none",lazy:!1,immediateRender:!1,time:u,overwrite:"auto",duration:a.duration||Math.abs((u-(f&&"time"in f?f.time:c._time))/c.timeScale())||et,onStart:function(){if(c.pause(),!y){var C=a.duration||Math.abs((u-(f&&"time"in f?f.time:c._time))/c.timeScale());w._dur!==C&&wa(w,C,0,1).render(w._time,!0,!0),y=1}h&&h.apply(w,m||[])}},a));return x?w.render(0):w},n.tweenFromTo=function(o,a,c){return this.tweenTo(a,Wn({startAt:{time:er(this,o)}},c))},n.recent=function(){return this._recent},n.nextLabel=function(o){return o===void 0&&(o=this._time),M2(this,er(this,o))},n.previousLabel=function(o){return o===void 0&&(o=this._time),M2(this,er(this,o),1)},n.currentLabel=function(o){return arguments.length?this.seek(o,!0):this.previousLabel(this._time+et)},n.shiftChildren=function(o,a,c){c===void 0&&(c=0);var u=this._first,p=this.labels,f;for(o=ht(o);u;)u._start>=c&&(u._start+=o,u._end+=o),u=u._next;if(a)for(f in p)p[f]>=c&&(p[f]+=o);return Ks(this)},n.invalidate=function(o){var a=this._first;for(this._lock=0;a;)a.invalidate(o),a=a._next;return e.prototype.invalidate.call(this,o)},n.clear=function(o){o===void 0&&(o=!0);for(var a=this._first,c;a;)c=a._next,this.remove(a),a=c;return this._dp&&(this._time=this._tTime=this._pTime=0),o&&(this.labels={}),Ks(this)},n.totalDuration=function(o){var a=0,c=this,u=c._last,p=tr,f,h,m;if(arguments.length)return c.timeScale((c._repeat<0?c.duration():c.totalDuration())/(c.reversed()?-o:o));if(c._dirty){for(m=c.parent;u;)f=u._prev,u._dirty&&u.totalDuration(),h=u._start,h>p&&c._sort&&u._ts&&!c._lock?(c._lock=1,Vr(c,u,h-u._delay,1)._lock=0):p=h,h<0&&u._ts&&(a-=h,(!m&&!c._dp||m&&m.smoothChildTiming)&&(c._start+=ht(h/c._ts),c._time-=h,c._tTime-=h),c.shiftChildren(-h,!1,-1/0),p=0),u._end>a&&u._ts&&(a=u._end),u=f;wa(c,c===mt&&c._time>a?c._time:a,1,1),c._dirty=0}return c._tDur},t.updateRoot=function(o){if(mt._ts&&(C4(mt,Dd(o,mt)),_4=Dn.frame),Dn.frame>=j2){j2+=Bn.autoSleep||120;var a=mt._first;if((!a||!a._ts)&&Bn.autoSleep&&Dn._listeners.length<2){for(;a&&!a._ts;)a=a._next;a||Dn.sleep()}}},t})(ec);Wn(cn.prototype,{_lock:0,_hasPause:0,_forcing:0});var xO=function(t,n,r,o,a,c,u){var p=new Nn(this._pt,t,n,0,1,q4,null,a),f=0,h=0,m,x,y,w,v,C,k,E;for(p.b=r,p.e=o,r+="",o+="",(k=~o.indexOf("random("))&&(o=Ql(o)),c&&(E=[r,o],c(E,t,n),r=E[0],o=E[1]),x=r.match(rm)||[];m=rm.exec(o);)w=m[0],v=o.substring(f,m.index),y?y=(y+1)%5:v.substr(-5)==="rgba("&&(y=1),w!==x[h++]&&(C=parseFloat(x[h-1])||0,p._pt={_next:p._pt,p:v||h===1?v:",",s:C,c:w.charAt(1)==="="?oa(C,w)-C:parseFloat(w)-C,m:y&&y<4?Math.round:0},f=rm.lastIndex);return p.c=f<o.length?o.substring(f,o.length):"",p.fp=u,(x4.test(o)||k)&&(p.e=0),this._pt=p,p},N1=function(t,n,r,o,a,c,u,p,f,h){wt(o)&&(o=o(a||0,t,c));var m=t[n],x=r!=="get"?r:wt(m)?f?t[n.indexOf("set")||!wt(t["get"+n.substr(3)])?n:"get"+n.substr(3)](f):t[n]():m,y=wt(m)?f?bO:Z4:j1,w;if(Vt(o)&&(~o.indexOf("random(")&&(o=Ql(o)),o.charAt(1)==="="&&(w=oa(x,o)+(en(x)||0),(w||w===0)&&(o=w))),!h||x!==o||sg)return!isNaN(x*o)&&o!==""?(w=new Nn(this._pt,t,n,+x||0,o-(x||0),typeof m=="boolean"?kO:X4,0,y),f&&(w.fp=f),u&&w.modifier(u,this,t),this._pt=w):(!m&&!(n in t)&&w1(n,o),xO.call(this,t,n,x,o,y,p||Bn.stringFilter,f))},vO=function(t,n,r,o,a){if(wt(t)&&(t=Ll(t,a,n,r,o)),!Xr(t)||t.style&&t.nodeType||tn(t)||m4(t))return Vt(t)?Ll(t,a,n,r,o):t;var c={},u;for(u in t)c[u]=Ll(t[u],a,n,r,o);return c},G4=function(t,n,r,o,a,c){var u,p,f,h;if(Rn[t]&&(u=new Rn[t]).init(a,u.rawVars?n[t]:vO(n[t],o,a,c,r),r,o,c)!==!1&&(r._pt=p=new Nn(r._pt,a,t,0,1,u.render,u,0,u.priority),r!==qi))for(f=r._ptLookup[r._targets.indexOf(a)],h=u._props.length;h--;)f[u._props[h]]=p;return u},os,sg,S1=function e(t,n,r){var o=t.vars,a=o.ease,c=o.startAt,u=o.immediateRender,p=o.lazy,f=o.onUpdate,h=o.runBackwards,m=o.yoyoEase,x=o.keyframes,y=o.autoRevert,w=t._dur,v=t._startAt,C=t._targets,k=t.parent,E=k&&k.data==="nested"?k.vars.targets:C,N=t._overwrite==="auto"&&!g1,j=t.timeline,P,L,T,D,$,Y,G,V,W,z,M,F,H;if(j&&(!x||!a)&&(a="none"),t._ease=Zs(a,xa.ease),t._yEase=m?V4(Zs(m===!0?a:m,xa.ease)):0,m&&t._yoyo&&!t._repeat&&(m=t._yEase,t._yEase=t._ease,t._ease=m),t._from=!j&&!!o.runBackwards,!j||x&&!o.stagger){if(V=C[0]?Ys(C[0]).harness:0,F=V&&o[V.prop],P=zd(o,_1),v&&(v._zTime<0&&v.progress(1),n<0&&h&&u&&!y?v.render(-1,!0):v.revert(h&&w?cd:GD),v._lazy=0),c){if(ps(t._startAt=St.set(C,Wn({data:"isStart",overwrite:!1,parent:k,immediateRender:!0,lazy:!v&&Cn(p),startAt:null,delay:0,onUpdate:f&&function(){return On(t,"onUpdate")},stagger:0},c))),t._startAt._dp=0,t._startAt._sat=t,n<0&&(Yt||!u&&!y)&&t._startAt.revert(cd),u&&w&&n<=0&&r<=0){n&&(t._zTime=n);return}}else if(h&&w&&!v){if(n&&(u=!1),T=Wn({overwrite:!1,data:"isFromStart",lazy:u&&!v&&Cn(p),immediateRender:u,stagger:0,parent:k},P),F&&(T[V.prop]=F),ps(t._startAt=St.set(C,T)),t._startAt._dp=0,t._startAt._sat=t,n<0&&(Yt?t._startAt.revert(cd):t._startAt.render(-1,!0)),t._zTime=n,!u)e(t._startAt,et,et);else if(!n)return}for(t._pt=t._ptCache=0,p=w&&Cn(p)||p&&!w,L=0;L<C.length;L++){if($=C[L],G=$._gsap||C1(C)[L]._gsap,t._ptLookup[L]=z={},Jm[G.id]&&as.length&&Ad(),M=E===C?L:E.indexOf($),V&&(W=new V).init($,F||P,t,M,E)!==!1&&(t._pt=D=new Nn(t._pt,$,W.name,0,1,W.render,W,0,W.priority),W._props.forEach(function(R){z[R]=D}),W.priority&&(Y=1)),!V||F)for(T in P)Rn[T]&&(W=G4(T,P,t,M,$,E))?W.priority&&(Y=1):z[T]=D=N1.call(t,$,T,"get",P[T],M,E,0,o.stringFilter);t._op&&t._op[L]&&t.kill($,t._op[L]),N&&t._pt&&(os=t,mt.killTweensOf($,z,t.globalTime(n)),H=!t.parent,os=0),t._pt&&p&&(Jm[G.id]=1)}Y&&Q4(t),t._onInit&&t._onInit(t)}t._onUpdate=f,t._initted=(!t._op||t._pt)&&!H,x&&n<=0&&j.render(tr,!0,!0)},yO=function(t,n,r,o,a,c,u,p){var f=(t._pt&&t._ptCache||(t._ptCache={}))[n],h,m,x,y;if(!f)for(f=t._ptCache[n]=[],x=t._ptLookup,y=t._targets.length;y--;){if(h=x[y][n],h&&h.d&&h.d._pt)for(h=h.d._pt;h&&h.p!==n&&h.fp!==n;)h=h._next;if(!h)return sg=1,t.vars[n]="+=0",S1(t,u),sg=0,p?Xl(n+" not eligible for reset"):1;f.push(h)}for(y=f.length;y--;)m=f[y],h=m._pt||m,h.s=(o||o===0)&&!a?o:h.s+(o||0)+c*h.c,h.c=r-h.s,m.e&&(m.e=Ct(r)+en(m.e)),m.b&&(m.b=h.s+en(m.b))},wO=function(t,n){var r=t[0]?Ys(t[0]).harness:0,o=r&&r.aliases,a,c,u,p;if(!o)return n;a=va({},n);for(c in o)if(c in a)for(p=o[c].split(","),u=p.length;u--;)a[p[u]]=a[c];return a},_O=function(t,n,r,o){var a=n.ease||o||"power1.inOut",c,u;if(tn(n))u=r[t]||(r[t]=[]),n.forEach(function(p,f){return u.push({t:f/(n.length-1)*100,v:p,e:a})});else for(c in n)u=r[c]||(r[c]=[]),c==="ease"||u.push({t:parseFloat(t),v:n[c],e:a})},Ll=function(t,n,r,o,a){return wt(t)?t.call(n,r,o,a):Vt(t)&&~t.indexOf("random(")?Ql(t):t},Y4=b1+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",K4={};kn(Y4+",id,stagger,delay,duration,paused,scrollTrigger",function(e){return K4[e]=1});var St=(function(e){p4(t,e);function t(r,o,a,c){var u;typeof o=="number"&&(a.duration=o,o=a,a=null),u=e.call(this,c?o:Il(o))||this;var p=u.vars,f=p.duration,h=p.delay,m=p.immediateRender,x=p.stagger,y=p.overwrite,w=p.keyframes,v=p.defaults,C=p.scrollTrigger,k=p.yoyoEase,E=o.parent||mt,N=(tn(r)||m4(r)?No(r[0]):"length"in o)?[r]:nr(r),j,P,L,T,D,$,Y,G;if(u._targets=N.length?C1(N):Xl("GSAP target "+r+" not found. https://gsap.com",!Bn.nullTargetWarn)||[],u._ptLookup=[],u._overwrite=y,w||x||Qu(f)||Qu(h)){if(o=u.vars,j=u.timeline=new cn({data:"nested",defaults:v||{},targets:E&&E.data==="nested"?E.vars.targets:N}),j.kill(),j.parent=j._dp=fo(u),j._start=0,x||Qu(f)||Qu(h)){if(T=N.length,Y=x&&L4(x),Xr(x))for(D in x)~Y4.indexOf(D)&&(G||(G={}),G[D]=x[D]);for(P=0;P<T;P++)L=zd(o,K4),L.stagger=0,k&&(L.yoyoEase=k),G&&va(L,G),$=N[P],L.duration=+Ll(f,fo(u),P,$,N),L.delay=(+Ll(h,fo(u),P,$,N)||0)-u._delay,!x&&T===1&&L.delay&&(u._delay=h=L.delay,u._start+=h,L.delay=0),j.to($,L,Y?Y(P,$,N):0),j._ease=Ge.none;j.duration()?f=h=0:u.timeline=0}else if(w){Il(Wn(j.vars.defaults,{ease:"none"})),j._ease=Zs(w.ease||o.ease||"none");var V=0,W,z,M;if(tn(w))w.forEach(function(F){return j.to(N,F,">")}),j.duration();else{L={};for(D in w)D==="ease"||D==="easeEach"||_O(D,w[D],L,w.easeEach);for(D in L)for(W=L[D].sort(function(F,H){return F.t-H.t}),V=0,P=0;P<W.length;P++)z=W[P],M={ease:z.e,duration:(z.t-(P?W[P-1].t:0))/100*f},M[D]=z.v,j.to(N,M,V),V+=M.duration;j.duration()<f&&j.to({},{duration:f-j.duration()})}}f||u.duration(f=j.duration())}else u.timeline=0;return y===!0&&!g1&&(os=fo(u),mt.killTweensOf(N),os=0),Vr(E,fo(u),a),o.reversed&&u.reverse(),o.paused&&u.paused(!0),(m||!f&&!w&&u._start===ht(E._time)&&Cn(m)&&QD(fo(u))&&E.data!=="nested")&&(u._tTime=-et,u.render(Math.max(0,-h)||0)),C&&E4(fo(u),C),u}var n=t.prototype;return n.render=function(o,a,c){var u=this._time,p=this._tDur,f=this._dur,h=o<0,m=o>p-et&&!h?p:o<et?0:o,x,y,w,v,C,k,E,N,j;if(!f)eO(this,o,a,c);else if(m!==this._tTime||!o||c||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==h||this._lazy){if(x=m,N=this.timeline,this._repeat){if(v=f+this._rDelay,this._repeat<-1&&h)return this.totalTime(v*100+o,a,c);if(x=ht(m%v),m===p?(w=this._repeat,x=f):(C=ht(m/v),w=~~C,w&&w===C?(x=f,w--):x>f&&(x=f)),k=this._yoyo&&w&1,k&&(j=this._yEase,x=f-x),C=ya(this._tTime,v),x===u&&!c&&this._initted&&w===C)return this._tTime=m,this;w!==C&&(N&&this._yEase&&H4(N,k),this.vars.repeatRefresh&&!k&&!this._lock&&x!==v&&this._initted&&(this._lock=c=1,this.render(ht(v*w),!0).invalidate()._lock=0))}if(!this._initted){if(P4(this,h?o:x,c,a,m))return this._tTime=0,this;if(u!==this._time&&!(c&&this.vars.repeatRefresh&&w!==C))return this;if(f!==this._dur)return this.render(o,a,c)}if(this._tTime=m,this._time=x,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=E=(j||this._ease)(x/f),this._from&&(this.ratio=E=1-E),!u&&m&&!a&&!C&&(On(this,"onStart"),this._tTime!==m))return this;for(y=this._pt;y;)y.r(E,y.d),y=y._next;N&&N.render(o<0?o:N._dur*N._ease(x/this._dur),a,c)||this._startAt&&(this._zTime=o),this._onUpdate&&!a&&(h&&eg(this,o,a,c),On(this,"onUpdate")),this._repeat&&w!==C&&this.vars.onRepeat&&!a&&this.parent&&On(this,"onRepeat"),(m===this._tDur||!m)&&this._tTime===m&&(h&&!this._onUpdate&&eg(this,o,!0,!0),(o||!f)&&(m===this._tDur&&this._ts>0||!m&&this._ts<0)&&ps(this,1),!a&&!(h&&!u)&&(m||u||k)&&(On(this,m===p?"onComplete":"onReverseComplete",!0),this._prom&&!(m<p&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(o){return(!o||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(o),e.prototype.invalidate.call(this,o)},n.resetTo=function(o,a,c,u,p){Jl||Dn.wake(),this._ts||this.play();var f=Math.min(this._dur,(this._dp._time-this._start)*this._ts),h;return this._initted||S1(this,f),h=this._ease(f/this._dur),yO(this,o,a,c,u,h,f,p)?this.resetTo(o,a,c,u,1):(Ef(this,0),this.parent||S4(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(o,a){if(a===void 0&&(a="all"),!o&&(!a||a==="all"))return this._lazy=this._pt=0,this.parent?kl(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Yt),this;if(this.timeline){var c=this.timeline.totalDuration();return this.timeline.killTweensOf(o,a,os&&os.vars.overwrite!==!0)._first||kl(this),this.parent&&c!==this.timeline.totalDuration()&&wa(this,this._dur*this.timeline._tDur/c,0,1),this}var u=this._targets,p=o?nr(o):u,f=this._ptLookup,h=this._pt,m,x,y,w,v,C,k;if((!a||a==="all")&&XD(u,p))return a==="all"&&(this._pt=0),kl(this);for(m=this._op=this._op||[],a!=="all"&&(Vt(a)&&(v={},kn(a,function(E){return v[E]=1}),a=v),a=wO(u,a)),k=u.length;k--;)if(~p.indexOf(u[k])){x=f[k],a==="all"?(m[k]=a,w=x,y={}):(y=m[k]=m[k]||{},w=a);for(v in w)C=x&&x[v],C&&((!("kill"in C.d)||C.d.kill(v)===!0)&&Sf(this,C,"_pt"),delete x[v]),y!=="all"&&(y[v]=1)}return this._initted&&!this._pt&&h&&kl(this),this},t.to=function(o,a){return new t(o,a,arguments[2])},t.from=function(o,a){return Ml(1,arguments)},t.delayedCall=function(o,a,c,u){return new t(a,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:o,onComplete:a,onReverseComplete:a,onCompleteParams:c,onReverseCompleteParams:c,callbackScope:u})},t.fromTo=function(o,a,c){return Ml(2,arguments)},t.set=function(o,a){return a.duration=0,a.repeatDelay||(a.repeat=0),new t(o,a)},t.killTweensOf=function(o,a,c){return mt.killTweensOf(o,a,c)},t})(ec);Wn(St.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});kn("staggerTo,staggerFrom,staggerFromTo",function(e){St[e]=function(){var t=new cn,n=ng.call(arguments,0);return n.splice(e==="staggerFromTo"?5:4,0,0),t[e].apply(t,n)}});var j1=function(t,n,r){return t[n]=r},Z4=function(t,n,r){return t[n](r)},bO=function(t,n,r,o){return t[n](o.fp,r)},CO=function(t,n,r){return t.setAttribute(n,r)},E1=function(t,n){return wt(t[n])?Z4:x1(t[n])&&t.setAttribute?CO:j1},X4=function(t,n){return n.set(n.t,n.p,Math.round((n.s+n.c*t)*1e6)/1e6,n)},kO=function(t,n){return n.set(n.t,n.p,!!(n.s+n.c*t),n)},q4=function(t,n){var r=n._pt,o="";if(!t&&n.b)o=n.b;else if(t===1&&n.e)o=n.e;else{for(;r;)o=r.p+(r.m?r.m(r.s+r.c*t):Math.round((r.s+r.c*t)*1e4)/1e4)+o,r=r._next;o+=n.c}n.set(n.t,n.p,o,n)},P1=function(t,n){for(var r=n._pt;r;)r.r(t,r.d),r=r._next},NO=function(t,n,r,o){for(var a=this._pt,c;a;)c=a._next,a.p===o&&a.modifier(t,n,r),a=c},SO=function(t){for(var n=this._pt,r,o;n;)o=n._next,n.p===t&&!n.op||n.op===t?Sf(this,n,"_pt"):n.dep||(r=1),n=o;return!r},jO=function(t,n,r,o){o.mSet(t,n,o.m.call(o.tween,r,o.mt),o)},Q4=function(t){for(var n=t._pt,r,o,a,c;n;){for(r=n._next,o=a;o&&o.pr>n.pr;)o=o._next;(n._prev=o?o._prev:c)?n._prev._next=n:a=n,(n._next=o)?o._prev=n:c=n,n=r}t._pt=a},Nn=(function(){function e(n,r,o,a,c,u,p,f,h){this.t=r,this.s=a,this.c=c,this.p=o,this.r=u||X4,this.d=p||this,this.set=f||j1,this.pr=h||0,this._next=n,n&&(n._prev=this)}var t=e.prototype;return t.modifier=function(r,o,a){this.mSet=this.mSet||this.set,this.set=jO,this.m=r,this.mt=a,this.tween=o},e})();kn(b1+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(e){return _1[e]=1});Hn.TweenMax=Hn.TweenLite=St;Hn.TimelineLite=Hn.TimelineMax=cn;mt=new cn({sortChildren:!1,defaults:xa,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Bn.stringFilter=B4;var Xs=[],dd={},EO=[],T2=0,PO=0,lm=function(t){return(dd[t]||EO).map(function(n){return n()})},ig=function(){var t=Date.now(),n=[];t-T2>2&&(lm("matchMediaInit"),Xs.forEach(function(r){var o=r.queries,a=r.conditions,c,u,p,f;for(u in o)c=Fr.matchMedia(o[u]).matches,c&&(p=1),c!==a[u]&&(a[u]=c,f=1);f&&(r.revert(),p&&n.push(r))}),lm("matchMediaRevert"),n.forEach(function(r){return r.onMatch(r,function(o){return r.add(null,o)})}),T2=t,lm("matchMedia"))},J4=(function(){function e(n,r){this.selector=r&&rg(r),this.data=[],this._r=[],this.isReverted=!1,this.id=PO++,n&&this.add(n)}var t=e.prototype;return t.add=function(r,o,a){wt(r)&&(a=o,o=r,r=wt);var c=this,u=function(){var f=lt,h=c.selector,m;return f&&f!==c&&f.data.push(c),a&&(c.selector=rg(a)),lt=c,m=o.apply(c,arguments),wt(m)&&c._r.push(m),lt=f,c.selector=h,c.isReverted=!1,m};return c.last=u,r===wt?u(c,function(p){return c.add(null,p)}):r?c[r]=u:u},t.ignore=function(r){var o=lt;lt=null,r(this),lt=o},t.getTweens=function(){var r=[];return this.data.forEach(function(o){return o instanceof e?r.push.apply(r,o.getTweens()):o instanceof St&&!(o.parent&&o.parent.data==="nested")&&r.push(o)}),r},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(r,o){var a=this;if(r?(function(){for(var u=a.getTweens(),p=a.data.length,f;p--;)f=a.data[p],f.data==="isFlip"&&(f.revert(),f.getChildren(!0,!0,!1).forEach(function(h){return u.splice(u.indexOf(h),1)}));for(u.map(function(h){return{g:h._dur||h._delay||h._sat&&!h._sat.vars.immediateRender?h.globalTime(0):-1/0,t:h}}).sort(function(h,m){return m.g-h.g||-1/0}).forEach(function(h){return h.t.revert(r)}),p=a.data.length;p--;)f=a.data[p],f instanceof cn?f.data!=="nested"&&(f.scrollTrigger&&f.scrollTrigger.revert(),f.kill()):!(f instanceof St)&&f.revert&&f.revert(r);a._r.forEach(function(h){return h(r,a)}),a.isReverted=!0})():this.data.forEach(function(u){return u.kill&&u.kill()}),this.clear(),o)for(var c=Xs.length;c--;)Xs[c].id===this.id&&Xs.splice(c,1)},t.revert=function(r){this.kill(r||{})},e})(),IO=(function(){function e(n){this.contexts=[],this.scope=n,lt&&lt.data.push(this)}var t=e.prototype;return t.add=function(r,o,a){Xr(r)||(r={matches:r});var c=new J4(0,a||this.scope),u=c.conditions={},p,f,h;lt&&!c.selector&&(c.selector=lt.selector),this.contexts.push(c),o=c.add("onMatch",o),c.queries=r;for(f in r)f==="all"?h=1:(p=Fr.matchMedia(r[f]),p&&(Xs.indexOf(c)<0&&Xs.push(c),(u[f]=p.matches)&&(h=1),p.addListener?p.addListener(ig):p.addEventListener("change",ig)));return h&&o(c,function(m){return c.add(null,m)}),this},t.revert=function(r){this.kill(r||{})},t.kill=function(r){this.contexts.forEach(function(o){return o.kill(r,!0)})},e})(),Od={registerPlugin:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach(function(o){return O4(o)})},timeline:function(t){return new cn(t)},getTweensOf:function(t,n){return mt.getTweensOf(t,n)},getProperty:function(t,n,r,o){Vt(t)&&(t=nr(t)[0]);var a=Ys(t||{}).get,c=r?N4:k4;return r==="native"&&(r=""),t&&(n?c((Rn[n]&&Rn[n].get||a)(t,n,r,o)):function(u,p,f){return c((Rn[u]&&Rn[u].get||a)(t,u,p,f))})},quickSetter:function(t,n,r){if(t=nr(t),t.length>1){var o=t.map(function(h){return jn.quickSetter(h,n,r)}),a=o.length;return function(h){for(var m=a;m--;)o[m](h)}}t=t[0]||{};var c=Rn[n],u=Ys(t),p=u.harness&&(u.harness.aliases||{})[n]||n,f=c?function(h){var m=new c;qi._pt=0,m.init(t,r?h+r:h,qi,0,[t]),m.render(1,m),qi._pt&&P1(1,qi)}:u.set(t,p);return c?f:function(h){return f(t,p,r?h+r:h,u,1)}},quickTo:function(t,n,r){var o,a=jn.to(t,Wn((o={},o[n]="+=0.1",o.paused=!0,o.stagger=0,o),r||{})),c=function(p,f,h){return a.resetTo(n,p,f,h)};return c.tween=a,c},isTweening:function(t){return mt.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Zs(t.ease,xa.ease)),E2(xa,t||{})},config:function(t){return E2(Bn,t||{})},registerEffect:function(t){var n=t.name,r=t.effect,o=t.plugins,a=t.defaults,c=t.extendTimeline;(o||"").split(",").forEach(function(u){return u&&!Rn[u]&&!Hn[u]&&Xl(n+" effect requires "+u+" plugin.")}),om[n]=function(u,p,f){return r(nr(u),Wn(p||{},a),f)},c&&(cn.prototype[n]=function(u,p,f){return this.add(om[n](u,Xr(p)?p:(f=p)&&{},this),f)})},registerEase:function(t,n){Ge[t]=Zs(n)},parseEase:function(t,n){return arguments.length?Zs(t,n):Ge},getById:function(t){return mt.getById(t)},exportRoot:function(t,n){t===void 0&&(t={});var r=new cn(t),o,a;for(r.smoothChildTiming=Cn(t.smoothChildTiming),mt.remove(r),r._dp=0,r._time=r._tTime=mt._time,o=mt._first;o;)a=o._next,(n||!(!o._dur&&o instanceof St&&o.vars.onComplete===o._targets[0]))&&Vr(r,o,o._start-o._delay),o=a;return Vr(mt,r,0),r},context:function(t,n){return t?new J4(t,n):lt},matchMedia:function(t){return new IO(t)},matchMediaRefresh:function(){return Xs.forEach(function(t){var n=t.conditions,r,o;for(o in n)n[o]&&(n[o]=!1,r=1);r&&t.revert()})||ig()},addEventListener:function(t,n){var r=dd[t]||(dd[t]=[]);~r.indexOf(n)||r.push(n)},removeEventListener:function(t,n){var r=dd[t],o=r&&r.indexOf(n);o>=0&&r.splice(o,1)},utils:{wrap:lO,wrapYoyo:cO,distribute:L4,random:R4,snap:T4,normalize:aO,getUnit:en,clamp:rO,splitColor:F4,toArray:nr,selector:rg,mapRange:z4,pipe:sO,unitize:iO,interpolate:uO,shuffle:M4},install:y4,effects:om,ticker:Dn,updateRoot:cn.updateRoot,plugins:Rn,globalTimeline:mt,core:{PropTween:Nn,globals:w4,Tween:St,Timeline:cn,Animation:ec,getCache:Ys,_removeLinkedListItem:Sf,reverting:function(){return Yt},context:function(t){return t&&lt&&(lt.data.push(t),t._ctx=lt),lt},suppressOverwrites:function(t){return g1=t}}};kn("to,from,fromTo,delayedCall,set,killTweensOf",function(e){return Od[e]=St[e]});Dn.add(cn.updateRoot);qi=Od.to({},{duration:0});var MO=function(t,n){for(var r=t._pt;r&&r.p!==n&&r.op!==n&&r.fp!==n;)r=r._next;return r},LO=function(t,n){var r=t._targets,o,a,c;for(o in n)for(a=r.length;a--;)c=t._ptLookup[a][o],c&&(c=c.d)&&(c._pt&&(c=MO(c,o)),c&&c.modifier&&c.modifier(n[o],t,r[a],o))},cm=function(t,n){return{name:t,headless:1,rawVars:1,init:function(o,a,c){c._onInit=function(u){var p,f;if(Vt(a)&&(p={},kn(a,function(h){return p[h]=1}),a=p),n){p={};for(f in a)p[f]=n(a[f]);a=p}LO(u,a)}}}},jn=Od.registerPlugin({name:"attr",init:function(t,n,r,o,a){var c,u,p;this.tween=r;for(c in n)p=t.getAttribute(c)||"",u=this.add(t,"setAttribute",(p||0)+"",n[c],o,a,0,0,c),u.op=c,u.b=p,this._props.push(c)},render:function(t,n){for(var r=n._pt;r;)Yt?r.set(r.t,r.p,r.b,r):r.r(t,r.d),r=r._next}},{name:"endArray",headless:1,init:function(t,n){for(var r=n.length;r--;)this.add(t,r,t[r]||0,n[r],0,0,0,0,0,1)}},cm("roundProps",og),cm("modifiers"),cm("snap",T4))||Od;St.version=cn.version=jn.version="3.14.2";v4=1;v1()&&_a();Ge.Power0;Ge.Power1;Ge.Power2;Ge.Power3;Ge.Power4;Ge.Linear;Ge.Quad;Ge.Cubic;Ge.Quart;Ge.Quint;Ge.Strong;Ge.Elastic;Ge.Back;Ge.SteppedEase;Ge.Bounce;Ge.Sine;Ge.Expo;Ge.Circ;/*!
 * CSSPlugin 3.14.2
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var R2,ss,sa,I1,Ws,A2,M1,TO=function(){return typeof window<"u"},So={},Bs=180/Math.PI,ia=Math.PI/180,Yi=Math.atan2,z2=1e8,L1=/([A-Z])/g,RO=/(left|right|width|margin|padding|x)/i,AO=/[\s,\(]\S/,Wr={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},ag=function(t,n){return n.set(n.t,n.p,Math.round((n.s+n.c*t)*1e4)/1e4+n.u,n)},zO=function(t,n){return n.set(n.t,n.p,t===1?n.e:Math.round((n.s+n.c*t)*1e4)/1e4+n.u,n)},DO=function(t,n){return n.set(n.t,n.p,t?Math.round((n.s+n.c*t)*1e4)/1e4+n.u:n.b,n)},OO=function(t,n){return n.set(n.t,n.p,t===1?n.e:t?Math.round((n.s+n.c*t)*1e4)/1e4+n.u:n.b,n)},FO=function(t,n){var r=n.s+n.c*t;n.set(n.t,n.p,~~(r+(r<0?-.5:.5))+n.u,n)},e6=function(t,n){return n.set(n.t,n.p,t?n.e:n.b,n)},t6=function(t,n){return n.set(n.t,n.p,t!==1?n.b:n.e,n)},$O=function(t,n,r){return t.style[n]=r},BO=function(t,n,r){return t.style.setProperty(n,r)},VO=function(t,n,r){return t._gsap[n]=r},HO=function(t,n,r){return t._gsap.scaleX=t._gsap.scaleY=r},WO=function(t,n,r,o,a){var c=t._gsap;c.scaleX=c.scaleY=r,c.renderTransform(a,c)},UO=function(t,n,r,o,a){var c=t._gsap;c[n]=r,c.renderTransform(a,c)},gt="transform",Sn=gt+"Origin",GO=function e(t,n){var r=this,o=this.target,a=o.style,c=o._gsap;if(t in So&&a){if(this.tfm=this.tfm||{},t!=="transform")t=Wr[t]||t,~t.indexOf(",")?t.split(",").forEach(function(u){return r.tfm[u]=po(o,u)}):this.tfm[t]=c.x?c[t]:po(o,t),t===Sn&&(this.tfm.zOrigin=c.zOrigin);else return Wr.transform.split(",").forEach(function(u){return e.call(r,u,n)});if(this.props.indexOf(gt)>=0)return;c.svg&&(this.svgo=o.getAttribute("data-svg-origin"),this.props.push(Sn,n,"")),t=gt}(a||n)&&this.props.push(t,n,a[t])},n6=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},YO=function(){var t=this.props,n=this.target,r=n.style,o=n._gsap,a,c;for(a=0;a<t.length;a+=3)t[a+1]?t[a+1]===2?n[t[a]](t[a+2]):n[t[a]]=t[a+2]:t[a+2]?r[t[a]]=t[a+2]:r.removeProperty(t[a].substr(0,2)==="--"?t[a]:t[a].replace(L1,"-$1").toLowerCase());if(this.tfm){for(c in this.tfm)o[c]=this.tfm[c];o.svg&&(o.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),a=M1(),(!a||!a.isStart)&&!r[gt]&&(n6(r),o.zOrigin&&r[Sn]&&(r[Sn]+=" "+o.zOrigin+"px",o.zOrigin=0,o.renderTransform()),o.uncache=1)}},r6=function(t,n){var r={target:t,props:[],revert:YO,save:GO};return t._gsap||jn.core.getCache(t),n&&t.style&&t.nodeType&&n.split(",").forEach(function(o){return r.save(o)}),r},o6,lg=function(t,n){var r=ss.createElementNS?ss.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):ss.createElement(t);return r&&r.style?r:ss.createElement(t)},Fn=function e(t,n,r){var o=getComputedStyle(t);return o[n]||o.getPropertyValue(n.replace(L1,"-$1").toLowerCase())||o.getPropertyValue(n)||!r&&e(t,ba(n)||n,1)||""},D2="O,Moz,ms,Ms,Webkit".split(","),ba=function(t,n,r){var o=n||Ws,a=o.style,c=5;if(t in a&&!r)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);c--&&!(D2[c]+t in a););return c<0?null:(c===3?"ms":c>=0?D2[c]:"")+t},cg=function(){TO()&&window.document&&(R2=window,ss=R2.document,sa=ss.documentElement,Ws=lg("div")||{style:{}},lg("div"),gt=ba(gt),Sn=gt+"Origin",Ws.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",o6=!!ba("perspective"),M1=jn.core.reverting,I1=1)},O2=function(t){var n=t.ownerSVGElement,r=lg("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),o=t.cloneNode(!0),a;o.style.display="block",r.appendChild(o),sa.appendChild(r);try{a=o.getBBox()}catch{}return r.removeChild(o),sa.removeChild(r),a},F2=function(t,n){for(var r=n.length;r--;)if(t.hasAttribute(n[r]))return t.getAttribute(n[r])},s6=function(t){var n,r;try{n=t.getBBox()}catch{n=O2(t),r=1}return n&&(n.width||n.height)||r||(n=O2(t)),n&&!n.width&&!n.x&&!n.y?{x:+F2(t,["x","cx","x1"])||0,y:+F2(t,["y","cy","y1"])||0,width:0,height:0}:n},i6=function(t){return!!(t.getCTM&&(!t.parentNode||t.ownerSVGElement)&&s6(t))},hs=function(t,n){if(n){var r=t.style,o;n in So&&n!==Sn&&(n=gt),r.removeProperty?(o=n.substr(0,2),(o==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),r.removeProperty(o==="--"?n:n.replace(L1,"-$1").toLowerCase())):r.removeAttribute(n)}},is=function(t,n,r,o,a,c){var u=new Nn(t._pt,n,r,0,1,c?t6:e6);return t._pt=u,u.b=o,u.e=a,t._props.push(r),u},$2={deg:1,rad:1,turn:1},KO={grid:1,flex:1},ms=function e(t,n,r,o){var a=parseFloat(r)||0,c=(r+"").trim().substr((a+"").length)||"px",u=Ws.style,p=RO.test(n),f=t.tagName.toLowerCase()==="svg",h=(f?"client":"offset")+(p?"Width":"Height"),m=100,x=o==="px",y=o==="%",w,v,C,k;if(o===c||!a||$2[o]||$2[c])return a;if(c!=="px"&&!x&&(a=e(t,n,r,"px")),k=t.getCTM&&i6(t),(y||c==="%")&&(So[n]||~n.indexOf("adius")))return w=k?t.getBBox()[p?"width":"height"]:t[h],Ct(y?a/w*m:a/100*w);if(u[p?"width":"height"]=m+(x?c:o),v=o!=="rem"&&~n.indexOf("adius")||o==="em"&&t.appendChild&&!f?t:t.parentNode,k&&(v=(t.ownerSVGElement||{}).parentNode),(!v||v===ss||!v.appendChild)&&(v=ss.body),C=v._gsap,C&&y&&C.width&&p&&C.time===Dn.time&&!C.uncache)return Ct(a/C.width*m);if(y&&(n==="height"||n==="width")){var E=t.style[n];t.style[n]=m+o,w=t[h],E?t.style[n]=E:hs(t,n)}else(y||c==="%")&&!KO[Fn(v,"display")]&&(u.position=Fn(t,"position")),v===t&&(u.position="static"),v.appendChild(Ws),w=Ws[h],v.removeChild(Ws),u.position="absolute";return p&&y&&(C=Ys(v),C.time=Dn.time,C.width=v[h]),Ct(x?w*a/m:w&&a?m/w*a:0)},po=function(t,n,r,o){var a;return I1||cg(),n in Wr&&n!=="transform"&&(n=Wr[n],~n.indexOf(",")&&(n=n.split(",")[0])),So[n]&&n!=="transform"?(a=nc(t,o),a=n!=="transformOrigin"?a[n]:a.svg?a.origin:$d(Fn(t,Sn))+" "+a.zOrigin+"px"):(a=t.style[n],(!a||a==="auto"||o||~(a+"").indexOf("calc("))&&(a=Fd[n]&&Fd[n](t,n,r)||Fn(t,n)||b4(t,n)||(n==="opacity"?1:0))),r&&!~(a+"").trim().indexOf(" ")?ms(t,n,a,r)+r:a},ZO=function(t,n,r,o){if(!r||r==="none"){var a=ba(n,t,1),c=a&&Fn(t,a,1);c&&c!==r?(n=a,r=c):n==="borderColor"&&(r=Fn(t,"borderTopColor"))}var u=new Nn(this._pt,t.style,n,0,1,q4),p=0,f=0,h,m,x,y,w,v,C,k,E,N,j,P;if(u.b=r,u.e=o,r+="",o+="",o.substring(0,6)==="var(--"&&(o=Fn(t,o.substring(4,o.indexOf(")")))),o==="auto"&&(v=t.style[n],t.style[n]=o,o=Fn(t,n)||o,v?t.style[n]=v:hs(t,n)),h=[r,o],B4(h),r=h[0],o=h[1],x=r.match(Xi)||[],P=o.match(Xi)||[],P.length){for(;m=Xi.exec(o);)C=m[0],E=o.substring(p,m.index),w?w=(w+1)%5:(E.substr(-5)==="rgba("||E.substr(-5)==="hsla(")&&(w=1),C!==(v=x[f++]||"")&&(y=parseFloat(v)||0,j=v.substr((y+"").length),C.charAt(1)==="="&&(C=oa(y,C)+j),k=parseFloat(C),N=C.substr((k+"").length),p=Xi.lastIndex-N.length,N||(N=N||Bn.units[n]||j,p===o.length&&(o+=N,u.e+=N)),j!==N&&(y=ms(t,n,v,N)||0),u._pt={_next:u._pt,p:E||f===1?E:",",s:y,c:k-y,m:w&&w<4||n==="zIndex"?Math.round:0});u.c=p<o.length?o.substring(p,o.length):""}else u.r=n==="display"&&o==="none"?t6:e6;return x4.test(o)&&(u.e=0),this._pt=u,u},B2={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},XO=function(t){var n=t.split(" "),r=n[0],o=n[1]||"50%";return(r==="top"||r==="bottom"||o==="left"||o==="right")&&(t=r,r=o,o=t),n[0]=B2[r]||r,n[1]=B2[o]||o,n.join(" ")},qO=function(t,n){if(n.tween&&n.tween._time===n.tween._dur){var r=n.t,o=r.style,a=n.u,c=r._gsap,u,p,f;if(a==="all"||a===!0)o.cssText="",p=1;else for(a=a.split(","),f=a.length;--f>-1;)u=a[f],So[u]&&(p=1,u=u==="transformOrigin"?Sn:gt),hs(r,u);p&&(hs(r,gt),c&&(c.svg&&r.removeAttribute("transform"),o.scale=o.rotate=o.translate="none",nc(r,1),c.uncache=1,n6(o)))}},Fd={clearProps:function(t,n,r,o,a){if(a.data!=="isFromStart"){var c=t._pt=new Nn(t._pt,n,r,0,0,qO);return c.u=o,c.pr=-10,c.tween=a,t._props.push(r),1}}},tc=[1,0,0,1,0,0],a6={},l6=function(t){return t==="matrix(1, 0, 0, 1, 0, 0)"||t==="none"||!t},V2=function(t){var n=Fn(t,gt);return l6(n)?tc:n.substr(7).match(g4).map(Ct)},T1=function(t,n){var r=t._gsap||Ys(t),o=t.style,a=V2(t),c,u,p,f;return r.svg&&t.getAttribute("transform")?(p=t.transform.baseVal.consolidate().matrix,a=[p.a,p.b,p.c,p.d,p.e,p.f],a.join(",")==="1,0,0,1,0,0"?tc:a):(a===tc&&!t.offsetParent&&t!==sa&&!r.svg&&(p=o.display,o.display="block",c=t.parentNode,(!c||!t.offsetParent&&!t.getBoundingClientRect().width)&&(f=1,u=t.nextElementSibling,sa.appendChild(t)),a=V2(t),p?o.display=p:hs(t,"display"),f&&(u?c.insertBefore(t,u):c?c.appendChild(t):sa.removeChild(t))),n&&a.length>6?[a[0],a[1],a[4],a[5],a[12],a[13]]:a)},ug=function(t,n,r,o,a,c){var u=t._gsap,p=a||T1(t,!0),f=u.xOrigin||0,h=u.yOrigin||0,m=u.xOffset||0,x=u.yOffset||0,y=p[0],w=p[1],v=p[2],C=p[3],k=p[4],E=p[5],N=n.split(" "),j=parseFloat(N[0])||0,P=parseFloat(N[1])||0,L,T,D,$;r?p!==tc&&(T=y*C-w*v)&&(D=j*(C/T)+P*(-v/T)+(v*E-C*k)/T,$=j*(-w/T)+P*(y/T)-(y*E-w*k)/T,j=D,P=$):(L=s6(t),j=L.x+(~N[0].indexOf("%")?j/100*L.width:j),P=L.y+(~(N[1]||N[0]).indexOf("%")?P/100*L.height:P)),o||o!==!1&&u.smooth?(k=j-f,E=P-h,u.xOffset=m+(k*y+E*v)-k,u.yOffset=x+(k*w+E*C)-E):u.xOffset=u.yOffset=0,u.xOrigin=j,u.yOrigin=P,u.smooth=!!o,u.origin=n,u.originIsAbsolute=!!r,t.style[Sn]="0px 0px",c&&(is(c,u,"xOrigin",f,j),is(c,u,"yOrigin",h,P),is(c,u,"xOffset",m,u.xOffset),is(c,u,"yOffset",x,u.yOffset)),t.setAttribute("data-svg-origin",j+" "+P)},nc=function(t,n){var r=t._gsap||new U4(t);if("x"in r&&!n&&!r.uncache)return r;var o=t.style,a=r.scaleX<0,c="px",u="deg",p=getComputedStyle(t),f=Fn(t,Sn)||"0",h,m,x,y,w,v,C,k,E,N,j,P,L,T,D,$,Y,G,V,W,z,M,F,H,R,I,U,O,B,q,X,ne;return h=m=x=v=C=k=E=N=j=0,y=w=1,r.svg=!!(t.getCTM&&i6(t)),p.translate&&((p.translate!=="none"||p.scale!=="none"||p.rotate!=="none")&&(o[gt]=(p.translate!=="none"?"translate3d("+(p.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(p.rotate!=="none"?"rotate("+p.rotate+") ":"")+(p.scale!=="none"?"scale("+p.scale.split(" ").join(",")+") ":"")+(p[gt]!=="none"?p[gt]:"")),o.scale=o.rotate=o.translate="none"),T=T1(t,r.svg),r.svg&&(r.uncache?(R=t.getBBox(),f=r.xOrigin-R.x+"px "+(r.yOrigin-R.y)+"px",H=""):H=!n&&t.getAttribute("data-svg-origin"),ug(t,H||f,!!H||r.originIsAbsolute,r.smooth!==!1,T)),P=r.xOrigin||0,L=r.yOrigin||0,T!==tc&&(G=T[0],V=T[1],W=T[2],z=T[3],h=M=T[4],m=F=T[5],T.length===6?(y=Math.sqrt(G*G+V*V),w=Math.sqrt(z*z+W*W),v=G||V?Yi(V,G)*Bs:0,E=W||z?Yi(W,z)*Bs+v:0,E&&(w*=Math.abs(Math.cos(E*ia))),r.svg&&(h-=P-(P*G+L*W),m-=L-(P*V+L*z))):(ne=T[6],q=T[7],U=T[8],O=T[9],B=T[10],X=T[11],h=T[12],m=T[13],x=T[14],D=Yi(ne,B),C=D*Bs,D&&($=Math.cos(-D),Y=Math.sin(-D),H=M*$+U*Y,R=F*$+O*Y,I=ne*$+B*Y,U=M*-Y+U*$,O=F*-Y+O*$,B=ne*-Y+B*$,X=q*-Y+X*$,M=H,F=R,ne=I),D=Yi(-W,B),k=D*Bs,D&&($=Math.cos(-D),Y=Math.sin(-D),H=G*$-U*Y,R=V*$-O*Y,I=W*$-B*Y,X=z*Y+X*$,G=H,V=R,W=I),D=Yi(V,G),v=D*Bs,D&&($=Math.cos(D),Y=Math.sin(D),H=G*$+V*Y,R=M*$+F*Y,V=V*$-G*Y,F=F*$-M*Y,G=H,M=R),C&&Math.abs(C)+Math.abs(v)>359.9&&(C=v=0,k=180-k),y=Ct(Math.sqrt(G*G+V*V+W*W)),w=Ct(Math.sqrt(F*F+ne*ne)),D=Yi(M,F),E=Math.abs(D)>2e-4?D*Bs:0,j=X?1/(X<0?-X:X):0),r.svg&&(H=t.getAttribute("transform"),r.forceCSS=t.setAttribute("transform","")||!l6(Fn(t,gt)),H&&t.setAttribute("transform",H))),Math.abs(E)>90&&Math.abs(E)<270&&(a?(y*=-1,E+=v<=0?180:-180,v+=v<=0?180:-180):(w*=-1,E+=E<=0?180:-180)),n=n||r.uncache,r.x=h-((r.xPercent=h&&(!n&&r.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-h)?-50:0)))?t.offsetWidth*r.xPercent/100:0)+c,r.y=m-((r.yPercent=m&&(!n&&r.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-m)?-50:0)))?t.offsetHeight*r.yPercent/100:0)+c,r.z=x+c,r.scaleX=Ct(y),r.scaleY=Ct(w),r.rotation=Ct(v)+u,r.rotationX=Ct(C)+u,r.rotationY=Ct(k)+u,r.skewX=E+u,r.skewY=N+u,r.transformPerspective=j+c,(r.zOrigin=parseFloat(f.split(" ")[2])||!n&&r.zOrigin||0)&&(o[Sn]=$d(f)),r.xOffset=r.yOffset=0,r.force3D=Bn.force3D,r.renderTransform=r.svg?JO:o6?c6:QO,r.uncache=0,r},$d=function(t){return(t=t.split(" "))[0]+" "+t[1]},um=function(t,n,r){var o=en(n);return Ct(parseFloat(n)+parseFloat(ms(t,"x",r+"px",o)))+o},QO=function(t,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,c6(t,n)},Os="0deg",yl="0px",Fs=") ",c6=function(t,n){var r=n||this,o=r.xPercent,a=r.yPercent,c=r.x,u=r.y,p=r.z,f=r.rotation,h=r.rotationY,m=r.rotationX,x=r.skewX,y=r.skewY,w=r.scaleX,v=r.scaleY,C=r.transformPerspective,k=r.force3D,E=r.target,N=r.zOrigin,j="",P=k==="auto"&&t&&t!==1||k===!0;if(N&&(m!==Os||h!==Os)){var L=parseFloat(h)*ia,T=Math.sin(L),D=Math.cos(L),$;L=parseFloat(m)*ia,$=Math.cos(L),c=um(E,c,T*$*-N),u=um(E,u,-Math.sin(L)*-N),p=um(E,p,D*$*-N+N)}C!==yl&&(j+="perspective("+C+Fs),(o||a)&&(j+="translate("+o+"%, "+a+"%) "),(P||c!==yl||u!==yl||p!==yl)&&(j+=p!==yl||P?"translate3d("+c+", "+u+", "+p+") ":"translate("+c+", "+u+Fs),f!==Os&&(j+="rotate("+f+Fs),h!==Os&&(j+="rotateY("+h+Fs),m!==Os&&(j+="rotateX("+m+Fs),(x!==Os||y!==Os)&&(j+="skew("+x+", "+y+Fs),(w!==1||v!==1)&&(j+="scale("+w+", "+v+Fs),E.style[gt]=j||"translate(0, 0)"},JO=function(t,n){var r=n||this,o=r.xPercent,a=r.yPercent,c=r.x,u=r.y,p=r.rotation,f=r.skewX,h=r.skewY,m=r.scaleX,x=r.scaleY,y=r.target,w=r.xOrigin,v=r.yOrigin,C=r.xOffset,k=r.yOffset,E=r.forceCSS,N=parseFloat(c),j=parseFloat(u),P,L,T,D,$;p=parseFloat(p),f=parseFloat(f),h=parseFloat(h),h&&(h=parseFloat(h),f+=h,p+=h),p||f?(p*=ia,f*=ia,P=Math.cos(p)*m,L=Math.sin(p)*m,T=Math.sin(p-f)*-x,D=Math.cos(p-f)*x,f&&(h*=ia,$=Math.tan(f-h),$=Math.sqrt(1+$*$),T*=$,D*=$,h&&($=Math.tan(h),$=Math.sqrt(1+$*$),P*=$,L*=$)),P=Ct(P),L=Ct(L),T=Ct(T),D=Ct(D)):(P=m,D=x,L=T=0),(N&&!~(c+"").indexOf("px")||j&&!~(u+"").indexOf("px"))&&(N=ms(y,"x",c,"px"),j=ms(y,"y",u,"px")),(w||v||C||k)&&(N=Ct(N+w-(w*P+v*T)+C),j=Ct(j+v-(w*L+v*D)+k)),(o||a)&&($=y.getBBox(),N=Ct(N+o/100*$.width),j=Ct(j+a/100*$.height)),$="matrix("+P+","+L+","+T+","+D+","+N+","+j+")",y.setAttribute("transform",$),E&&(y.style[gt]=$)},eF=function(t,n,r,o,a){var c=360,u=Vt(a),p=parseFloat(a)*(u&&~a.indexOf("rad")?Bs:1),f=p-o,h=o+f+"deg",m,x;return u&&(m=a.split("_")[1],m==="short"&&(f%=c,f!==f%(c/2)&&(f+=f<0?c:-c)),m==="cw"&&f<0?f=(f+c*z2)%c-~~(f/c)*c:m==="ccw"&&f>0&&(f=(f-c*z2)%c-~~(f/c)*c)),t._pt=x=new Nn(t._pt,n,r,o,f,zO),x.e=h,x.u="deg",t._props.push(r),x},H2=function(t,n){for(var r in n)t[r]=n[r];return t},tF=function(t,n,r){var o=H2({},r._gsap),a="perspective,force3D,transformOrigin,svgOrigin",c=r.style,u,p,f,h,m,x,y,w;o.svg?(f=r.getAttribute("transform"),r.setAttribute("transform",""),c[gt]=n,u=nc(r,1),hs(r,gt),r.setAttribute("transform",f)):(f=getComputedStyle(r)[gt],c[gt]=n,u=nc(r,1),c[gt]=f);for(p in So)f=o[p],h=u[p],f!==h&&a.indexOf(p)<0&&(y=en(f),w=en(h),m=y!==w?ms(r,p,f,w):parseFloat(f),x=parseFloat(h),t._pt=new Nn(t._pt,u,p,m,x-m,ag),t._pt.u=w||0,t._props.push(p));H2(u,o)};kn("padding,margin,Width,Radius",function(e,t){var n="Top",r="Right",o="Bottom",a="Left",c=(t<3?[n,r,o,a]:[n+a,n+r,o+r,o+a]).map(function(u){return t<2?e+u:"border"+u+e});Fd[t>1?"border"+e:e]=function(u,p,f,h,m){var x,y;if(arguments.length<4)return x=c.map(function(w){return po(u,w,f)}),y=x.join(" "),y.split(x[0]).length===5?x[0]:y;x=(h+"").split(" "),y={},c.forEach(function(w,v){return y[w]=x[v]=x[v]||x[(v-1)/2|0]}),u.init(p,y,m)}});var u6={name:"css",register:cg,targetTest:function(t){return t.style&&t.nodeType},init:function(t,n,r,o,a){var c=this._props,u=t.style,p=r.vars.startAt,f,h,m,x,y,w,v,C,k,E,N,j,P,L,T,D,$;I1||cg(),this.styles=this.styles||r6(t),D=this.styles.props,this.tween=r;for(v in n)if(v!=="autoRound"&&(h=n[v],!(Rn[v]&&G4(v,n,r,o,t,a)))){if(y=typeof h,w=Fd[v],y==="function"&&(h=h.call(r,o,t,a),y=typeof h),y==="string"&&~h.indexOf("random(")&&(h=Ql(h)),w)w(this,t,v,h,r)&&(T=1);else if(v.substr(0,2)==="--")f=(getComputedStyle(t).getPropertyValue(v)+"").trim(),h+="",ls.lastIndex=0,ls.test(f)||(C=en(f),k=en(h),k?C!==k&&(f=ms(t,v,f,k)+k):C&&(h+=C)),this.add(u,"setProperty",f,h,o,a,0,0,v),c.push(v),D.push(v,0,u[v]);else if(y!=="undefined"){if(p&&v in p?(f=typeof p[v]=="function"?p[v].call(r,o,t,a):p[v],Vt(f)&&~f.indexOf("random(")&&(f=Ql(f)),en(f+"")||f==="auto"||(f+=Bn.units[v]||en(po(t,v))||""),(f+"").charAt(1)==="="&&(f=po(t,v))):f=po(t,v),x=parseFloat(f),E=y==="string"&&h.charAt(1)==="="&&h.substr(0,2),E&&(h=h.substr(2)),m=parseFloat(h),v in Wr&&(v==="autoAlpha"&&(x===1&&po(t,"visibility")==="hidden"&&m&&(x=0),D.push("visibility",0,u.visibility),is(this,u,"visibility",x?"inherit":"hidden",m?"inherit":"hidden",!m)),v!=="scale"&&v!=="transform"&&(v=Wr[v],~v.indexOf(",")&&(v=v.split(",")[0]))),N=v in So,N){if(this.styles.save(v),$=h,y==="string"&&h.substring(0,6)==="var(--"){if(h=Fn(t,h.substring(4,h.indexOf(")"))),h.substring(0,5)==="calc("){var Y=t.style.perspective;t.style.perspective=h,h=Fn(t,"perspective"),Y?t.style.perspective=Y:hs(t,"perspective")}m=parseFloat(h)}if(j||(P=t._gsap,P.renderTransform&&!n.parseTransform||nc(t,n.parseTransform),L=n.smoothOrigin!==!1&&P.smooth,j=this._pt=new Nn(this._pt,u,gt,0,1,P.renderTransform,P,0,-1),j.dep=1),v==="scale")this._pt=new Nn(this._pt,P,"scaleY",P.scaleY,(E?oa(P.scaleY,E+m):m)-P.scaleY||0,ag),this._pt.u=0,c.push("scaleY",v),v+="X";else if(v==="transformOrigin"){D.push(Sn,0,u[Sn]),h=XO(h),P.svg?ug(t,h,0,L,0,this):(k=parseFloat(h.split(" ")[2])||0,k!==P.zOrigin&&is(this,P,"zOrigin",P.zOrigin,k),is(this,u,v,$d(f),$d(h)));continue}else if(v==="svgOrigin"){ug(t,h,1,L,0,this);continue}else if(v in a6){eF(this,P,v,x,E?oa(x,E+h):h);continue}else if(v==="smoothOrigin"){is(this,P,"smooth",P.smooth,h);continue}else if(v==="force3D"){P[v]=h;continue}else if(v==="transform"){tF(this,h,t);continue}}else v in u||(v=ba(v)||v);if(N||(m||m===0)&&(x||x===0)&&!AO.test(h)&&v in u)C=(f+"").substr((x+"").length),m||(m=0),k=en(h)||(v in Bn.units?Bn.units[v]:C),C!==k&&(x=ms(t,v,f,k)),this._pt=new Nn(this._pt,N?P:u,v,x,(E?oa(x,E+m):m)-x,!N&&(k==="px"||v==="zIndex")&&n.autoRound!==!1?FO:ag),this._pt.u=k||0,N&&$!==h?(this._pt.b=f,this._pt.e=$,this._pt.r=OO):C!==k&&k!=="%"&&(this._pt.b=f,this._pt.r=DO);else if(v in u)ZO.call(this,t,v,f,E?E+h:h);else if(v in t)this.add(t,v,f||t[v],E?E+h:h,o,a);else if(v!=="parseTransform"){w1(v,h);continue}N||(v in u?D.push(v,0,u[v]):typeof t[v]=="function"?D.push(v,2,t[v]()):D.push(v,1,f||t[v])),c.push(v)}}T&&Q4(this)},render:function(t,n){if(n.tween._time||!M1())for(var r=n._pt;r;)r.r(t,r.d),r=r._next;else n.styles.revert()},get:po,aliases:Wr,getSetter:function(t,n,r){var o=Wr[n];return o&&o.indexOf(",")<0&&(n=o),n in So&&n!==Sn&&(t._gsap.x||po(t,"x"))?r&&A2===r?n==="scale"?HO:VO:(A2=r||{})&&(n==="scale"?WO:UO):t.style&&!x1(t.style[n])?$O:~n.indexOf("-")?BO:E1(t,n)},core:{_removeProperty:hs,_getMatrix:T1}};jn.utils.checkPrefix=ba;jn.core.getStyleSaver=r6;(function(e,t,n,r){var o=kn(e+","+t+","+n,function(a){So[a]=1});kn(t,function(a){Bn.units[a]="deg",a6[a]=1}),Wr[o[13]]=e+","+t,kn(r,function(a){var c=a.split(":");Wr[c[1]]=o[c[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");kn("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(e){Bn.units[e]="px"});jn.registerPlugin(u6);var d6=jn.registerPlugin(u6)||jn;d6.core.Tween;/*!
 * matrix 3.14.2
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var vo,qs,R1,Pf,Sl,fd,Bd,Tl,xr="transform",dg=xr+"Origin",f6,A1=function(t){var n=t.ownerDocument||t;for(!(xr in t.style)&&("msTransform"in t.style)&&(xr="msTransform",dg=xr+"Origin");n.parentNode&&(n=n.parentNode););if(qs=window,Bd=new li,n){vo=n,R1=n.documentElement,Pf=n.body,Tl=vo.createElementNS("http://www.w3.org/2000/svg","g"),Tl.style.transform="none";var r=n.createElement("div"),o=n.createElement("div"),a=n&&(n.body||n.firstElementChild);a&&a.appendChild&&(a.appendChild(r),r.appendChild(o),r.style.position="static",r.style.transform="translate3d(0,0,1px)",f6=o.offsetParent!==r,a.removeChild(r))}return n},nF=function(t){for(var n,r;t&&t!==Pf;)r=t._gsap,r&&r.uncache&&r.get(t,"x"),r&&!r.scaleX&&!r.scaleY&&r.renderTransform&&(r.scaleX=r.scaleY=1e-4,r.renderTransform(1,r),n?n.push(r):n=[r]),t=t.parentNode;return n},p6=[],h6=[],z1=function(){return qs.pageYOffset||vo.scrollTop||R1.scrollTop||Pf.scrollTop||0},D1=function(){return qs.pageXOffset||vo.scrollLeft||R1.scrollLeft||Pf.scrollLeft||0},O1=function(t){return t.ownerSVGElement||((t.tagName+"").toLowerCase()==="svg"?t:null)},rF=function e(t){if(qs.getComputedStyle(t).position==="fixed")return!0;if(t=t.parentNode,t&&t.nodeType===1)return e(t)},dm=function e(t,n){if(t.parentNode&&(vo||A1(t))){var r=O1(t),o=r?r.getAttribute("xmlns")||"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",a=r?n?"rect":"g":"div",c=n!==2?0:100,u=n===3?100:0,p={position:"absolute",display:"block",pointerEvents:"none",margin:"0",padding:"0"},f=vo.createElementNS?vo.createElementNS(o.replace(/^https/,"http"),a):vo.createElement(a);return n&&(r?(fd||(fd=e(t)),f.setAttribute("width",.01),f.setAttribute("height",.01),f.setAttribute("transform","translate("+c+","+u+")"),f.setAttribute("fill","transparent"),fd.appendChild(f)):(Sl||(Sl=e(t),Object.assign(Sl.style,p)),Object.assign(f.style,p,{width:"0.1px",height:"0.1px",top:u+"px",left:c+"px"}),Sl.appendChild(f))),f}throw"Need document and parent."},oF=function(t){for(var n=new li,r=0;r<t.numberOfItems;r++)n.multiply(t.getItem(r).matrix);return n},m6=function(t){var n=t.getCTM(),r;return n||(r=t.style[xr],t.style[xr]="none",t.appendChild(Tl),n=Tl.getCTM(),t.removeChild(Tl),r?t.style[xr]=r:t.style.removeProperty(xr.replace(/([A-Z])/g,"-$1").toLowerCase())),n||Bd.clone()},sF=function(t,n){var r=O1(t),o=t===r,a=r?p6:h6,c=t.parentNode,u=c&&!r&&c.shadowRoot&&c.shadowRoot.appendChild?c.shadowRoot:c,p,f,h,m,x,y;if(t===qs)return t;if(a.length||a.push(dm(t,1),dm(t,2),dm(t,3)),p=r?fd:Sl,r)o?(h=m6(t),m=-h.e/h.a,x=-h.f/h.d,f=Bd):t.getBBox?(h=t.getBBox(),f=t.transform?t.transform.baseVal:{},f=f.numberOfItems?f.numberOfItems>1?oF(f):f.getItem(0).matrix:Bd,m=f.a*h.x+f.c*h.y,x=f.b*h.x+f.d*h.y):(f=new li,m=x=0),n&&t.tagName.toLowerCase()==="g"&&(m=x=0),(o||!t.getBoundingClientRect().width?r:c).appendChild(p),p.setAttribute("transform","matrix("+f.a+","+f.b+","+f.c+","+f.d+","+(f.e+m)+","+(f.f+x)+")");else{if(m=x=0,f6)for(f=t.offsetParent,h=t;h&&(h=h.parentNode)&&h!==f&&h.parentNode;)(qs.getComputedStyle(h)[xr]+"").length>4&&(m=h.offsetLeft,x=h.offsetTop,h=0);if(y=qs.getComputedStyle(t),y.position!=="absolute"&&y.position!=="fixed")for(f=t.offsetParent;c&&c!==f;)m+=c.scrollLeft||0,x+=c.scrollTop||0,c=c.parentNode;h=p.style,h.top=t.offsetTop-x+"px",h.left=t.offsetLeft-m+"px",h[xr]=y[xr],h[dg]=y[dg],h.position=y.position==="fixed"?"fixed":"absolute",u.appendChild(p)}return p},fm=function(t,n,r,o,a,c,u){return t.a=n,t.b=r,t.c=o,t.d=a,t.e=c,t.f=u,t},li=(function(){function e(n,r,o,a,c,u){n===void 0&&(n=1),r===void 0&&(r=0),o===void 0&&(o=0),a===void 0&&(a=1),c===void 0&&(c=0),u===void 0&&(u=0),fm(this,n,r,o,a,c,u)}var t=e.prototype;return t.inverse=function(){var r=this.a,o=this.b,a=this.c,c=this.d,u=this.e,p=this.f,f=r*c-o*a||1e-10;return fm(this,c/f,-o/f,-a/f,r/f,(a*p-c*u)/f,-(r*p-o*u)/f)},t.multiply=function(r){var o=this.a,a=this.b,c=this.c,u=this.d,p=this.e,f=this.f,h=r.a,m=r.c,x=r.b,y=r.d,w=r.e,v=r.f;return fm(this,h*o+x*c,h*a+x*u,m*o+y*c,m*a+y*u,p+w*o+v*c,f+w*a+v*u)},t.clone=function(){return new e(this.a,this.b,this.c,this.d,this.e,this.f)},t.equals=function(r){var o=this.a,a=this.b,c=this.c,u=this.d,p=this.e,f=this.f;return o===r.a&&a===r.b&&c===r.c&&u===r.d&&p===r.e&&f===r.f},t.apply=function(r,o){o===void 0&&(o={});var a=r.x,c=r.y,u=this.a,p=this.b,f=this.c,h=this.d,m=this.e,x=this.f;return o.x=a*u+c*f+m||0,o.y=a*p+c*h+x||0,o},e})();function qr(e,t,n,r){if(!e||!e.parentNode||(vo||A1(e)).documentElement===e)return new li;var o=nF(e),a=O1(e),c=a?p6:h6,u=sF(e,n),p=c[0].getBoundingClientRect(),f=c[1].getBoundingClientRect(),h=c[2].getBoundingClientRect(),m=u.parentNode,x=!r&&rF(e),y=new li((f.left-p.left)/100,(f.top-p.top)/100,(h.left-p.left)/100,(h.top-p.top)/100,p.left+(x?0:D1()),p.top+(x?0:z1()));if(m.removeChild(u),o)for(p=o.length;p--;)f=o[p],f.scaleX=f.scaleY=0,f.renderTransform(1,f);return t?y.inverse():y}/*!
 * Flip 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var iF=1,Ca,Gt,ot,Rl,rs,yo,fg,W2=function(t,n){return t.actions.forEach(function(r){return r.vars[n]&&r.vars[n](r)})},pg={},U2=180/Math.PI,aF=Math.PI/180,Vd={},G2={},If={},F1=function(t){return typeof t=="string"?t.split(" ").join("").split(","):t},lF=F1("onStart,onUpdate,onComplete,onReverseComplete,onInterrupt"),Mf=F1("transform,transformOrigin,width,height,position,top,left,opacity,zIndex,maxWidth,maxHeight,minWidth,minHeight"),Al=function(t){return Ca(t)[0]||console.warn("Element not found:",t)},Qi=function(t){return Math.round(t*1e4)/1e4||0},pm=function(t,n,r){return t.forEach(function(o){return o.classList[r](n)})},Y2={zIndex:1,kill:1,simple:1,spin:1,clearProps:1,targets:1,toggleClass:1,onComplete:1,onUpdate:1,onInterrupt:1,onStart:1,delay:1,repeat:1,repeatDelay:1,yoyo:1,scale:1,fade:1,absolute:1,props:1,onEnter:1,onLeave:1,custom:1,paused:1,nested:1,prune:1,absoluteOnLeave:1},g6={zIndex:1,simple:1,clearProps:1,scale:1,absolute:1,fitChild:1,getVars:1,props:1},x6=function(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()},Ji=function(t,n){var r={},o;for(o in t)n[o]||(r[o]=t[o]);return r},$1={},v6=function(t){var n=$1[t]=F1(t);return If[t]=n.concat(Mf),n},cF=function(t){var n=t._gsap||Gt.core.getCache(t);return n.gmCache===Gt.ticker.frame?n.gMatrix:(n.gmCache=Gt.ticker.frame,n.gMatrix=qr(t,!0,!1,!0))},uF=function e(t,n,r){r===void 0&&(r=0);for(var o=t.parentNode,a=1e3*Math.pow(10,r)*(n?-1:1),c=n?-a*900:0;t;)c+=a,t=t.previousSibling;return o?c+e(o,n,r+1):c},Hd=function(t,n,r){return t.forEach(function(o){return o.d=uF(r?o.element:o.t,n)}),t.sort(function(o,a){return o.d-a.d}),t},rc=function(t,n){for(var r=t.element.style,o=t.css=t.css||[],a=n.length,c,u;a--;)c=n[a],u=r[c]||r.getPropertyValue(c),o.push(u?c:G2[c]||(G2[c]=x6(c)),u);return r},Wd=function(t){var n=t.css,r=t.element.style,o=0;for(t.cache.uncache=1;o<n.length;o+=2)n[o+1]?r[n[o]]=n[o+1]:r.removeProperty(n[o]);!n[n.indexOf("transform")+1]&&r.translate&&(r.removeProperty("translate"),r.removeProperty("scale"),r.removeProperty("rotate"))},K2=function(t,n){t.forEach(function(r){return r.a.cache.uncache=1}),n||t.finalStates.forEach(Wd)},hm="paddingTop,paddingRight,paddingBottom,paddingLeft,gridArea,transition".split(","),B1=function(t,n,r){var o=t.element,a=t.width,c=t.height,u=t.uncache,p=t.getProp,f=o.style,h=4,m,x,y;if(typeof n!="object"&&(n=t),ot&&r!==1)return ot._abs.push({t:o,b:t,a:t,sd:0}),ot._final.push(function(){return(t.cache.uncache=1)&&Wd(t)}),o;for(x=p("display")==="none",(!t.isVisible||x)&&(x&&(rc(t,["display"]).display=n.display),t.matrix=n.matrix,t.width=a=t.width||n.width,t.height=c=t.height||n.height),rc(t,hm),y=window.getComputedStyle(o);h--;)f[hm[h]]=y[hm[h]];if(f.gridArea="1 / 1 / 1 / 1",f.transition="none",f.position="absolute",f.width=a+"px",f.height=c+"px",f.top||(f.top="0px"),f.left||(f.left="0px"),u)m=new ci(o);else if(m=Ji(t,Vd),m.position="absolute",t.simple){var w=o.getBoundingClientRect();m.matrix=new li(1,0,0,1,w.left+D1(),w.top+z1())}else m.matrix=qr(o,!1,!1,!0);return m=aa(m,t,!0),t.x=yo(m.x,.01),t.y=yo(m.y,.01),o},Z2=function(t,n){return n!==!0&&(n=Ca(n),t=t.filter(function(r){if(n.indexOf((r.sd<0?r.b:r.a).element)!==-1)return!0;r.t._gsap.renderTransform(1),r.b.isVisible&&(r.t.style.width=r.b.width+"px",r.t.style.height=r.b.height+"px")})),t},y6=function(t){return Hd(t,!0).forEach(function(n){return(n.a.isVisible||n.b.isVisible)&&B1(n.sd<0?n.b:n.a,n.b,1)})},dF=function(t,n){return n&&t.idLookup[hg(n).id]||t.elementStates[0]},hg=function(t,n,r,o){return t instanceof ci?t:t instanceof vr?dF(t,o):new ci(typeof t=="string"?Al(t)||console.warn(t+" not found"):t,n,r)},fF=function(t,n){for(var r=Gt.getProperty(t.element,null,"native"),o=t.props={},a=n.length;a--;)o[n[a]]=(r(n[a])+"").trim();return o.zIndex&&(o.zIndex=parseFloat(o.zIndex)||0),t},w6=function(t,n){var r=t.style||t,o;for(o in n)r[o]=n[o]},pF=function(t){var n=t.getAttribute("data-flip-id");return n||t.setAttribute("data-flip-id",n="auto-"+iF++),n},_6=function(t){return t.map(function(n){return n.element})},X2=function(t,n,r){return t&&n.length&&r.add(t(_6(n),r,new vr(n,0,!0)),0)},aa=function(t,n,r,o,a,c){var u=t.element,p=t.cache,f=t.parent,h=t.x,m=t.y,x=n.width,y=n.height,w=n.scaleX,v=n.scaleY,C=n.rotation,k=n.bounds,E=c&&fg&&fg(u,"transform,width,height"),N=t,j=n.matrix,P=j.e,L=j.f,T=t.bounds.width!==k.width||t.bounds.height!==k.height||t.scaleX!==w||t.scaleY!==v||t.rotation!==C,D=!T&&t.simple&&n.simple&&!a,$,Y,G,V,W,z,M;return D||!f?(w=v=1,C=$=0):(W=cF(f),z=W.clone().multiply(n.ctm?n.matrix.clone().multiply(n.ctm):n.matrix),C=Qi(Math.atan2(z.b,z.a)*U2),$=Qi(Math.atan2(z.c,z.d)*U2+C)%360,w=Math.sqrt(Math.pow(z.a,2)+Math.pow(z.b,2)),v=Math.sqrt(Math.pow(z.c,2)+Math.pow(z.d,2))*Math.cos($*aF),a&&(a=Ca(a)[0],V=Gt.getProperty(a),M=a.getBBox&&typeof a.getBBox=="function"&&a.getBBox(),N={scaleX:V("scaleX"),scaleY:V("scaleY"),width:M?M.width:Math.ceil(parseFloat(V("width","px"))),height:M?M.height:parseFloat(V("height","px"))}),p.rotation=C+"deg",p.skewX=$+"deg"),r?(w*=x===N.width||!N.width?1:x/N.width,v*=y===N.height||!N.height?1:y/N.height,p.scaleX=w,p.scaleY=v):(x=yo(x*w/N.scaleX,0),y=yo(y*v/N.scaleY,0),u.style.width=x+"px",u.style.height=y+"px"),o&&w6(u,n.props),D||!f?(h+=P-t.matrix.e,m+=L-t.matrix.f):T||f!==n.parent?(p.x=h+"px",p.y=m+"px",p.renderTransform(1,p),z=qr(a||u,!1,!1,!0),Y=W.apply({x:z.e,y:z.f}),G=W.apply({x:P,y:L}),h+=G.x-Y.x,m+=G.y-Y.y):(W.e=W.f=0,G=W.apply({x:P-t.matrix.e,y:L-t.matrix.f}),h+=G.x,m+=G.y),h=yo(h,.02),m=yo(m,.02),c&&!(c instanceof ci)?E&&E.revert():(p.x=h+"px",p.y=m+"px",p.renderTransform(1,p)),c&&(c.x=h,c.y=m,c.rotation=C,c.skewX=$,r?(c.scaleX=w,c.scaleY=v):(c.width=x,c.height=y)),c||p},mm=function(t,n){return t instanceof vr?t:new vr(t,n)},b6=function(t,n,r){var o=t.idLookup[r],a=t.alt[r];return a.isVisible&&(!(n.getElementState(a.element)||a).isVisible||!o.isVisible)?a:o},gm=[],xm="width,height,overflowX,overflowY".split(","),Ju,q2=function(t){if(t!==Ju){var n=rs.style,r=rs.clientWidth===window.outerWidth,o=rs.clientHeight===window.outerHeight,a=4;if(t&&(r||o)){for(;a--;)gm[a]=n[xm[a]];r&&(n.width=rs.clientWidth+"px",n.overflowY="hidden"),o&&(n.height=rs.clientHeight+"px",n.overflowX="hidden"),Ju=t}else if(Ju){for(;a--;)gm[a]?n[xm[a]]=gm[a]:n.removeProperty(x6(xm[a]));Ju=t}}},Q2=function(t,n){for(var r=0;r<t.length;r+=3)Gt.set(t[r],{clearProps:!0}),t[r].setAttribute("style",t[r+n]),t[r]._gsap.gmCache=-1},vm=function(t,n,r,o){t instanceof vr&&n instanceof vr||console.warn("Not a valid state object."),r=r||{};var a=r,c=a.clearProps,u=a.onEnter,p=a.onLeave,f=a.absolute,h=a.absoluteOnLeave,m=a.custom,x=a.delay,y=a.paused,w=a.repeat,v=a.repeatDelay,C=a.yoyo,k=a.toggleClass,E=a.nested,N=a.zIndex,j=a.scale,P=a.fade,L=a.stagger,T=a.spin,D=a.prune,$=("props"in r?r:t).props,Y=Ji(r,Y2),G=Gt.timeline({delay:x,paused:y,repeat:w,repeatDelay:v,yoyo:C,data:"isFlip"}),V=Y,W=[],z=[],M=[],F=[],H=T===!0?1:T||0,R=typeof T=="function"?T:function(){return H},I=t.interrupted||n.interrupted,U=G[o!==1?"to":"from"],O,B,q,X,ne,ie,ee,J,le,de,me,te,ae,fe;for(B in n.idLookup)me=n.alt[B]?b6(n,t,B):n.idLookup[B],ne=me.element,de=t.idLookup[B],t.alt[B]&&ne===de.element&&(t.alt[B].isVisible||!me.isVisible)&&(de=t.alt[B]),de?(ie={t:ne,b:de,a:me,sd:de.element===ne?0:me.isVisible?1:-1},M.push(ie),ie.sd&&(ie.sd<0&&(ie.b=me,ie.a=de),I&&rc(ie.b,$?If[$]:Mf),P&&M.push(ie.swap={t:de.element,b:ie.b,a:ie.a,sd:-ie.sd,swap:ie})),ne._flip=de.element._flip=ot?ot.timeline:G):me.isVisible&&(M.push({t:ne,b:Ji(me,{isVisible:1}),a:me,sd:0,entering:1}),ne._flip=ot?ot.timeline:G);if($&&($1[$]||v6($)).forEach(function(ce){return Y[ce]=function(ye){return M[ye].a.props[ce]}}),M.finalStates=le=[],te=function(){Hd(M),q2(!0);var ye=[];for(X=0;X<M.length;X++)ie=M[X],ae=ie.a,fe=ie.b,D&&!ae.isDifferent(fe)&&!ie.entering?M.splice(X--,1):(ne=ie.t,E&&!(ie.sd<0)&&X&&(ae=ie.a=ae.clone({matrix:qr(ne,!1,!1,!0)})),fe.isVisible&&ae.isVisible?(ie.sd<0?(E&&Q2(ye,1),ee=new ci(ne,$,t.simple),aa(ee,ae,j,0,0,ee),ee.matrix=qr(ne,!1,!1,!0),ee.bounds=ne.getBoundingClientRect(),ee.css=ie.b.css,ie.a=ae=ee,P&&(ne.style.opacity=I?fe.opacity:ae.opacity),L&&F.push(ne),E&&(Q2(ye,2),ye.push(ne,ne.getAttribute("style")))):ie.sd>0&&P&&(ne.style.opacity=I?ae.opacity-fe.opacity:"0"),aa(ae,fe,j,$),E&&ie.sd<0&&ye.push(ne.getAttribute("style"))):fe.isVisible!==ae.isVisible&&(fe.isVisible?ae.isVisible||(fe.css=ae.css,z.push(fe),M.splice(X--,1),f&&E&&aa(ae,fe,j,$)):(ae.isVisible&&W.push(ae),M.splice(X--,1))),j||(ne.style.maxWidth=Math.max(ae.width,fe.width)+"px",ne.style.maxHeight=Math.max(ae.height,fe.height)+"px",ne.style.minWidth=Math.min(ae.width,fe.width)+"px",ne.style.minHeight=Math.min(ae.height,fe.height)+"px"),E&&k&&ne.classList.add(k)),le.push(ae);var Ee;if(k&&(Ee=le.map(function(_e){return _e.element}),E&&Ee.forEach(function(_e){return _e.classList.remove(k)})),q2(!1),j?(Y.scaleX=function(_e){return M[_e].a.scaleX},Y.scaleY=function(_e){return M[_e].a.scaleY}):(Y.width=function(_e){return M[_e].a.width+"px"},Y.height=function(_e){return M[_e].a.height+"px"},Y.autoRound=r.autoRound||!1),Y.x=function(_e){return M[_e].a.x+"px"},Y.y=function(_e){return M[_e].a.y+"px"},Y.rotation=function(_e){return M[_e].a.rotation+(T?R(_e,J[_e],J)*360:0)},Y.skewX=function(_e){return M[_e].a.skewX},J=M.map(function(_e){return _e.t}),(N||N===0)&&(Y.modifiers={zIndex:function(){return N}},Y.zIndex=N,Y.immediateRender=r.immediateRender!==!1),P&&(Y.opacity=function(_e){return M[_e].sd<0?0:M[_e].sd>0?M[_e].a.opacity:"+=0"}),F.length){L=Gt.utils.distribute(L);var qe=J.slice(F.length);Y.stagger=function(_e,we){return L(~F.indexOf(we)?J.indexOf(M[_e].swap.t):_e,we,qe)}}if(lF.forEach(function(_e){return r[_e]&&G.eventCallback(_e,r[_e],r[_e+"Params"])}),m&&J.length){V=Ji(Y,Y2),"scale"in m&&(m.scaleX=m.scaleY=m.scale,delete m.scale);for(B in m)O=Ji(m[B],g6),O[B]=Y[B],!("duration"in O)&&"duration"in Y&&(O.duration=Y.duration),O.stagger=Y.stagger,U.call(G,J,O,0),delete V[B]}(J.length||z.length||W.length)&&(k&&G.add(function(){return pm(Ee,k,G._zTime<0?"remove":"add")},0)&&!y&&pm(Ee,k,"add"),J.length&&U.call(G,J,V,0)),X2(u,W,G),X2(p,z,G);var Ue=ot&&ot.timeline;Ue&&(Ue.add(G,0),ot._final.push(function(){return K2(M,!c)})),q=G.duration(),G.call(function(){var _e=G.time()>=q;_e&&!Ue&&K2(M,!c),k&&pm(Ee,k,_e?"remove":"add")})},h&&(f=M.filter(function(ce){return!ce.sd&&!ce.a.isVisible&&ce.b.isVisible}).map(function(ce){return ce.a.element})),ot){var Le;f&&(Le=ot._abs).push.apply(Le,Z2(M,f)),ot._run.push(te)}else f&&y6(Z2(M,f)),te();var Re=ot?ot.timeline:G;return Re.revert=function(){return V1(Re,1,1)},Re},hF=function e(t){t.vars.onInterrupt&&t.vars.onInterrupt.apply(t,t.vars.onInterruptParams||[]),t.getChildren(!0,!1,!0).forEach(e)},V1=function(t,n,r){if(t&&t.progress()<1&&(!t.paused()||r))return n&&(hF(t),n<2&&t.progress(1),t.kill()),!0},ed=function(t){for(var n=t.idLookup={},r=t.alt={},o=t.elementStates,a=o.length,c;a--;)c=o[a],n[c.id]?r[c.id]=c:n[c.id]=c},vr=(function(){function e(n,r,o){if(this.props=r&&r.props,this.simple=!!(r&&r.simple),o)this.targets=_6(n),this.elementStates=n,ed(this);else{this.targets=Ca(n);var a=r&&(r.kill===!1||r.batch&&!r.kill);ot&&!a&&ot._kill.push(this),this.update(a||!!ot)}}var t=e.prototype;return t.update=function(r){var o=this;return this.elementStates=this.targets.map(function(a){return new ci(a,o.props,o.simple)}),ed(this),this.interrupt(r),this.recordInlineStyles(),this},t.clear=function(){return this.targets.length=this.elementStates.length=0,ed(this),this},t.fit=function(r,o,a){for(var c=Hd(this.elementStates.slice(0),!1,!0),u=(r||this).idLookup,p=0,f,h;p<c.length;p++)f=c[p],a&&(f.matrix=qr(f.element,!1,!1,!0)),h=u[f.id],h&&aa(f,h,o,!0,0,f),f.matrix=qr(f.element,!1,!1,!0);return this},t.getProperty=function(r,o){var a=this.getElementState(r)||Vd;return(o in a?a:a.props||Vd)[o]},t.add=function(r){for(var o=r.targets.length,a=this.idLookup,c=this.alt,u,p,f;o--;)p=r.elementStates[o],f=a[p.id],f&&(p.element===f.element||c[p.id]&&c[p.id].element===p.element)?(u=this.elementStates.indexOf(p.element===f.element?f:c[p.id]),this.targets.splice(u,1,r.targets[o]),this.elementStates.splice(u,1,p)):(this.targets.push(r.targets[o]),this.elementStates.push(p));return r.interrupted&&(this.interrupted=!0),r.simple||(this.simple=!1),ed(this),this},t.compare=function(r){var o=r.idLookup,a=this.idLookup,c=[],u=[],p=[],f=[],h=[],m=r.alt,x=this.alt,y=function(D,$,Y){return(D.isVisible!==$.isVisible?D.isVisible?p:f:D.isVisible?u:c).push(Y)&&h.push(Y)},w=function(D,$,Y){return h.indexOf(Y)<0&&y(D,$,Y)},v,C,k,E,N,j,P,L;for(k in o)N=m[k],j=x[k],v=N?b6(r,this,k):o[k],E=v.element,C=a[k],j?(L=C.isVisible||!j.isVisible&&E===C.element?C:j,P=N&&!v.isVisible&&!N.isVisible&&L.element===N.element?N:v,P.isVisible&&L.isVisible&&P.element!==L.element?((P.isDifferent(L)?u:c).push(P.element,L.element),h.push(P.element,L.element)):y(P,L,P.element),N&&P.element===N.element&&(N=o[k]),w(P.element!==C.element&&N?N:P,C,C.element),w(N&&N.element===j.element?N:P,j,j.element),N&&w(N,j.element===N.element?j:C,N.element)):(C?C.isDifferent(v)?y(v,C,E):c.push(E):p.push(E),N&&w(N,C,N.element));for(k in a)o[k]||(f.push(a[k].element),x[k]&&f.push(x[k].element));return{changed:u,unchanged:c,enter:p,leave:f}},t.recordInlineStyles=function(){for(var r=If[this.props]||Mf,o=this.elementStates.length;o--;)rc(this.elementStates[o],r)},t.interrupt=function(r){var o=this,a=[];this.targets.forEach(function(c){var u=c._flip,p=V1(u,r?0:1);r&&p&&a.indexOf(u)<0&&u.add(function(){return o.updateVisibility()}),p&&a.push(u)}),!r&&a.length&&this.updateVisibility(),this.interrupted||(this.interrupted=!!a.length)},t.updateVisibility=function(){this.elementStates.forEach(function(r){var o=r.element.getBoundingClientRect();r.isVisible=!!(o.width||o.height||o.top||o.left),r.uncache=1})},t.getElementState=function(r){return this.elementStates[this.targets.indexOf(Al(r))]},t.makeAbsolute=function(){return Hd(this.elementStates.slice(0),!0,!0).map(B1)},e})(),ci=(function(){function e(n,r,o){n instanceof e?Object.assign(this,n,r||{}):(this.element=n,this.update(r,o))}var t=e.prototype;return t.isDifferent=function(r){var o=this.bounds,a=r.bounds;return o.top!==a.top||o.left!==a.left||o.width!==a.width||o.height!==a.height||!this.matrix.equals(r.matrix)||this.opacity!==r.opacity||this.props&&r.props&&JSON.stringify(this.props)!==JSON.stringify(r.props)},t.clone=function(r){return new e(this,r)},t.update=function(r,o){var a=this,c=a.element,u=Gt.getProperty(c),p=Gt.core.getCache(c),f=c.getBoundingClientRect(),h=c.getBBox&&typeof c.getBBox=="function"&&c.nodeName.toLowerCase()!=="svg"&&c.getBBox(),m=o?new li(1,0,0,1,f.left+D1(),f.top+z1()):qr(c,!1,!1,!0);p.uncache=1,a.getProp=u,a.element=c,a.id=pF(c),a.matrix=m,a.cache=p,a.bounds=f,a.isVisible=!!(f.width||f.height||f.left||f.top),a.display=u("display"),a.position=u("position"),a.parent=c.parentNode,a.x=u("x","px"),a.y=u("y","px"),a.scaleX=p.scaleX,a.scaleY=p.scaleY,a.rotation=u("rotation"),a.skewX=u("skewX"),a.opacity=u("opacity"),a.width=h?h.width:yo(u("width","px"),.04),a.height=h?h.height:yo(u("height","px"),.04),r&&fF(a,$1[r]||v6(r)),a.ctm=c.getCTM&&c.nodeName.toLowerCase()==="svg"&&m6(c).inverse(),a.simple=o||Qi(m.a)===1&&!Qi(m.b)&&!Qi(m.c)&&Qi(m.d)===1,a.uncache=0},e})(),mF=(function(){function e(n,r){this.vars=n,this.batch=r,this.states=[],this.timeline=r.timeline}var t=e.prototype;return t.getStateById=function(r){for(var o=this.states.length;o--;)if(this.states[o].idLookup[r])return this.states[o]},t.kill=function(){this.batch.remove(this)},e})(),gF=(function(){function e(n){this.id=n,this.actions=[],this._kill=[],this._final=[],this._abs=[],this._run=[],this.data={},this.state=new vr,this.timeline=Gt.timeline()}var t=e.prototype;return t.add=function(r){var o=this.actions.filter(function(a){return a.vars===r});return o.length?o[0]:(o=new mF(typeof r=="function"?{animate:r}:r,this),this.actions.push(o),o)},t.remove=function(r){var o=this.actions.indexOf(r);return o>=0&&this.actions.splice(o,1),this},t.getState=function(r){var o=this,a=ot,c=Rl;return ot=this,this.state.clear(),this._kill.length=0,this.actions.forEach(function(u){u.vars.getState&&(u.states.length=0,Rl=u,u.state=u.vars.getState(u)),r&&u.states.forEach(function(p){return o.state.add(p)})}),Rl=c,ot=a,this.killConflicts(),this},t.animate=function(){var r=this,o=ot,a=this.timeline,c=this.actions.length,u,p;for(ot=this,a.clear(),this._abs.length=this._final.length=this._run.length=0,this.actions.forEach(function(f){f.vars.animate&&f.vars.animate(f);var h=f.vars.onEnter,m=f.vars.onLeave,x=f.targets,y,w;x&&x.length&&(h||m)&&(y=new vr,f.states.forEach(function(v){return y.add(v)}),w=y.compare(ka.getState(x)),w.enter.length&&h&&h(w.enter),w.leave.length&&m&&m(w.leave))}),y6(this._abs),this._run.forEach(function(f){return f()}),p=a.duration(),u=this._final.slice(0),a.add(function(){p<=a.time()&&(u.forEach(function(f){return f()}),W2(r,"onComplete"))}),ot=o;c--;)this.actions[c].vars.once&&this.actions[c].kill();return W2(this,"onStart"),a.restart(),this},t.loadState=function(r){r||(r=function(){return 0});var o=[];return this.actions.forEach(function(a){if(a.vars.loadState){var c,u=function p(f){f&&(a.targets=f),c=o.indexOf(p),~c&&(o.splice(c,1),o.length||r())};o.push(u),a.vars.loadState(u)}}),o.length||r(),this},t.setState=function(){return this.actions.forEach(function(r){return r.targets=r.vars.setState&&r.vars.setState(r)}),this},t.killConflicts=function(r){return this.state.interrupt(r),this._kill.forEach(function(o){return o.interrupt(r)}),this},t.run=function(r,o){var a=this;return this!==ot&&(r||this.getState(o),this.loadState(function(){a._killed||(a.setState(),a.animate())})),this},t.clear=function(r){this.state.clear(),r||(this.actions.length=0)},t.getStateById=function(r){for(var o=this.actions.length,a;o--;)if(a=this.actions[o].getStateById(r),a)return a;return this.state.idLookup[r]&&this.state},t.kill=function(){this._killed=1,this.clear(),delete pg[this.id]},e})(),ka=(function(){function e(){}return e.getState=function(n,r){var o=mm(n,r);return Rl&&Rl.states.push(o),r&&r.batch&&e.batch(r.batch).state.add(o),o},e.from=function(n,r){return r=r||{},"clearProps"in r||(r.clearProps=!0),vm(n,mm(r.targets||n.targets,{props:r.props||n.props,simple:r.simple,kill:!!r.kill}),r,-1)},e.to=function(n,r){return vm(n,mm(r.targets||n.targets,{props:r.props||n.props,simple:r.simple,kill:!!r.kill}),r,1)},e.fromTo=function(n,r,o){return vm(n,r,o)},e.fit=function(n,r,o){var a=o?Ji(o,g6):{},c=o||a,u=c.absolute,p=c.scale,f=c.getVars,h=c.props,m=c.runBackwards,x=c.onComplete,y=c.simple,w=o&&o.fitChild&&Al(o.fitChild),v=hg(r,h,y,n),C=hg(n,0,y,v),k=h?If[h]:Mf,E=Gt.context();return h&&w6(a,v.props),rc(C,k),m&&("immediateRender"in a||(a.immediateRender=!0),a.onComplete=function(){Wd(C),x&&x.apply(this,arguments)}),u&&B1(C,v),a=aa(C,v,p||w,!a.duration&&h,w,a.duration||f?a:0),typeof o=="object"&&"zIndex"in o&&(a.zIndex=o.zIndex),E&&!f&&E.add(function(){return function(){return Wd(C)}}),f?a:a.duration?Gt.to(C.element,a):null},e.makeAbsolute=function(n,r){return(n instanceof vr?n:new vr(n,r)).makeAbsolute()},e.batch=function(n){return n||(n="default"),pg[n]||(pg[n]=new gF(n))},e.killFlipsOf=function(n,r){(n instanceof vr?n.targets:Ca(n)).forEach(function(o){return o&&V1(o._flip,r!==!1?1:2)})},e.isFlipping=function(n){var r=e.getByTarget(n);return!!r&&r.isActive()},e.getByTarget=function(n){return(Al(n)||Vd)._flip},e.getElementState=function(n,r){return new ci(Al(n),r)},e.convertCoordinates=function(n,r,o){var a=qr(r,!0,!0).multiply(qr(n));return o?a.apply(o):a},e.register=function(n){if(rs=typeof document<"u"&&document.body,rs){Gt=n,A1(rs),Ca=Gt.utils.toArray,fg=Gt.core.getStyleSaver;var r=Gt.utils.snap(.1);yo=function(a,c){return r(parseFloat(a)+c)}}},e})();ka.version="3.14.2";typeof window<"u"&&window.gsap&&window.gsap.registerPlugin(ka);const xF="/assets/5efd1d1168ada3e6326fdf19d94c03a713ba677b-BHZ2ofVB.png",vF="/assets/427ddd34e517e3752ac06a4505e101313cc6804a-ChLVer3o.png",yF="/assets/retro-fingerheart-CYAHOliH.webp",wF="/assets/dramatic-wide-angle-Ckms53lh.jpeg";d6.registerPlugin(ka);const _F=({onSwitchToEditor:e})=>{const{setPrompt:t}=jt(),{importWorkflow:n}=jt(),{language:r,t:o}=rn(),[a,c]=b.useState(o("all")),[u,p]=b.useState("recent"),[f,h]=b.useState(()=>typeof window<"u"&&localStorage.getItem("inspiration-grid-size")||"100%"),[m,x]=b.useState(!1),[y,w]=b.useState(null),[v,C]=b.useState(null),[k,E]=b.useState(1),N=b.useRef(null);b.useLayoutEffect(()=>{if(y&&N.current){const{state:W}=y;ka.from(W,{absolute:!0,duration:.6,ease:"expo.inOut",onComplete:()=>{x(!1)},stagger:{amount:.15,from:"random"}}),w(null)}},[f,y]);const j=[{id:"1",title:"",category:"",description:"",thumbnail:H_,prompt:{zh:"",en:"Professional portrait photography workflow with complete shooting setup and post-processing"},nodes:[{id:"node-1",type:"imageEditor",position:{x:100,y:100},data:{label:"Image Editor",prompt:"Professional portrait photography, studio lighting setup, 85mm lens, f/2.8 aperture, ISO 100, natural lighting setup",preset:"imagen-3",mode:"",steps:4}},{id:"node-2",type:"preview",position:{x:500,y:100},data:{label:"Preview"}}],edges:[{id:"edge-1",source:"node-1",target:"node-2",animated:!0,type:"deletable"}]},{id:"2",title:"",category:"",description:"",thumbnail:W_,prompt:{zh:"",en:"Commercial product photography workflow with product display, lighting setup and post-processing"},nodes:[{id:"node-1",type:"imageEditor",position:{x:100,y:100},data:{label:"Image Editor",prompt:"Commercial product photography, studio lighting, white background, 50mm lens, f/8 aperture, ISO 200",preset:"imagen-3",mode:"",steps:4}},{id:"node-2",type:"preview",position:{x:500,y:100},data:{label:"Preview"}}],edges:[{id:"edge-1",source:"node-1",target:"node-2",animated:!0,type:"deletable"}]},{id:"3",title:"",category:"",description:"",thumbnail:U_,prompt:{zh:"",en:"Landscape photography workflow with natural lighting, color adjustment and composition optimization"},nodes:[{id:"node-1",type:"imageEditor",position:{x:100,y:100},data:{label:"Image Editor",prompt:"Landscape photography, golden hour lighting, wide angle lens, f/11 aperture, ISO 100, vivid colors",preset:"imagen-3",mode:"",steps:4}},{id:"node-2",type:"preview",position:{x:500,y:100},data:{label:"Preview"}}],edges:[{id:"edge-1",source:"node-1",target:"node-2",animated:!0,type:"deletable"}]},{id:"4",title:"",category:"",description:"",thumbnail:G_,prompt:{zh:"",en:"Fashion photography workflow with fashion shooting, color management and style editing"},nodes:[{id:"node-1",type:"imageEditor",position:{x:100,y:100},data:{label:"Image Editor",prompt:"Fashion photography, studio lighting, 85mm lens, f/2.8 aperture, ISO 200, vibrant colors",preset:"imagen-3",mode:"",steps:4}},{id:"node-2",type:"preview",position:{x:500,y:100},data:{label:"Preview"}}],edges:[{id:"edge-1",source:"node-1",target:"node-2",animated:!0,type:"deletable"}]},{id:"5",title:"3D",category:"",description:"3D3D",thumbnail:xF,prompt:{zh:"3D3D",en:"3D rendering workflow with 3D modeling, material settings and rendering parameters"},nodes:[{id:"node-1",type:"imageEditor",position:{x:100,y:100},data:{label:"Image Editor",prompt:"3D rendering, high quality, 4K resolution, realistic materials, ambient lighting",preset:"imagen-3",mode:"",steps:4}},{id:"node-2",type:"preview",position:{x:500,y:100},data:{label:"Preview"}}],edges:[{id:"edge-1",source:"node-1",target:"node-2",animated:!0,type:"deletable"}]},{id:"6",title:"",category:"",description:"",thumbnail:vF,prompt:{zh:"",en:"Abstract art creation workflow with creative composition, color experimentation and artistic effects"},nodes:[{id:"node-1",type:"imageEditor",position:{x:100,y:100},data:{label:"Image Editor",prompt:"Abstract art, geometric shapes, bold colors, minimalist composition, high contrast",preset:"imagen-3",mode:"",steps:4}},{id:"node-2",type:"preview",position:{x:500,y:100},data:{label:"Preview"}}],edges:[{id:"edge-1",source:"node-1",target:"node-2",animated:!0,type:"deletable"}]}],P=[{id:"1",title:"",category:"",prompt:{zh:"85mmf/2.8ISO 100",en:"Professional portrait, soft natural light, 85mm lens, f/2.8 aperture, ISO 100, blurred background"},tags:["","",""]},{id:"2",title:"",category:"",prompt:{zh:"50mmf/8ISO 200",en:"Commercial product photography, white background, 50mm lens, f/8 aperture, ISO 200, centered product"},tags:["","",""]},{id:"3",title:"",category:"",prompt:{zh:"f/11ISO 100",en:"Landscape photography, golden hour lighting, wide angle lens, f/11 aperture, ISO 100, vivid colors"},tags:["","",""]},{id:"4",title:"",category:"",prompt:{zh:"85mmf/2.8ISO 200",en:"Fashion photography, studio lighting, 85mm lens, f/2.8 aperture, ISO 200, vibrant colors"},tags:["","",""]},{id:"5",title:"3D",category:"",prompt:{zh:"3D4K",en:"3D rendering, high quality, 4K resolution, realistic materials, ambient lighting"},tags:["3D","",""]},{id:"6",title:"",category:"",prompt:{zh:"",en:"Abstract art, geometric shapes, bold colors, minimalist composition, high contrast"},tags:["","",""]},{id:"7",title:"90",category:"",thumbnail:yF,prompt:{zh:"904:5K-popY2K/90Superia 800",en:"90s lo-fi film portrait with panning motion, 4:5 aspect ratio, film simulation. Young cute Korean K-pop idol, gentle warm smile, small finger heart gesture by cheek. Oversized vintage colorful knit cardigan, Y2K/90s cozy retro cute style. Large vintage wall mirror with cute stickers and polaroid photos. Direct on-camera flash, sharp flash shadows, visible horizontal motion blur. Fuji Superia 800 film effect, noticeable film grain, lo-fi warm green tones."},tags:["","90",""]},{id:"8",title:"",category:"",thumbnail:wF,prompt:{zh:"",en:"Transform the original photo into a dramatic, realistic, ultra-wide angle shot with extreme camera angles (including views from directly below or above), where one or more body parts are close to the lens and appear massive, the rest of the body recedes in perspective, and the same person strikes a stylish, sophisticated, powerful pose in a consistent, expanded version of the original environment."},tags:["","",""]}];o("all"),o("people"),o("scenes"),o("styles"),o("tech");const L=j.filter(W=>a===o("all")||W.category===a),T=P.filter(W=>a===o("all")||W.category===a),$=(()=>{switch(f){case"100%":return"400px";case"125%":return"320px";case"150%":return"260px";default:return"320px"}})(),Y=W=>{try{n(W),e(),ve.success(o("workflow_template_imported"))}catch(z){console.error("Failed to import workflow:",z),ve.error(o("workflow_import_failed"))}},G=W=>{try{t(W),e(),ve.success(o("prompt_applied"))}catch(z){console.error("Failed to use prompt:",z),ve.error(o("prompt_apply_failed"))}},V=W=>{if(m)return;const z=W.currentTarget.dataset.size;if(!z||z===f)return;x(!0);const M=document.querySelectorAll(".workflow-item, .prompt-item"),F=ka.getState(M);w({state:F}),h(z),localStorage.setItem("inspiration-grid-size",z)};return l.jsxs("div",{className:"absolute inset-0 top-[64px] bg-background overflow-y-auto p-6",children:[l.jsxs("div",{className:"max-w-7xl mx-auto mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:o("inspiration_library")}),l.jsx("p",{className:"text-muted-foreground text-base",children:o("explore_prompts")})]}),l.jsx("div",{className:"max-w-5xl mx-auto mb-6",children:l.jsxs("div",{className:"flex items-start md:items-center gap-5",style:{width:"100%",height:"36px"},children:[l.jsxs("div",{className:"flex flex-grow items-center gap-4",children:[l.jsx("button",{onClick:()=>c(o("all")),className:Te("px-2 py-1 font-medium transition-all",a===o("all")?"text-foreground":"text-muted-foreground hover:text-foreground"),style:{fontSize:"17px",fontWeight:500,lineHeight:"20px"},children:o("all")}),l.jsx("button",{onClick:()=>c(o("people")),className:Te("px-2 py-1 font-medium transition-all",a===o("people")?"text-foreground":"text-muted-foreground hover:text-foreground"),style:{fontSize:"17px",fontWeight:500,lineHeight:"20px"},children:o("people")}),l.jsx("button",{onClick:()=>c(o("scenes")),className:Te("px-2 py-1 font-medium transition-all",a===o("scenes")?"text-foreground":"text-muted-foreground hover:text-foreground"),style:{fontSize:"17px",fontWeight:500,lineHeight:"20px"},children:o("scenes")}),l.jsx("button",{onClick:()=>c(o("styles")),className:Te("px-2 py-1 font-medium transition-all",a===o("styles")?"text-foreground":"text-muted-foreground hover:text-foreground"),style:{fontSize:"17px",fontWeight:500,lineHeight:"20px"},children:o("styles")}),l.jsx("button",{onClick:()=>c(o("tech")),className:Te("px-2 py-1 font-medium transition-all",a===o("tech")?"text-foreground":"text-muted-foreground hover:text-foreground"),style:{fontSize:"17px",fontWeight:500,lineHeight:"20px"},children:o("tech")})]}),l.jsxs("div",{className:"flex gap-2 bg-card rounded-full p-1",children:[l.jsx("button",{onClick:()=>p("recent"),className:Te("px-5 py-2 rounded-full font-medium transition-all",u==="recent"?"bg-white text-foreground":"bg-white/40 text-muted-foreground hover:text-foreground"),style:{fontSize:"17px",fontWeight:500,lineHeight:"20px"},children:o("recent")}),l.jsx("button",{onClick:()=>p("favorite"),className:Te("px-5 py-2 rounded-full font-medium transition-all",u==="favorite"?"bg-white text-foreground":"bg-white/40 text-muted-foreground hover:text-foreground"),style:{fontSize:"17px",fontWeight:500,lineHeight:"20px"},children:o("favorites")})]}),l.jsxs("div",{className:"flex gap-2 bg-card rounded-full p-1",children:[l.jsx("button",{"data-size":"100%",onClick:W=>V(W),className:Te("px-5 py-2 rounded-full font-medium transition-all",f==="100%"?"bg-white text-foreground":"bg-white/40 text-muted-foreground hover:text-foreground"),style:{fontSize:"17px",fontWeight:500,lineHeight:"20px"},children:o("large")}),l.jsx("button",{"data-size":"125%",onClick:W=>V(W),className:Te("px-5 py-2 rounded-full font-medium transition-all",f==="125%"?"bg-white text-foreground":"bg-white/40 text-muted-foreground hover:text-foreground"),style:{fontSize:"17px",fontWeight:500,lineHeight:"20px"},children:o("medium")}),l.jsx("button",{"data-size":"150%",onClick:W=>V(W),className:Te("px-5 py-2 rounded-full font-medium transition-all",f==="150%"?"bg-white text-foreground":"bg-white/40 text-muted-foreground hover:text-foreground"),style:{fontSize:"17px",fontWeight:500,lineHeight:"20px"},children:o("small")})]})]})}),l.jsx("section",{className:"max-w-5xl mx-auto flex flex-wrap gap-5 justify-start mt-6 mb-8",ref:N,"data-size-grid":f,children:L.length===0?l.jsxs("div",{className:"text-center py-20 text-muted-foreground",children:[l.jsx("div",{className:"mb-4 opacity-50",children:l.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M12 16V12M12 8H12.01M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:o("no_workflow_templates")}),l.jsx("p",{className:"text-sm",children:o("try_other_category")})]}):l.jsx(l.Fragment,{children:L.map(W=>l.jsx("div",{className:"workflow-item group cursor-pointer",style:{width:$},children:l.jsxs("div",{className:"bg-card rounded-[20px] border border-border overflow-hidden shadow-sm hover:shadow-md transition-all duration-300",children:[W.thumbnail&&l.jsxs("div",{className:"relative w-full h-[160px] overflow-hidden cursor-pointer",onClick:()=>{C({src:W.thumbnail,alt:W.title}),E(1)},children:[l.jsx("img",{src:W.thumbnail,alt:W.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent"})]}),l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsx("h3",{className:"text-sm font-semibold text-foreground",children:W.title}),l.jsx("span",{className:"px-3 py-1 bg-secondary/50 text-xs font-medium text-muted-foreground rounded-full border border-border",children:W.category})]}),l.jsx("div",{className:"mb-3",children:l.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 leading-relaxed",children:r==="zh"?W.description:W.prompt.en})}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{onClick:()=>Y(W),className:"px-3 py-1.5 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-all flex items-center gap-1 font-medium text-xs shadow-sm hover:shadow",children:[l.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),l.jsx("span",{className:"whitespace-nowrap",children:o("import_workflow")})]})})]})]})},W.id))})}),l.jsx("section",{className:"max-w-5xl mx-auto flex flex-wrap gap-5 justify-start mt-8",ref:N,"data-size-grid":f,children:T.length===0?l.jsxs("div",{className:"text-center py-20 text-muted-foreground",children:[l.jsx("div",{className:"mb-4 opacity-50",children:l.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M12 16V12M12 8H12.01M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:o("no_prompt_presets")}),l.jsx("p",{className:"text-sm",children:o("try_other_category")})]}):l.jsx(l.Fragment,{children:T.map(W=>l.jsx("div",{className:"prompt-item group cursor-pointer",style:{width:$},children:l.jsxs("div",{className:"bg-card rounded-[20px] border border-border overflow-hidden shadow-sm hover:shadow-md transition-all duration-300",children:[W.thumbnail&&l.jsxs("div",{className:"relative w-full h-[160px] overflow-hidden cursor-pointer",onClick:()=>{C({src:W.thumbnail,alt:W.title}),E(1)},children:[l.jsx("img",{src:W.thumbnail,alt:W.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent"})]}),l.jsxs("div",{className:"p-4",children:[l.jsx("h3",{className:"text-sm font-semibold text-foreground mb-2 line-clamp-1",children:W.title}),l.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:W.tags.map((z,M)=>l.jsx("span",{className:"px-2 py-1 bg-secondary/50 text-xs font-medium text-muted-foreground rounded-full border border-border",children:z},M))}),l.jsx("div",{className:"mb-3",children:l.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 leading-relaxed",children:r==="zh"?W.prompt.zh:W.prompt.en})}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{onClick:()=>G(r==="zh"?W.prompt.zh:W.prompt.en),className:"px-3 py-1.5 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-all flex items-center gap-1 font-medium text-xs shadow-sm hover:shadow",children:[l.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),l.jsx("span",{children:r==="zh"?"":"Use"})]})})]})]})},W.id))})}),v&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm cursor-pointer overflow-hidden",onClick:()=>{C(null),E(1)},onWheel:W=>{W.preventDefault(),W.stopPropagation();const z=W.deltaY>0?-.1:.1;E(M=>Math.min(Math.max(M+z,.5),5))},children:l.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] mx-4",children:[l.jsx("button",{onClick:W=>{W.stopPropagation(),C(null),E(1)},className:"absolute -top-10 right-0 p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors",children:l.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),l.jsxs("div",{className:"text-white/60 text-sm mb-2 text-center",children:[r==="zh"?"":"Scroll to zoom"," | ",Math.round(k*100),"%"]}),l.jsx("img",{src:v.src,alt:v.alt,className:"max-w-full max-h-[85vh] object-contain rounded-lg cursor-pointer transition-transform duration-100",style:{transform:`scale(${k})`},onClick:W=>{W.stopPropagation()},draggable:!1})]})})]})};var bF=(e,t,n,r,o,a,c,u)=>{let p=document.documentElement,f=["light","dark"];function h(y){(Array.isArray(e)?e:[e]).forEach(w=>{let v=w==="class",C=v&&a?o.map(k=>a[k]||k):o;v?(p.classList.remove(...C),p.classList.add(a&&a[y]?a[y]:y)):p.setAttribute(w,y)}),m(y)}function m(y){u&&f.includes(y)&&(p.style.colorScheme=y)}function x(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)h(r);else try{let y=localStorage.getItem(t)||n,w=c&&y==="system"?x():y;h(w)}catch{}},CF=b.createContext(void 0),kF={setTheme:e=>{},themes:[]},NF=()=>{var e;return(e=b.useContext(CF))!=null?e:kF};b.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:o,defaultTheme:a,value:c,themes:u,nonce:p,scriptProps:f})=>{let h=JSON.stringify([n,t,a,e,u,c,r,o]).slice(1,-1);return b.createElement("script",{...f,suppressHydrationWarning:!0,nonce:typeof window>"u"?p:"",dangerouslySetInnerHTML:{__html:`(${bF.toString()})(${h})`}})});const SF=({...e})=>{const{theme:t="system"}=NF();return l.jsx(sP,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})};function jF(){const[e,t]=b.useState(()=>localStorage.getItem(At.CURRENT_VIEW)||"editor");return b.useEffect(()=>{localStorage.setItem(At.CURRENT_VIEW,e)},[e]),l.jsx(PE,{children:l.jsx(iP,{children:l.jsx(jE,{children:l.jsx(LE,{children:l.jsxs("div",{className:"w-screen h-screen relative bg-background overflow-hidden",children:[l.jsx(nz,{currentView:e,onViewChange:t}),e==="editor"?l.jsxs("div",{className:"absolute inset-0 z-0",style:{backgroundColor:"#f1f4ff"},children:[l.jsx(RD,{}),l.jsx(JI,{})]}):e==="creation"?l.jsx(AD,{onSwitchToEditor:()=>t("editor")}):e==="assets"?l.jsx(DD,{onSwitchToEditor:()=>t("editor")}):l.jsx(_F,{onSwitchToEditor:()=>t("editor")}),l.jsx(SF,{})]})})})})})}c7.createRoot(document.getElementById("root")).render(l.jsx(jF,{}));
